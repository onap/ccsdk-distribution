[
    {
        "id": "8f6bbd32.2e1fc",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='delete-neighbor' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 152.01040649414062,
        "y": 280.0104064941406,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "9d8eae2c.c98b4"
            ]
        ]
    },
    {
        "id": "7cc1ba3.0ded644",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 172.01041221618652,
        "y": 82.01042938232422,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "3f1f6894.c773d8"
            ]
        ]
    },
    {
        "id": "3f1f6894.c773d8",
        "type": "service-logic",
        "name": "oofpcipoc-api 0.4.2-SNAPSHOT",
        "module": "oofpcipoc-api",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='oofpcipoc-api' version='0.4.2-SNAPSHOT'>",
        "outputs": 1,
        "x": 173.0103988647461,
        "y": 164.0105266571045,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "8f6bbd32.2e1fc"
            ]
        ]
    },
    {
        "id": "9d8eae2c.c98b4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 138.5000114440918,
        "y": 475.0104675292969,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "f3ffc042.30165",
                "9549fa66.052c98",
                "1377597c.adf1a7",
                "d8359a96.3b95b8",
                "153414fd.ef7b4b",
                "ce502c9f.ad136"
            ]
        ]
    },
    {
        "id": "f3ffc042.30165",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"SUCCESSFUL add-neighbor Execution\" />\n",
        "comments": "",
        "x": 409.0106658935547,
        "y": 622.0105447769165,
        "z": "d658c648.5b71e8",
        "wires": []
    },
    {
        "id": "444ce01a.b540b",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/delete-neighbor.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Input RPC Payload request for Alias:  \"/>\n<parameter name=\"field2\" value=\"`$delete-neighbor-input.alias`\"/>\n<parameter name=\"field3\" value=\"Input RPC Payload request for delete-neighbor. Neighbor Cell #:  \"/>\n<parameter name=\"field4\" value=\"`$idx`\"/>\n<parameter name=\"field5\" value=\"`$delete-neighbor-input.lte-ran-neighbor-list-in-use-lte-cell[$idx].plmnid`\"/>\n<parameter name=\"field6\" value=\"`$delete-neighbor-input.lte-ran-neighbor-list-in-use-lte-cell[$idx].cid`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 721.0113067626953,
        "y": 59.01047992706299,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "a47d97a9.fdacf8",
        "type": "comment",
        "name": "Delete neighbor",
        "info": "",
        "comments": "",
        "x": 375.0104122161865,
        "y": 42.020843505859375,
        "z": "d658c648.5b71e8",
        "wires": []
    },
    {
        "id": "ae098383.f8ea2",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/delete-neighbor.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Setting variables for Neighbor Add PUT operation\"/>\n<parameter name=\"field2\" value=\"`$tmp.add-neighbor-service-url`\"/>\n<parameter name=\"field3\" value=\"`$tmp.plmnid`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cid`\"/>\n<parameter name=\"field5\" value=\"`$tmp.phy-cell-id`\"/>\n<parameter name=\"field6\" value=\"`$tmp.pnf-name`\"/>\n<parameter name=\"field7\" value=\"`$tmp.blacklisted`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 620.0113906860352,
        "y": 481.02094173431396,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "1377597c.adf1a7",
        "type": "for",
        "name": "for",
        "xml": "<for index='idx' start='0' end=\"`$delete-neighbor-input.lte-cell-number-of-entries`\" >",
        "comments": "",
        "outputs": 1,
        "x": 570.0961799621582,
        "y": 66.97401714324951,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "444ce01a.b540b"
            ]
        ]
    },
    {
        "id": "9549fa66.052c98",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/delete-neighbor.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RPC to delete neighbors. Number of neighbors to delete: \"/>\n<parameter name=\"field2\" value=\"`$delete-neighbor-input.lte-cell-number-of-entries`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 391.0107192993164,
        "y": 107.03127384185791,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "ce502c9f.ad136",
        "type": "for",
        "name": "for",
        "xml": "<for index='idx' start='0' end=\"`$delete-neighbor-input.lte-cell-number-of-entries`\" >",
        "comments": "",
        "outputs": 1,
        "x": 327.01058769226074,
        "y": 476.02083015441895,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "4661d468.e207dc"
            ]
        ]
    },
    {
        "id": "a874a6b4.cbe028",
        "type": "set",
        "name": "set tmp variables for the requested neighbor to be added",
        "xml": "<set>\n<parameter name=\"tmp.plmnid\" value=\"`$delete-neighbor-input.lte-ran-neighbor-list-in-use-lte-cell[$idx].plmnid`\"/>\n<parameter name=\"tmp.cid\" value=\"`$delete-neighbor-input.lte-ran-neighbor-list-in-use-lte-cell[$idx].cid`\"/>\n<parameter name=\"tmp.alias\" value=\"`$delete-neighbor-input.alias`\"/>",
        "comments": "",
        "x": 880.0115661621094,
        "y": 147.90992736816406,
        "z": "d658c648.5b71e8",
        "wires": []
    },
    {
        "id": "17cdca86.1a45e5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 882.0107955932617,
        "y": 465.0209321975708,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "b18e1fe5.42e1a"
            ]
        ]
    },
    {
        "id": "be22f91c.ecdaf8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 896.0107116699219,
        "y": 583.0208921432495,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "ba4bdf26.a25c6"
            ]
        ]
    },
    {
        "id": "b18e1fe5.42e1a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1036.0107460021973,
        "y": 435.0209712982178,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "d552d127.0b1b9"
            ]
        ]
    },
    {
        "id": "d552d127.0b1b9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error adding a new neighbor\" />",
        "comments": "",
        "x": 1223.0103797912598,
        "y": 417.02092361450195,
        "z": "d658c648.5b71e8",
        "wires": []
    },
    {
        "id": "ba4bdf26.a25c6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1066.010498046875,
        "y": 568.020932674408,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "b46d635a.d09bb"
            ]
        ]
    },
    {
        "id": "b46d635a.d09bb",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/delete-neighbor.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"DELETE Neighbor Executed Successfully \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1250.0105171203613,
        "y": 553.020959854126,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "4661d468.e207dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 407.0104064941406,
        "y": 414.0313243865967,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "a874a6b4.cbe028",
                "ae098383.f8ea2",
                "5e9335be.02848c",
                "c257d0f0.4516e",
                "895e37be.280c78",
                "fcb1c157.9d704",
                "e65af91d.2ad1c8",
                "2683298a.19da16",
                "1766bd3c.fe21d3"
            ]
        ]
    },
    {
        "id": "d8359a96.3b95b8",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/sdnr-oofpcipoc-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 616.0106582641602,
        "y": 113.03125762939453,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "153414fd.ef7b4b",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/add-neighbor.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Properties read .. neighbor-add template\"/>\n<parameter name=\"field2\" value=\"`$prop.neighbor-add.templatefile`\"/>\n<parameter name=\"field3\" value=\"`$prop.controller.user`\"/>\n<parameter name=\"field4\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"field5\" value=\"`$prop.controller.url`\"/>\n<parameter name=\"field6\" value=\"`$prop.restapi.lte-ran-neighbor-in-use`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 576.0107860565186,
        "y": 163.03136157989502,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "5e9335be.02848c",
        "type": "execute",
        "name": "generate neighbor add URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.lte-ran-neighbor-in-use`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.add-neighbor-service-url\"/>\n    <parameter name=\"target\" value=\"{alias}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.alias`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 815.0109405517578,
        "y": 239.03140926361084,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "c257d0f0.4516e",
        "type": "execute",
        "name": "delete a neighbor using DELETE",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.add-neighbor-service-url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"DELETE\"/>\n<parameter name=\"responsePrefix\" value=\"oofpci-delete-neighbor-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 642.0108261108398,
        "y": 545.0314388275146,
        "z": "d658c648.5b71e8",
        "wires": [
            [
                "17cdca86.1a45e5",
                "be22f91c.ecdaf8"
            ]
        ]
    },
    {
        "id": "da297c37.82f9f",
        "type": "execute",
        "name": "Recofigure PCI for a Cell",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/oofpcipoc-pci-patch.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.oofpcipoc.patch.pci.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"oofpci-patch-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' /> \n<parameter name='accept' value='application/yang.patch-status+json' />",
        "comments": "",
        "outputs": 1,
        "x": 849.0104370117188,
        "y": 817.0312805175781,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "895e37be.280c78",
        "type": "execute",
        "name": "execute slipluginutils",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.add-neighbor-service-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.add-neighbor-service-url\"/>\n    <parameter name=\"target\" value=\"{plmnid}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.plmnid`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 854.010627746582,
        "y": 326.03124618530273,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "fcb1c157.9d704",
        "type": "execute",
        "name": "execute slipluginutils",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.add-neighbor-service-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.add-neighbor-service-url\"/>\n    <parameter name=\"target\" value=\"{cid}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cid`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 682.0105743408203,
        "y": 421.0312490463257,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "e65af91d.2ad1c8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/delete-neighbor.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Add Neighbor List URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.add-neighbor-service-url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 768.0105056762695,
        "y": 279.03124713897705,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "2683298a.19da16",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/delete-neighbor.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Add Neighbor List URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.add-neighbor-service-url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 795.0104637145996,
        "y": 369.0312476158142,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "1766bd3c.fe21d3",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/delete-neighbor.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Temporary variable for Neighbor Cell #:  \"/>\n<parameter name=\"field2\" value=\"`$idx`\"/>\n<parameter name=\"field3\" value=\"`$tmp.plmnid`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cid`\"/>\n<parameter name=\"field5\" value=\"`$tmp.alias`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 764.0104827880859,
        "y": 195.031268119812,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    },
    {
        "id": "4452b556.b1699c",
        "type": "execute",
        "name": "delete a neighbor using DELETE",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/oofpcipoc-deleteNeighbor.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.add-neighbor-service-url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"DELETE\"/>\n<parameter name=\"responsePrefix\" value=\"oofpci-delete-neighbor-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 665.0104370117188,
        "y": 656.0104370117188,
        "z": "d658c648.5b71e8",
        "wires": [
            []
        ]
    }
]
