[
    {
        "id": "d6602fb5.c4aef",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='instantiateRANSliceReconfigure-cps' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 309.00003814697266,
        "y": 231.00003242492676,
        "z": "513be127.a07bb",
        "wires": [
            [
                "c0ce3b5e.0a7f68"
            ]
        ]
    },
    {
        "id": "b1aed66e.3907e8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 106,
        "y": 120.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "1cc088f6.ffc537"
            ]
        ]
    },
    {
        "id": "1cc088f6.ffc537",
        "type": "service-logic",
        "name": "ran-slice-api ${project.version}",
        "module": "ran-slice-api",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='ran-slice-api' version='${project.version}'>",
        "outputs": 1,
        "x": 351.9999694824219,
        "y": 121.0000867843628,
        "z": "513be127.a07bb",
        "wires": [
            [
                "d6602fb5.c4aef"
            ]
        ]
    },
    {
        "id": "8e70ca46.af1408",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final\" value=\"N\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"SUCCESSFUL Execution\" />",
        "comments": "",
        "x": 303.4896240234375,
        "y": 2157.0003185272217,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "e05b60e5.f67af",
        "type": "comment",
        "name": "instantiateRANSliceReconfigure-cps",
        "info": "",
        "comments": "",
        "x": 403,
        "y": 32.01041030883789,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "c0ce3b5e.0a7f68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 212.99996948242188,
        "y": 338.0104103088379,
        "z": "513be127.a07bb",
        "wires": [
            [
                "8e70ca46.af1408",
                "91cb59dd.897498",
                "776f8f52.2fc88",
                "3270fb38.1945b4"
            ]
        ]
    },
    {
        "id": "dbb9b1f6.7e3ab",
        "type": "execute",
        "name": "add RRM Policy ToNRCellDU using PUT",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-add-RRMPolicyRatio-NRCellDU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.addRRMPolicyRatio.ToNRCellDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"addRRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3979.989906311035,
        "y": 7759.020887136459,
        "z": "513be127.a07bb",
        "wires": [
            [
                "33306451.5c967c"
            ]
        ]
    },
    {
        "id": "33306451.5c967c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4316.989784240723,
        "y": 7785.010389089584,
        "z": "513be127.a07bb",
        "wires": [
            [
                "22cecf95.6c0e2"
            ]
        ]
    },
    {
        "id": "22cecf95.6c0e2",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4496.989540100098,
        "y": 7782.010389089584,
        "z": "513be127.a07bb",
        "wires": [
            [
                "8b1bbb36.3f1448"
            ]
        ]
    },
    {
        "id": "8b1bbb36.3f1448",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"addRRMPolicyRatio to NRCELLDU Executed Successfully \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4645.989841461182,
        "y": 7808.010581731796,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "3270fb38.1945b4",
        "type": "block",
        "name": "SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 332.75,
        "y": 2107.2646474838257,
        "z": "513be127.a07bb",
        "wires": [
            [
                "8992ae62.69d3",
                "8e2bdda.a68132",
                "8d7fc622.f49e38",
                "8a21bd26.48ec8"
            ]
        ]
    },
    {
        "id": "8992ae62.69d3",
        "type": "record",
        "name": "record SO reply parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$payloadJson.input.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />\n<parameter name='field7' value=\"`$tmp.CUCPList`\" />\n<parameter name='field8' value=\"`$tmp.CUUPList`\" />\n<parameter name='field9' value=\"`$tmp.DUList`\" />",
        "comments": "",
        "outputs": 1,
        "x": 734.9999923706055,
        "y": 2225.0149488449097,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "660ad5bc.6baf9c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 873.0000686645508,
        "y": 2288.0147609710693,
        "z": "513be127.a07bb",
        "wires": [
            [
                "f22f7504.d07b98"
            ]
        ]
    },
    {
        "id": "b50f3ab5.795e38",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 864.9999618530273,
        "y": 2361.014711380005,
        "z": "513be127.a07bb",
        "wires": [
            [
                "c541222c.c407f"
            ]
        ]
    },
    {
        "id": "c541222c.c407f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1010.9998054504395,
        "y": 2366.014820098877,
        "z": "513be127.a07bb",
        "wires": [
            [
                "a9368725.2ff1f8"
            ]
        ]
    },
    {
        "id": "f22f7504.d07b98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1021.9999694824219,
        "y": 2284.0148963928223,
        "z": "513be127.a07bb",
        "wires": [
            [
                "c9757bfc.6cf938",
                "b199d8d3.cd2748"
            ]
        ]
    },
    {
        "id": "c9757bfc.6cf938",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 1190.9996032714844,
        "y": 2285.0146522521973,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "a9368725.2ff1f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1191.9997253417969,
        "y": 2370.0146522521973,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "9d694bfa.b7a508",
        "type": "block",
        "name": "block : SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3995.491096496582,
        "y": 1225.0105800628662,
        "z": "513be127.a07bb",
        "wires": [
            [
                "9273994c.c62b98",
                "b2e7a97c.481118",
                "41e8b2c3.b73c6c"
            ]
        ]
    },
    {
        "id": "9273994c.c62b98",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.so.callbackURL\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiateRANSlice-input.common-header.request-id`\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiateRANSlice-input.action`\"/>\n",
        "comments": "",
        "x": 4280.492385864258,
        "y": 1028.9102878570557,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "b2e7a97c.481118",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$tmp.so.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />\n<parameter name='field7' value=\"`$tmp.CUCPList`\" />\n<parameter name='field8' value=\"`$tmp.CUUPList`\" />\n<parameter name='field9' value=\"`$tmp.DUList`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4295.491073608398,
        "y": 1122.0109577178955,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "41e8b2c3.b73c6c",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$tmp.so.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />",
        "comments": "",
        "outputs": 1,
        "x": 4259.491081237793,
        "y": 1245.0107975006104,
        "z": "513be127.a07bb",
        "wires": [
            [
                "6aa19133.f344a",
                "2a74f603.510b9a"
            ]
        ]
    },
    {
        "id": "6aa19133.f344a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4467.490700721741,
        "y": 1245.0107460021973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "3a4e2e27.931632"
            ]
        ]
    },
    {
        "id": "2a74f603.510b9a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4467.490570068359,
        "y": 1309.0107460021973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "35c7e88.0f17218"
            ]
        ]
    },
    {
        "id": "35c7e88.0f17218",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4613.490570068359,
        "y": 1308.0107460021973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "2da75fc5.a393e"
            ]
        ]
    },
    {
        "id": "3a4e2e27.931632",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4618.490570068359,
        "y": 1245.0108680725098,
        "z": "513be127.a07bb",
        "wires": [
            [
                "f5818b99.320de8"
            ]
        ]
    },
    {
        "id": "f5818b99.320de8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 4780.490081787109,
        "y": 1245.0107460021973,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "2da75fc5.a393e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4779.490570068359,
        "y": 1307.0107460021973,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "b199d8d3.cd2748",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error sending SO response. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1182.5102233886719,
        "y": 2243.0041542053223,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "8d7fc622.f49e38",
        "type": "execute",
        "name": "generate URL for SO Callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.so.callbackURL`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.so.callbackURL\"/>\n    <parameter name=\"target\" value=\"{requestId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.requestID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 757.3396148681641,
        "y": 2161.000102996826,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "f2393f9d.cc453",
        "type": "failure",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 726.0002136230469,
        "y": 384.00009536743164,
        "z": "513be127.a07bb",
        "wires": [
            [
                "828adea1.e7ed7"
            ]
        ]
    },
    {
        "id": "91cb59dd.897498",
        "type": "execute",
        "name": "payload has dLThptPerSlice",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name='source' value='`$instantiate-r-a-n-slice-input.payload`' />\n    <parameter name='target' value='dLThptPerSlice' />\n",
        "comments": "",
        "outputs": 1,
        "x": 494.0000915527344,
        "y": 383.0000648498535,
        "z": "513be127.a07bb",
        "wires": [
            [
                "f2393f9d.cc453",
                "efbd7b18.ae9b88"
            ]
        ]
    },
    {
        "id": "efbd7b18.ae9b88",
        "type": "failure",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 734.5066528320312,
        "y": 490.00024795532227,
        "z": "513be127.a07bb",
        "wires": [
            [
                "bd4954be.1a7778"
            ]
        ]
    },
    {
        "id": "3d82f088.ac579",
        "type": "failure",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 721.0003967285156,
        "y": 1981.0002479553223,
        "z": "513be127.a07bb",
        "wires": [
            [
                "61281bbc.dfac54"
            ]
        ]
    },
    {
        "id": "828adea1.e7ed7",
        "type": "block",
        "name": "Closed Loop",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 743.0002136230469,
        "y": 111.00006484985352,
        "z": "513be127.a07bb",
        "wires": [
            [
                "f9f5464b.2ed958",
                "5f9fbc1e.12a244"
            ]
        ]
    },
    {
        "id": "61281bbc.dfac54",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 908.0002937316895,
        "y": 1981.0001468658447,
        "z": "513be127.a07bb",
        "wires": [
            [
                "26493ac6.c3cb66",
                "9b3d2567.fec758",
                "fa61ec0.0693618",
                "277a3d68.dd2e52"
            ]
        ]
    },
    {
        "id": "bd4954be.1a7778",
        "type": "execute",
        "name": "Intelligent Slicing",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name='source' value='`$instantiate-r-a-n-slice-input.payload`' />\n    <parameter name='target' value='maxNumberofConns' />\n",
        "comments": "",
        "outputs": 1,
        "x": 528.0004577636719,
        "y": 1980.0002479553223,
        "z": "513be127.a07bb",
        "wires": [
            [
                "3d82f088.ac579"
            ]
        ]
    },
    {
        "id": "f9f5464b.2ed958",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"PAYLOAD contains dLThptPerSlice...Closed loop \"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 948.0000305175781,
        "y": 111.00004959106445,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "26493ac6.c3cb66",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"PAYLOAD contains maxNumberofConns...Inntelligent Slicing \"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1146.0004577636719,
        "y": 1860.0002479553223,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "776f8f52.2fc88",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Reached instantiateRANSliceReconfigure-cps \"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 427,
        "y": 338.0000276565552,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "5f9fbc1e.12a244",
        "type": "block",
        "name": "NearRTRIC",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 963.0105895996094,
        "y": 161.01047134399414,
        "z": "513be127.a07bb",
        "wires": [
            [
                "41ced3e7.bbfa5c",
                "ba0c7265.e3386"
            ]
        ]
    },
    {
        "id": "9b3d2567.fec758",
        "type": "block",
        "name": "CUCP",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1136.010799407959,
        "y": 1980.010461807251,
        "z": "513be127.a07bb",
        "wires": [
            [
                "396fb896.d1f828",
                "f41ff585.b87188"
            ]
        ]
    },
    {
        "id": "1eafbfb4.fbd9b",
        "type": "execute",
        "name": "Update slice profile for nearRTRIC",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-closed-loop-nearRTRIC-patch.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"nearRTRIC-slice-patch-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/yang.patch-status+json' />",
        "comments": "",
        "outputs": 1,
        "x": 1586.8995895385742,
        "y": 547.0106620788574,
        "z": "513be127.a07bb",
        "wires": [
            [
                "a660ee48.3e0bc",
                "4fb0cdef.afcfd4"
            ]
        ]
    },
    {
        "id": "a660ee48.3e0bc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1885.900089263916,
        "y": 548.0002040863037,
        "z": "513be127.a07bb",
        "wires": [
            [
                "c1012c51.e1f4d"
            ]
        ]
    },
    {
        "id": "4fb0cdef.afcfd4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1883.9000930786133,
        "y": 634.9999628067017,
        "z": "513be127.a07bb",
        "wires": [
            [
                "71b6cdfe.9d1f84"
            ]
        ]
    },
    {
        "id": "c1012c51.e1f4d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2044.9002151489258,
        "y": 547.0000801086426,
        "z": "513be127.a07bb",
        "wires": [
            [
                "443e1fd9.26eb",
                "242d5a05.f6ca66",
                "9d694bfa.b7a508",
                "e6c9a77.5298d58"
            ]
        ]
    },
    {
        "id": "71b6cdfe.9d1f84",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2056.899890899658,
        "y": 634.000165939331,
        "z": "513be127.a07bb",
        "wires": [
            [
                "2de1069c.b7057a",
                "7dcc2ce8.831d04"
            ]
        ]
    },
    {
        "id": "8daa0a7a.adbd18",
        "type": "block",
        "name": "Update SiceProfile for NeaeRTRIC",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1248.0000915527344,
        "y": 460.744815826416,
        "z": "513be127.a07bb",
        "wires": [
            [
                "884acbed.028f88",
                "12833f2e.2eee81",
                "f2b14a1d.693618",
                "1eafbfb4.fbd9b"
            ]
        ]
    },
    {
        "id": "f2b14a1d.693618",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1544.0003356933594,
        "y": 377.4010353088379,
        "z": "513be127.a07bb",
        "wires": [
            [
                "e8af632f.7f8a9",
                "6c8ca6ed.b87928"
            ]
        ]
    },
    {
        "id": "e8af632f.7f8a9",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1784.0003356933594,
        "y": 376.40085220336914,
        "z": "513be127.a07bb",
        "wires": [
            [
                "8bc1c70.57f3238"
            ]
        ]
    },
    {
        "id": "6c8ca6ed.b87928",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1775.0004577636719,
        "y": 439.4009437561035,
        "z": "513be127.a07bb",
        "wires": [
            [
                "b501388e.b269e8"
            ]
        ]
    },
    {
        "id": "12833f2e.2eee81",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Patch SliceProfile ToNearRTRIC url for closed loop:\"/>\n<parameter name=\"field2\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1512.0007019042969,
        "y": 419.74499893188477,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "884acbed.028f88",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Setting variables for PATCH SliceProfile ToNearRTRIC - closed loop\"/>\n<parameter name=\"field2\" value=\"`$prop.controller.url + $tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n<parameter name=\"field3\" value=\"`$tmp.dLThptPerSlice`\"/>\n<parameter name=\"field4\" value=\"`$tmp.uLThptPerSlice`\"/>\n<parameter name=\"field5\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field6\" value=\"`$tmp.sliceProfileId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1512.0013122558594,
        "y": 469.73437881469727,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "e20054f1.b1da88",
        "type": "execute",
        "name": "Populate MOUNT NAME",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2492.5354919433594,
        "y": 543.0000648498535,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "1032a0f5.dfe33f",
        "type": "execute",
        "name": "Populate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{sliceProfileId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.sliceProfileId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2552.0699157714844,
        "y": 500.59909439086914,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "b501388e.b269e8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2006.9900817871094,
        "y": 439.4009132385254,
        "z": "513be127.a07bb",
        "wires": [
            [
                "3dbf2131.dc18ce",
                "1032a0f5.dfe33f",
                "e20054f1.b1da88"
            ]
        ]
    },
    {
        "id": "3dbf2131.dc18ce",
        "type": "execute",
        "name": "generate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addSliceProfile.ToNearRTRIC.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2549.5347595214844,
        "y": 462.0003089904785,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "bf72dc6f.d9902",
        "type": "execute",
        "name": "Populate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{sliceProfileId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.sliceProfileId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2547.5350036621094,
        "y": 421.0001564025879,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "807e8805.e5e998",
        "type": "execute",
        "name": "generate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addSliceProfile.ToNearRTRIC`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2547.0003356933594,
        "y": 377.4011573791504,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "8bc1c70.57f3238",
        "type": "block",
        "name": "URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2004.2018737792969,
        "y": 376.0000343322754,
        "z": "513be127.a07bb",
        "wires": [
            [
                "807e8805.e5e998",
                "bf72dc6f.d9902"
            ]
        ]
    },
    {
        "id": "ba0c7265.e3386",
        "type": "set",
        "name": "set Temp Variables",
        "xml": "<set>\n<parameter name='tmp.payload.numberUpdates' value='`$payloadJson.input.additionalproperties.resourceConfig.data_length`'/>\n<parameter name=\"tmp.sliceProfileId\" value=\"`$payloadJson.input.sliceProfile.sliceProfileId`\"/>\n<parameter name='tmp.payload.sNSSAI' value='`$payloadJson.input.sliceProfile.sNSSAI`'/>",
        "comments": "",
        "x": 1149.0039978027344,
        "y": 56.00394058227539,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "41ced3e7.bbfa5c",
        "type": "for",
        "name": "For Number of patches",
        "xml": "<for index='id1' start='0' end=\"`$tmp.payload.numberUpdates`\" >",
        "comments": "",
        "outputs": 1,
        "x": 998.0039978027344,
        "y": 261.0039405822754,
        "z": "513be127.a07bb",
        "wires": [
            [
                "8daa0a7a.adbd18",
                "629e2d78.a38b74",
                "102a8bbb.a515c4",
                "f41ff585.b87188",
                "f6b9f7d2.efcaf8",
                "316217c6.cc61a8"
            ]
        ]
    },
    {
        "id": "629e2d78.a38b74",
        "type": "set",
        "name": "set Temp Variables",
        "xml": "<set>\n<parameter name=\"tmp.dLThptPerSlice\" value=\"`$payloadJson.input.additionalproperties.resourceConfig.data[$id1].dLThptPerSlice`\"/>\n<parameter name=\"tmp.uLThptPerSlice\" value=\"`$payloadJson.input.additionalproperties.resourceConfig.data[$id1].uLThptPerSlice`\"/>\n<parameter name=\"tmp.nearRTRICId\" value=\"`$payloadJson.input.additionalproperties.resourceConfig.data[$id1].nearRTRICId`\"/>",
        "comments": "",
        "x": 1285.4550476074219,
        "y": 146.0104866027832,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "443e1fd9.26eb",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Patching slice profile parms for close loop. Exiting close loop operation'/>",
        "comments": "",
        "x": 2255.455234527588,
        "y": 548.0104579925537,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "242d5a05.f6ca66",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Patching slice profile parms for close loop. Exiting close loop operation'/>",
        "comments": "",
        "x": 2278.455238342285,
        "y": 587.8995780944824,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "2de1069c.b7057a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully PATCHED NearRTRIC for close loop operation\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2260.4550704956055,
        "y": 633.8995399475098,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "7dcc2ce8.831d04",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-closedloop-nearRTRIC-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2276.233222961426,
        "y": 684.8994617462158,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "fa61ec0.0693618",
        "type": "set",
        "name": "set Temp Variables",
        "xml": "<set>\n<parameter name='tmp.payload.dataPoints' value='`$payloadJson.input.additionalproperties.resourceConfig.data_length`'/>\n<parameter name=\"tmp.payload.sNSSAI\" value=\"`$payloadJson.input.additionalproperties.resourceConfig.snssai`\"/>\n<parameter name=\"tmp.sliceProfileId\" value=\"`$payloadJson.input.sliceProfile.sliceProfileId`\"/>",
        "comments": "",
        "x": 1179.1220397949219,
        "y": 1895.8994178771973,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "396fb896.d1f828",
        "type": "for",
        "name": "For Number of data Points",
        "xml": "<for index='id-is' start='0' end=\"`$tmp.payload.dataPoints`\" >",
        "comments": "",
        "outputs": 1,
        "x": 1363.1215515136719,
        "y": 2126.8994178771973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "197dd02.8fd493"
            ]
        ]
    },
    {
        "id": "f41ff585.b87188",
        "type": "block",
        "name": "get PLMNId",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1126.7501220703125,
        "y": 1094.7501831054688,
        "z": "513be127.a07bb",
        "wires": [
            [
                "700ba82b.62cbe8",
                "95147a7c.3155c8"
            ]
        ]
    },
    {
        "id": "102a8bbb.a515c4",
        "type": "block",
        "name": "Update NearRTRIC Config",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1088.5000305175781,
        "y": 1497.5000038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "17741f2e.70c0a1",
                "670b6cb6.da9684",
                "5f116544.d498fc",
                "c776e8b8.6ecab8",
                "da52d684.8fdc18",
                "f6157bd6.6c8118",
                "95147a7c.3155c8"
            ]
        ]
    },
    {
        "id": "8e2bdda.a68132",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiate-r-a-n-slice-input.common-header.request-id `\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiate-r-a-n-slice-input.action`\"/>\n",
        "comments": "",
        "x": 767.6875152587891,
        "y": 2109.6250972747803,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "8a21bd26.48ec8",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />\n<parameter name=\"restapiUser\" value=\"`$prop.restapi.so.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.restapi.so.password`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 709.1874923706055,
        "y": 2319.3752059936523,
        "z": "513be127.a07bb",
        "wires": [
            [
                "660ad5bc.6baf9c",
                "b50f3ab5.795e38"
            ]
        ]
    },
    {
        "id": "9c4ef17.059861",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2031.7500915527344,
        "y": 2050.0000038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "607050d6.4fd58"
            ]
        ]
    },
    {
        "id": "335d1762.3cac28",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2018.750144958496,
        "y": 2095.0001740455627,
        "z": "513be127.a07bb",
        "wires": [
            [
                "39f56007.9f15"
            ]
        ]
    },
    {
        "id": "39f56007.9f15",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2202.739959716797,
        "y": 2096.0002479553223,
        "z": "513be127.a07bb",
        "wires": [
            [
                "75b8532d.68caac",
                "53355d4b.015824"
            ]
        ]
    },
    {
        "id": "607050d6.4fd58",
        "type": "block",
        "name": "URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2186.951629638672,
        "y": 2049.5991249084473,
        "z": "513be127.a07bb",
        "wires": [
            [
                "83a733b4.c0b84"
            ]
        ]
    },
    {
        "id": "83a733b4.c0b84",
        "type": "execute",
        "name": "generate addnSSAIEntry.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addnSSAIEntry.ToNearRTRIC`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2460.7500915527344,
        "y": 2049.0004920959473,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "75b8532d.68caac",
        "type": "execute",
        "name": "generate addnSSAIEntry.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addnSSAIEntry.ToNearRTRIC.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2513.2845211029053,
        "y": 2096.599470168352,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "53355d4b.015824",
        "type": "execute",
        "name": "Populate MOUNT NAME",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addnSSAIEntry.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2458.2850036621094,
        "y": 2137.5991249084473,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "52473cea.41fc74",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1835.7500915527344,
        "y": 2051.0000038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "9c4ef17.059861",
                "335d1762.3cac28"
            ]
        ]
    },
    {
        "id": "a532217.38330e",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addnSSAIEntry.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1825.7500915527344,
        "y": 2090.0000038146973,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "8b0c09a6.a56a98",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addnSSAIEntry.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1826.2500915527344,
        "y": 2130.0000038146973,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "197dd02.8fd493",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1582.7499694824219,
        "y": 2129.0000038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "52473cea.41fc74",
                "a532217.38330e",
                "8b0c09a6.a56a98",
                "58f89da5.6d1ff4",
                "b0fd7452.b53658",
                "d3251489.710798",
                "e99cf064.e7ce9"
            ]
        ]
    },
    {
        "id": "58f89da5.6d1ff4",
        "type": "for",
        "name": "For Number of cells",
        "xml": "<for index='id2' start='0' end=\"`$tmp.CUCellListEntries`\" >",
        "comments": "",
        "outputs": 1,
        "x": 1842.0002136230469,
        "y": 2240.0000038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "3c03d88f.a8f4f8"
            ]
        ]
    },
    {
        "id": "238904f6.a948dc",
        "type": "execute",
        "name": "cellLocalId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellLocalId' />\n\t<parameter name='source' value=\"`'payloadJson.input.additionalproperties.resourceConfig.data['+$id-is+'].cellCUList['+$id2+'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2257.25,
        "y": 2148.500244140625,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "3c03d88f.a8f4f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2044.7499694824219,
        "y": 2240.0000038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "238904f6.a948dc",
                "2882106e.e905a",
                "d9a8159a.7a0648",
                "8d13cd7.0a0a63",
                "2b840bed.80c574",
                "7f422a47.f33af4",
                "95147a7c.3155c8",
                "3bdc030.15f9bfe"
            ]
        ]
    },
    {
        "id": "2882106e.e905a",
        "type": "execute",
        "name": "predictedMaxNumberofConns",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.predictedMaxNumberofConns' />\n\t<parameter name='source' value=\"`'payloadJson.input.additionalproperties.resourceConfig.data['+$id-is+'].cellCUList['+$id2+'].configData.predictedMaxNumberofConns'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2325.499969482422,
        "y": 2294.5002479553223,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "d9a8159a.7a0648",
        "type": "execute",
        "name": "patch NearRTRIC - config",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-closed-loop-nearRTRIC-config-patch.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.restapi.addnSSAIEntry.ToNearRTRIC.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-nearRTRIC-config-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2309.249969482422,
        "y": 2366.0000038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "964f3ecf.3437f",
                "e7049f51.e023"
            ]
        ]
    },
    {
        "id": "964f3ecf.3437f",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2529.7500915527344,
        "y": 2366.2500038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "e7cea680.c59228"
            ]
        ]
    },
    {
        "id": "e7049f51.e023",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2526.3128356933594,
        "y": 2402.8125038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "409cda64.6de9e4"
            ]
        ]
    },
    {
        "id": "409cda64.6de9e4",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2683.3125915527344,
        "y": 2402.8125038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "8d76d454.bc7f68",
                "2dcc3c8f.bb2a04",
                "9d694bfa.b7a508",
                "fc231309.cfcd1"
            ]
        ]
    },
    {
        "id": "e7cea680.c59228",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2705.7498474121094,
        "y": 2366.2500038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "beb41c3c.5e954"
            ]
        ]
    },
    {
        "id": "8d76d454.bc7f68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2899.3125915527344,
        "y": 2438.8125038146973,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "2dcc3c8f.bb2a04",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2880.3130798339844,
        "y": 2402.9235877990723,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "beb41c3c.5e954",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully patched NearRTRIC configuration\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2880.4996032714844,
        "y": 2367.0002479553223,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "277a3d68.dd2e52",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Data length \"/>\n<parameter name=\"field2\" value=\"`$tmp.payload.dataPoints`\"/>\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1141.4999694824219,
        "y": 1938.9998817443848,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "b0fd7452.b53658",
        "type": "execute",
        "name": "CUCellListEntries",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCellListEntries' />\n\t<parameter name='source' value=\"`'payloadJson.input.additionalproperties.resourceConfig.data['+$id-is+'].cellCUList_length'`\" />\n\t",
        "comments": "",
        "outputs": 1,
        "x": 1837.9999694824219,
        "y": 2166.2500038146973,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "d3251489.710798",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUCEll List length \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCellListEntries`\"/>\n<parameter name=\"field3\" value=\"`$tmp.gNBCUName`\" />\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1803.9999694824219,
        "y": 2204.2500038146973,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "8d13cd7.0a0a63",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"cellLocalId\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellLocalId`\"/>\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2254.750213623047,
        "y": 2329.7500038146973,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "e99cf064.e7ce9",
        "type": "set",
        "name": "set Temp Variables",
        "xml": "<set>\n<parameter name=\"tmp.nearRTRICId\" value=\"`$payloadJson.input.additionalproperties.resourceConfig.data[$id-is].nearRTRICId`\"/>\n<parameter name=\"tmp.gNBCUName\" value=\"`$payloadJson.input.additionalproperties.resourceConfig.data[$id-is].gNBCUName`\"/>\n\n",
        "comments": "",
        "x": 1845.4999694824219,
        "y": 2014.5000038146973,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "344eb1aa.d1cc4e",
        "type": "set",
        "name": "append configParam",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellLocalId' />\n\t<parameter name='source' value=\"`$tmp.cellLocalId`+'-maxNumberofConns'\" />",
        "comments": "",
        "x": 2300.312469482422,
        "y": 2258.6250038146973,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "2b840bed.80c574",
        "type": "execute",
        "name": "append configParam",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='concat'>\n    <parameter name=\"source\" value=\"`$tmp.cellLocalId`\" />\n    <parameter name=\"target\" value=\"-maxNumberofConns\"/>\n    <parameter name=\"outputPath\" value=\"tmp.cellLocalId\" />",
        "comments": "",
        "outputs": 1,
        "x": 2298.2500915527344,
        "y": 2222.7500038146973,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "f6b9f7d2.efcaf8",
        "type": "switchNode",
        "name": "check nearrtric",
        "xml": "<switch test='`$tmp.nearRTRICId == 11 `'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1273.4001159667969,
        "y": 202.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "15feed92.70ff22",
                "c662724a.83d0e"
            ]
        ]
    },
    {
        "id": "15feed92.70ff22",
        "type": "outcome",
        "name": "True",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1502.6003112792969,
        "y": 21.00000762939453,
        "z": "513be127.a07bb",
        "wires": [
            [
                "96acbe01.e65cc"
            ]
        ]
    },
    {
        "id": "c662724a.83d0e",
        "type": "outcome",
        "name": "False",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1501.3999938964844,
        "y": 132.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "19b85aab.8fe4f5"
            ]
        ]
    },
    {
        "id": "316217c6.cc61a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1271.3999938964844,
        "y": 258.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "d1b8244d.9ebc68"
            ]
        ]
    },
    {
        "id": "d1b8244d.9ebc68",
        "type": "execute",
        "name": "check policytype",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$tmp.policytype.url`\"/>\n<parameter name='format' value='json' />\n<parameter name='httpMethod' value='GET' />\n<parameter name='contentType' value='application/json' />\n<parameter name='responsePrefix' value='get-policytypes-responsse' />",
        "comments": "",
        "outputs": 1,
        "x": 1527.0000915527344,
        "y": 263.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "a307e888.184eb8",
                "4ae3b4c6.722a5c"
            ]
        ]
    },
    {
        "id": "a307e888.184eb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1733.0002136230469,
        "y": 202.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "164836ca.d93ea9"
            ]
        ]
    },
    {
        "id": "164836ca.d93ea9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2027.0003356933594,
        "y": 199.5672950744629,
        "z": "513be127.a07bb",
        "wires": [
            [
                "3e751117.36b6de",
                "6876325e.659e4c",
                "351b39b3.97e466",
                "240b8dcb.ff8022"
            ]
        ]
    },
    {
        "id": "3e751117.36b6de",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"policy types length \"/>\n<parameter name=\"field2\" value=\"`$tmp.policytypelength`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2344.0003356933594,
        "y": 77.56728744506836,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "4ae3b4c6.722a5c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1730.9999694824219,
        "y": 260.56735610961914,
        "z": "513be127.a07bb",
        "wires": [
            [
                "c29a196c.5673a8"
            ]
        ]
    },
    {
        "id": "c29a196c.5673a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2025.9999694824219,
        "y": 257.56735610961914,
        "z": "513be127.a07bb",
        "wires": [
            [
                "840b0219.61cc7"
            ]
        ]
    },
    {
        "id": "840b0219.61cc7",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"req error \"/>\n<parameter name=\"field2\" value=\"Failure\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2224.9998474121094,
        "y": 256.56735610961914,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "6876325e.659e4c",
        "type": "execute",
        "name": "getpolicylength",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.policytypelength' />\n\t<parameter name='source' value=\"`'get-policytypes-responsse._length'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2368.6897888183594,
        "y": 25.000003814697266,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "351b39b3.97e466",
        "type": "switchNode",
        "name": "check the action",
        "xml": "<switch test='`$tmp.policytypelength > 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2375.0003356933594,
        "y": 136.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "3f01a2c5.9a0d7e",
                "aee50f4a.503d6"
            ]
        ]
    },
    {
        "id": "3f01a2c5.9a0d7e",
        "type": "outcome",
        "name": "True",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2629.6001892089844,
        "y": 84.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "400472c.c544a8c"
            ]
        ]
    },
    {
        "id": "aee50f4a.503d6",
        "type": "outcome",
        "name": "False",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2633.6001892089844,
        "y": 134.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "c6baa2d8.f8c4f"
            ]
        ]
    },
    {
        "id": "400472c.c544a8c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2837.6001892089844,
        "y": 83.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "88b62a94.90a5e8"
            ]
        ]
    },
    {
        "id": "c6baa2d8.f8c4f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2836.6004333496094,
        "y": 135.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "a9e2a1d0.323aa",
                "f81019b2.90f4b8"
            ]
        ]
    },
    {
        "id": "88b62a94.90a5e8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"policy type already exists \"/>\n<parameter name=\"field2\" value=\"SUCCESSFULL\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3023.6001892089844,
        "y": 83.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "a9e2a1d0.323aa",
        "type": "execute",
        "name": "create policytype",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/A1policytype.json'`\" />\n<parameter name=\"restapiUrl\" value=\"https://10.31.4.11:30226/events/A1-P\"/>\n<parameter name='format' value='json' />\n<parameter name='httpMethod' value='POST' />\n<parameter name='contentType' value='application/json' />\n<parameter name='responsePrefix' value='dmaap' />",
        "comments": "",
        "outputs": 1,
        "x": 3063.6004333496094,
        "y": 180.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "b3c271c4.ae008"
            ]
        ]
    },
    {
        "id": "f81019b2.90f4b8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"creating new policy \"/>\n<parameter name=\"field2\" value=\"SUCCESSFULL\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3028.4004821777344,
        "y": 134.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "b3c271c4.ae008",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3249.4109802246094,
        "y": 179.2001075744629,
        "z": "513be127.a07bb",
        "wires": [
            [
                "9fd5149c.f92e98"
            ]
        ]
    },
    {
        "id": "625b8c53.b12834",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Create policytype \"/>\n<parameter name=\"field2\" value=\"Succesfull\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3600.0000915527344,
        "y": 178.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "9fd5149c.f92e98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3411.0000915527344,
        "y": 178.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "625b8c53.b12834"
            ]
        ]
    },
    {
        "id": "240b8dcb.ff8022",
        "type": "execute",
        "name": "create policyinstance ",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/A1policyinstance.json'`\" />\n<parameter name=\"restapiUrl\" value=\"https://10.31.4.11:30226/events/A1-P\"/>\n<parameter name='format' value='json' />\n<parameter name='httpMethod' value='POST' />\n<parameter name='contentType' value='application/json' />\n<parameter name='responsePrefix' value='dmaap-res' />",
        "comments": "",
        "outputs": 1,
        "x": 2389.2000427246094,
        "y": 197.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "da400c55.da78b"
            ]
        ]
    },
    {
        "id": "bcc855c7.88a3f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Create policyinstance \"/>\n<parameter name=\"field2\" value=\"Succesfull\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3045.5999450683594,
        "y": 240.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "4c527da9.d78154",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2847.5997009277344,
        "y": 198.00000381469727,
        "z": "513be127.a07bb",
        "wires": [
            [
                "bcc855c7.88a3f8"
            ]
        ]
    },
    {
        "id": "da400c55.da78b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2640.5994567871094,
        "y": 198.19995498657227,
        "z": "513be127.a07bb",
        "wires": [
            [
                "4c527da9.d78154"
            ]
        ]
    },
    {
        "id": "96acbe01.e65cc",
        "type": "set",
        "name": "set Temp Variables",
        "xml": "<set>\n<parameter name='tmp.policytype.url' value='`$prop.a1.policytype.url.nearrtric11`'/>\n<parameter name=\"tmp.policyinstance.url\" value=\"`$prop.a1.policyinstance.url.nearrtric11`\"/>\n",
        "comments": "",
        "x": 1750.8000183105469,
        "y": 20,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "19b85aab.8fe4f5",
        "type": "set",
        "name": "set Temp Variables",
        "xml": "<set>\n<parameter name='tmp.policytype.url' value='`$prop.a1.policytype.url.nearrtric22`'/>\n<parameter name=\"tmp.policyinstance.url\" value=\"`$prop.a1.policyinstance.url.nearrtric22`\"/>\n",
        "comments": "",
        "x": 1739.8000183105469,
        "y": 131.00000381469727,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "7cdaabe8.1f36d4",
        "type": "comment",
        "name": "A1-adaptor simulators",
        "info": "Currently have configured to support 2 near-rt-ric simulators.\nNear-rt-ric simulators has to be run separately and corresponding ip can be configured in the properties file",
        "comments": "",
        "x": 781,
        "y": 23.000000953674316,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "700ba82b.62cbe8",
        "type": "for",
        "name": "For anchorsList",
        "xml": "<for index='anc' start='0' end='`$tmp.anchors.length`'>",
        "comments": "",
        "outputs": 1,
        "x": 1416.5345458984375,
        "y": 1095.1790161132812,
        "z": "513be127.a07bb",
        "wires": [
            [
                "efa6fdc7.0049f"
            ]
        ]
    },
    {
        "id": "efa6fdc7.0049f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1626.222412109375,
        "y": 1095.333251953125,
        "z": "513be127.a07bb",
        "wires": [
            [
                "b3149659.c00418",
                "90fa1998.ffbec8"
            ]
        ]
    },
    {
        "id": "b3149659.c00418",
        "type": "execute",
        "name": "read schemaSet",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.schemaset.name' />\n\t<parameter name='source' value=\"`'get-anchors-cps-response.['+$anc+'].schemaSetName'`\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1873.882968902588,
        "y": 1094.5123281478882,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "90fa1998.ffbec8",
        "type": "switchNode",
        "name": "check schemaSetName",
        "xml": "<switch test='`$tmp.schemaset.name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1894.8549728393555,
        "y": 1167.7623310089111,
        "z": "513be127.a07bb",
        "wires": [
            [
                "f40bc9af.d6a3a8"
            ]
        ]
    },
    {
        "id": "f40bc9af.d6a3a8",
        "type": "outcome",
        "name": "if ran-inventory",
        "xml": "<outcome value='ran-inventory'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2117.660400390625,
        "y": 1168.2344970703125,
        "z": "513be127.a07bb",
        "wires": [
            [
                "75bb8c23.1f2114"
            ]
        ]
    },
    {
        "id": "75bb8c23.1f2114",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2327.722915649414,
        "y": 1167.8332104682922,
        "z": "513be127.a07bb",
        "wires": [
            [
                "1b814dca.ea75d2",
                "f94e3553.4bb888",
                "3f6307bc.18b9e8",
                "e6f44041.cb2f2",
                "a4307efb.aa7b6",
                "4bcb2812.d2a498",
                "afd12c75.342f3",
                "aaf77a55.80b748"
            ]
        ]
    },
    {
        "id": "17741f2e.70c0a1",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1424.3333435058594,
        "y": 1286.0000038146973,
        "z": "513be127.a07bb",
        "wires": [
            [
                "1e47cef9.f29151",
                "677948dd.2dc1d8"
            ]
        ]
    },
    {
        "id": "1e47cef9.f29151",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1638.3331909179688,
        "y": 1286.9997596740723,
        "z": "513be127.a07bb",
        "wires": [
            [
                "f6ca17aa.4a3fb8"
            ]
        ]
    },
    {
        "id": "677948dd.2dc1d8",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1630.3333892822266,
        "y": 1328.999843597412,
        "z": "513be127.a07bb",
        "wires": [
            [
                "4493ca7c.164de4"
            ]
        ]
    },
    {
        "id": "4493ca7c.164de4",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1804.3233070373535,
        "y": 1328.999843597412,
        "z": "513be127.a07bb",
        "wires": [
            [
                "fc696b6f.adcce8",
                "c042c902.fb3eb8"
            ]
        ]
    },
    {
        "id": "f6ca17aa.4a3fb8",
        "type": "block",
        "name": "URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1800.534854888916,
        "y": 1287.5989627838135,
        "z": "513be127.a07bb",
        "wires": [
            [
                "bd76421e.a2177"
            ]
        ]
    },
    {
        "id": "bd76421e.a2177",
        "type": "execute",
        "name": "generate addnSSAIEntry.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addnSSAIEntry.ToNearRTRIC`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2097.3333625793457,
        "y": 1288.0001678466797,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "fc696b6f.adcce8",
        "type": "execute",
        "name": "generate addnSSAIEntry.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addnSSAIEntry.ToNearRTRIC.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2098.8678665161133,
        "y": 1329.5992889404297,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "c042c902.fb3eb8",
        "type": "execute",
        "name": "Populate MOUNT NAME",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addnSSAIEntry.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2039.8681945800781,
        "y": 1370.5989656448364,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "670b6cb6.da9684",
        "type": "for",
        "name": "For anchorsList",
        "xml": "<for index='anc' start='0' end='`$tmp.anchors.length`'>",
        "comments": "",
        "outputs": 1,
        "x": 1429.9510879516602,
        "y": 1593.8457098007202,
        "z": "513be127.a07bb",
        "wires": [
            [
                "4e14c9d3.6c6ae8"
            ]
        ]
    },
    {
        "id": "4e14c9d3.6c6ae8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1619.6387557983398,
        "y": 1596.000005722046,
        "z": "513be127.a07bb",
        "wires": [
            [
                "ce56b9ce.c3b9a8",
                "39e7d374.11df1c"
            ]
        ]
    },
    {
        "id": "ce56b9ce.c3b9a8",
        "type": "execute",
        "name": "read schemaSet",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.schemaset.name' />\n\t<parameter name='source' value=\"`'get-anchors-cps-response.['+$anc+'].schemaSetName'`\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1864.2995681762695,
        "y": 1590.179042816162,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "39e7d374.11df1c",
        "type": "switchNode",
        "name": "check schemaSetName",
        "xml": "<switch test='`$tmp.schemaset.name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1889.2715759277344,
        "y": 1637.4290447235107,
        "z": "513be127.a07bb",
        "wires": [
            [
                "b5ee1a85.0829b8"
            ]
        ]
    },
    {
        "id": "b5ee1a85.0829b8",
        "type": "outcome",
        "name": "if ran-network",
        "xml": "<outcome value='ran-network'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2115.077247619629,
        "y": 1635.9012126922607,
        "z": "513be127.a07bb",
        "wires": [
            [
                "4b6dd38f.7d4acc"
            ]
        ]
    },
    {
        "id": "4b6dd38f.7d4acc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2307.139347076416,
        "y": 1635.5000066757202,
        "z": "513be127.a07bb",
        "wires": [
            [
                "4dc8ca92.8f7344",
                "50a5816f.e3dec",
                "3e8bbe48.8f6a72",
                "7f28ad4.b113354",
                "5f608acc.d3e534",
                "ff1f8d4f.1c228",
                "bbbe4cfd.aa908",
                "c47ce08d.a909c",
                "39a53327.ab28dc",
                "e87c0a41.27d578",
                "60503363.b2756c",
                "a55d3a5b.3d31a8"
            ]
        ]
    },
    {
        "id": "1b814dca.ea75d2",
        "type": "execute",
        "name": "read sliceProfileId from input",
        "xml": "<set>\n<parameter name='tmp.sliceprofileid' value=\"`$payloadJson.input.sliceProfile.sliceProfileId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2647.000129699707,
        "y": 1035.9999618530273,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "f94e3553.4bb888",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"sliceprofileid from input\"/>\n<parameter name=\"field2\" value=\"`$tmp.sliceprofileid`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2580.000129699707,
        "y": 1069.9999618530273,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "3f6307bc.18b9e8",
        "type": "execute",
        "name": "generate plmnid URL cps",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.cps.tbdmt.execute.endpoint`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.cps.getPLMNID.url\"/>\n    <parameter name=\"target\" value=\"{schemaSet}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.schemaset.name`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2636.639347076416,
        "y": 1102.9834051132202,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "e6f44041.cb2f2",
        "type": "execute",
        "name": "prepare tbdmt template",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.cps.getPLMNID.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.cps.getPLMNID.url\"/>\n    <parameter name=\"target\" value=\"{templateId}\"/>\n    <parameter name=\"replacement\" value=\"`$prop.tbdmt.template.get-plmnid`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2628.639347076416,
        "y": 1136.5833415985107,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "a4307efb.aa7b6",
        "type": "record",
        "name": "record TBDMT RestAPI params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for CPS TDBMT to Get plmnid from sliceprofile\"/>\n<parameter name='field2' value=\"`$tmp.cps.getPLMNID.url`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2655.639316558838,
        "y": 1171.7834553718567,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "4bcb2812.d2a498",
        "type": "execute",
        "name": "Get pLMNId mcc, mnc from sliceprofileID",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$tmp.cps.getPLMNID.url`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/cps-templates/cps-get-plmnid.json'`\" />\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"getplmnid-cps-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2684.6396446228027,
        "y": 1206.7833800315857,
        "z": "513be127.a07bb",
        "wires": [
            [
                "23a4a799.9b6888",
                "c72af35e.c366e"
            ]
        ]
    },
    {
        "id": "23a4a799.9b6888",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2951.4167671203613,
        "y": 1146.6943154335022,
        "z": "513be127.a07bb",
        "wires": [
            [
                "ae56da96.03a168"
            ]
        ]
    },
    {
        "id": "c72af35e.c366e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2957.6386756896973,
        "y": 1207.5833497047424,
        "z": "513be127.a07bb",
        "wires": [
            [
                "dc58656a.6c97f8"
            ]
        ]
    },
    {
        "id": "ae56da96.03a168",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3129.639003753662,
        "y": 1146.5831174850464,
        "z": "513be127.a07bb",
        "wires": [
            [
                "4bc0dc54.162a84",
                "be287d98.8fce2",
                "ba10a7c1.229f48",
                "9d694bfa.b7a508"
            ]
        ]
    },
    {
        "id": "dc58656a.6c97f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3127.527675628662,
        "y": 1207.4721035957336,
        "z": "513be127.a07bb",
        "wires": [
            [
                "3ac29824.416758",
                "60bc452b.487fbc",
                "2fb3c15f.93ca2e"
            ]
        ]
    },
    {
        "id": "be287d98.8fce2",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to obtain MCC, MNC info from CPS\"/>\n<parameter name=\"field2\" value=\"`$cps-get-plmnid.json`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3313.3331871032715,
        "y": 1066.6668195724487,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "4bc0dc54.162a84",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from CPS. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3313.1945152282715,
        "y": 1017.4721565246582,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "60bc452b.487fbc",
        "type": "execute",
        "name": "read nearRTRICId-PLMN",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.plmn.mcc' />\n\t<parameter name='source' value=\"`'getplmnid-cps-response.[0].mcc'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3381.3503608703613,
        "y": 1170.4496865272522,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "3ac29824.416758",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained MCC, MNC info from CPS\"/>\n<parameter name=\"field2\" value=\"`$tmp.plmn.mcc`\"/>\n<parameter name=\"field3\" value=\"`$tmp.plmn.mnc`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3323.1394233703613,
        "y": 1245.8332314491272,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "ba10a7c1.229f48",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3331.9998512268066,
        "y": 1105.999990940094,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "2fb3c15f.93ca2e",
        "type": "execute",
        "name": "read nearRTRICId-PLMN",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.plmn.mnc' />\n\t<parameter name='source' value=\"`'getplmnid-cps-response.[0].mnc'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3379.6670112609863,
        "y": 1208.0001015663147,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "afd12c75.342f3",
        "type": "set",
        "name": "set mcc & mnc Variables",
        "xml": "<set>\n<parameter name='tmp.mcc' value='`$tmp.plmn.mcc`'/>\n<parameter name='tmp.mnc' value='`$tmp.plmn.mnc`'/>",
        "comments": "",
        "x": 2634.6670265197754,
        "y": 1242.333445072174,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "aaf77a55.80b748",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"mcc,mnc values...\"/>\n<parameter name=\"field2\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field3\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2578.66703414917,
        "y": 1276.333445072174,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "4dc8ca92.8f7344",
        "type": "set",
        "name": "set  Variables",
        "xml": "<set>\n<parameter name='tmp.mcc' value='`$tmp.mcc`' />\n<parameter name='tmp.mnc' value='`$tmp.mnc`' />\n<parameter name='tmp.configParameter' value='`dLThptPerSlice`' />\n<parameter name='tmp.configValue' value='`$tmp.dLThptPerSlice`' />",
        "comments": "",
        "x": 2597.000171661377,
        "y": 1471.999979019165,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "50a5816f.e3dec",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Inputs\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field4\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field5\" value=\"`$tmp.payload.sNSSAI`\"/>\n<parameter name=\"field6\" value=\"`$tmp.dLThptPerSlice`\"/>\n<parameter name=\"field7\" value=\"`$tmp.configParameter`\"/>\n<parameter name=\"field8\" value=\"`$tmp.configValue`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2576.8053436279297,
        "y": 1504.6664958000183,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "3e8bbe48.8f6a72",
        "type": "execute",
        "name": "generate dLThptPerSliceURL cps",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.cps.tbdmt.execute.endpoint`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.cps.patchconfigData.url\"/>\n    <parameter name=\"target\" value=\"{schemaSet}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.schemaset.name`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2653.4722061157227,
        "y": 1537.6666736602783,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "7f28ad4.b113354",
        "type": "execute",
        "name": "prepare tbdmt template",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.cps.patchconfigData.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.cps.patchconfigData.url\"/>\n    <parameter name=\"target\" value=\"{templateId}\"/>\n    <parameter name=\"replacement\" value=\"`$prop.tbdmt.template.patch-configData`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2619.4722061157227,
        "y": 1573.2666101455688,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "5f608acc.d3e534",
        "type": "record",
        "name": "record TBDMT RestAPI params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for CPS TDBMT to patch dLThptPerSlice\"/>\n<parameter name='field2' value=\"`$tmp.cps.patchconfigData.url`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2645.4720458984375,
        "y": 1609.466480255127,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "ff1f8d4f.1c228",
        "type": "execute",
        "name": "patch dLThptPerSlice",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$tmp.cps.patchconfigData.url`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/cps-templates/cps-patch-configData.json'`\" />\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"patchdLThptPerSlice-cps-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2612.472007751465,
        "y": 1644.4664916992188,
        "z": "513be127.a07bb",
        "wires": [
            [
                "e3fb6c6a.05a4",
                "28104511.b614da"
            ]
        ]
    },
    {
        "id": "28104511.b614da",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2861.471405029297,
        "y": 1643.2662868499756,
        "z": "513be127.a07bb",
        "wires": [
            [
                "b01b9a3b.384858"
            ]
        ]
    },
    {
        "id": "e3fb6c6a.05a4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2865.249336242676,
        "y": 1564.3774337768555,
        "z": "513be127.a07bb",
        "wires": [
            [
                "4e94910b.b126e"
            ]
        ]
    },
    {
        "id": "4e94910b.b126e",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2995.471408843994,
        "y": 1566.2662858963013,
        "z": "513be127.a07bb",
        "wires": [
            [
                "34297ac8.2ed556",
                "38b190fe.fb02c",
                "738113cf.947b7c"
            ]
        ]
    },
    {
        "id": "b01b9a3b.384858",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3025.3607292175293,
        "y": 1644.1552848815918,
        "z": "513be127.a07bb",
        "wires": [
            [
                "24193db6.087a92"
            ]
        ]
    },
    {
        "id": "24193db6.087a92",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully patched dLThptPerSlice\"/>\n<parameter name=\"field2\" value=\"`$patchdLThptPerSlice-cps-response.httpResponse`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3204.972064971924,
        "y": 1644.51628780365,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "738113cf.947b7c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3166.805347442627,
        "y": 1564.6666860580444,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "34297ac8.2ed556",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from CPS. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3147.0271339416504,
        "y": 1525.1555099487305,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "38b190fe.fb02c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to update CPS\"/>\n<parameter name=\"field2\" value=\"`$cps-patch-configData.json`\"/>\n<parameter name=\"field3\" value=\"`$patchdLThptPerSlice-cps-response.httpResponse`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3148.166072845459,
        "y": 1484.349940776825,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "fef565e4.dc1dc8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from CPS. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3212.3328819274902,
        "y": 1824.8052654266357,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "a00d28cc.f37068",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3236.7781982421875,
        "y": 1865.3166599273682,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "c961ef2f.69b8b",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully patched uLThptPerSlice\"/>\n<parameter name=\"field2\" value=\"`$patchuLThptPerSlice-cps-response.httpResponse`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3229.2781944274902,
        "y": 1923.1663932800293,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "1408a4fb.b4a68b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3051.666862487793,
        "y": 1922.8057165145874,
        "z": "513be127.a07bb",
        "wires": [
            [
                "c961ef2f.69b8b"
            ]
        ]
    },
    {
        "id": "ca95f230.2f18a",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3016.7775382995605,
        "y": 1867.9162693023682,
        "z": "513be127.a07bb",
        "wires": [
            [
                "fef565e4.dc1dc8",
                "a00d28cc.f37068",
                "39742e4f.f53b32"
            ]
        ]
    },
    {
        "id": "5b8674a8.d9101c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2875.7775344848633,
        "y": 1921.9163932800293,
        "z": "513be127.a07bb",
        "wires": [
            [
                "1408a4fb.b4a68b"
            ]
        ]
    },
    {
        "id": "f15175d1.84c128",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2870.555353164673,
        "y": 1868.0273904800415,
        "z": "513be127.a07bb",
        "wires": [
            [
                "ca95f230.2f18a"
            ]
        ]
    },
    {
        "id": "39a53327.ab28dc",
        "type": "execute",
        "name": "generate uLThptPerSliceURL cps",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.cps.tbdmt.execute.endpoint`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.cps.patchuLThptPerSlice.url\"/>\n    <parameter name=\"target\" value=\"{schemaSet}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.schemaset.name`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2650.778160095215,
        "y": 1758.316611289978,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "e87c0a41.27d578",
        "type": "execute",
        "name": "prepare tbdmt template",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.cps.patchuLThptPerSlice.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.cps.patchuLThptPerSlice.url\"/>\n    <parameter name=\"target\" value=\"{templateId}\"/>\n    <parameter name=\"replacement\" value=\"`$prop.tbdmt.template.patch-configData`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2620.7779998779297,
        "y": 1793.9165487289429,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "60503363.b2756c",
        "type": "record",
        "name": "record TBDMT RestAPI params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for CPS TDBMT to patch uLThptPerSlice\"/>\n<parameter name='field2' value=\"`$tmp.cps.patchuLThptPerSlice.url`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2646.7779998779297,
        "y": 1832.1164197921753,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "a55d3a5b.3d31a8",
        "type": "execute",
        "name": "patch uLThptPerSlice",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$tmp.cps.patchuLThptPerSlice.url`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/cps-templates/cps-patch-configData.json'`\" />\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"patchuLThptPerSlice-cps-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2613.7779998779297,
        "y": 1869.116421699524,
        "z": "513be127.a07bb",
        "wires": [
            [
                "f15175d1.84c128",
                "5b8674a8.d9101c"
            ]
        ]
    },
    {
        "id": "bbbe4cfd.aa908",
        "type": "set",
        "name": "set  Variables",
        "xml": "<set>\n<parameter name='tmp.configParameter' value='`uLThptPerSlice`' />\n<parameter name='tmp.configValue' value='`$tmp.uLThptPerSlice`' />",
        "comments": "",
        "x": 2586.361198425293,
        "y": 1686.649926185608,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "39742e4f.f53b32",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to update CPS\"/>\n<parameter name=\"field2\" value=\"`$cps-patch-uLThptPerSlice.json`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3210.472339630127,
        "y": 1785.999979019165,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "c47ce08d.a909c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Inputs\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field4\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field5\" value=\"`$tmp.payload.sNSSAI`\"/>\n<parameter name=\"field6\" value=\"`$tmp.uLThptPerSlice`\"/>\n<parameter name=\"field7\" value=\"`$tmp.configParameter`\"/>\n<parameter name=\"field8\" value=\"`$tmp.configValue`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2567.472225189209,
        "y": 1722.9999389648438,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "5f116544.d498fc",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addnSSAIEntry.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1415.0000381469727,
        "y": 1336,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "c776e8b8.6ecab8",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addnSSAIEntry.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addnSSAIEntry.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1413.5000381469727,
        "y": 1379,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "da52d684.8fdc18",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Closed loop API params\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field4\" value=\"`$tmp.mnc`\"/>\n\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1401.2498779296875,
        "y": 1425.2498779296875,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "f6157bd6.6c8118",
        "type": "execute",
        "name": "patch NearRTRIC - config",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-closed-loop-nearRTRIC-config-patch.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.restapi.addnSSAIEntry.ToNearRTRIC.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-nearRTRIC-config-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 1454.2500381469727,
        "y": 1485.5,
        "z": "513be127.a07bb",
        "wires": [
            [
                "a771db16.c54ed8",
                "afb25100.488ec"
            ]
        ]
    },
    {
        "id": "a771db16.c54ed8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1708.7500457763672,
        "y": 1461.7500066757202,
        "z": "513be127.a07bb",
        "wires": [
            [
                "354f8ec9.20bd92"
            ]
        ]
    },
    {
        "id": "354f8ec9.20bd92",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1876.7497215270996,
        "y": 1460.7500076293945,
        "z": "513be127.a07bb",
        "wires": [
            [
                "4b62f71e.19e488"
            ]
        ]
    },
    {
        "id": "f09fb8c5.52a858",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2094.3131217956543,
        "y": 1484.4233756065369,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "4b62f71e.19e488",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully patched NearRTRIC configuration\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2089.499523162842,
        "y": 1428.5000357627869,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "b8494607.b05f18",
        "type": "execute",
        "name": "getAnchors URL",
        "xml": "<set>\n\t<parameter name='tmp.getAnchors.URL' value=\"`$prop.restapi.cps.anchors.endpoint`\"/>\n\t",
        "comments": "",
        "outputs": 1,
        "x": 1700.0000839233398,
        "y": 922.9999771118164,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "76c3fe9.88825",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL to fetch cps anchors\"/>\n<parameter name=\"field2\" value=\"`$tmp.getAnchors.URL`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1668.2500839233398,
        "y": 965.7499780654907,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "57211dd0.b15634",
        "type": "execute",
        "name": "Get list of anchors from CPS",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$tmp.getAnchors.URL`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"restapiUser\" value=\"cpsuser\" />\n<parameter name=\"restapiPassword\" value=\"cpsr0cks!\"/>\n<parameter name=\"responsePrefix\" value=\"get-anchors-cps-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1736.0556640625,
        "y": 1009.9165649414062,
        "z": "513be127.a07bb",
        "wires": [
            [
                "2497feac.6f4ba2",
                "f244104d.0c3bf"
            ]
        ]
    },
    {
        "id": "831a27a7.2b4128",
        "type": "execute",
        "name": "set anchors size",
        "xml": "<set>\n\t<parameter name='tmp.anchors.length' value=\"`$get-anchors-cps-response._length`\"/>\n\t",
        "comments": "",
        "outputs": 1,
        "x": 1695.4047050476074,
        "y": 1056.8208627700806,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "f244104d.0c3bf",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1991.3614120483398,
        "y": 969.5554542541504,
        "z": "513be127.a07bb",
        "wires": [
            [
                "e455aa65.280a18"
            ]
        ]
    },
    {
        "id": "2497feac.6f4ba2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1992.3614120483398,
        "y": 1008.7499122619629,
        "z": "513be127.a07bb",
        "wires": [
            [
                "e7a0fa4e.ddfcb8"
            ]
        ]
    },
    {
        "id": "e455aa65.280a18",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2147.05574798584,
        "y": 969.1667823791504,
        "z": "513be127.a07bb",
        "wires": [
            [
                "df1515b9.e17388",
                "ad88fd2a.cc946"
            ]
        ]
    },
    {
        "id": "e7a0fa4e.ddfcb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2166.8056259155273,
        "y": 1009.4165382385254,
        "z": "513be127.a07bb",
        "wires": [
            [
                "edad793e.73a418",
                "455a620b.ba31fc"
            ]
        ]
    },
    {
        "id": "df1515b9.e17388",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from CPS. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2362.8332748413086,
        "y": 931.999813079834,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "ad88fd2a.cc946",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to fetch anchors from CPS\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2361.6391220092773,
        "y": 968.5276222229004,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "edad793e.73a418",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained anchors from CPS\"/>\n<parameter name=\"field2\" value=\"`$get-anchors-cps-response._length`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2365.5551376342773,
        "y": 1009.6664772033691,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "455a620b.ba31fc",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-closedLoop-context.log' />",
        "comments": "",
        "outputs": 1,
        "x": 2382.083335876465,
        "y": 1052.4164772033691,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "95147a7c.3155c8",
        "type": "block",
        "name": "get anchors",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1413.0000839233398,
        "y": 972.9999771118164,
        "z": "513be127.a07bb",
        "wires": [
            [
                "b8494607.b05f18",
                "76c3fe9.88825",
                "57211dd0.b15634",
                "831a27a7.2b4128"
            ]
        ]
    },
    {
        "id": "afb25100.488ec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1719.3128700256348,
        "y": 1509.3125085830688,
        "z": "513be127.a07bb",
        "wires": [
            [
                "869f9778.eca168"
            ]
        ]
    },
    {
        "id": "869f9778.eca168",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1868.3127136230469,
        "y": 1510.3123455047607,
        "z": "513be127.a07bb",
        "wires": [
            [
                "da64ade6.b898f",
                "f09fb8c5.52a858"
            ]
        ]
    },
    {
        "id": "da64ade6.b898f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2055.3126373291016,
        "y": 1535.3123679161072,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "7f422a47.f33af4",
        "type": "for",
        "name": "For anchorsList",
        "xml": "<for index='anc' start='0' end='`$tmp.anchors.length`'>",
        "comments": "",
        "outputs": 1,
        "x": 1829.0000381469727,
        "y": 2532,
        "z": "513be127.a07bb",
        "wires": [
            [
                "1ec49b78.a5d815"
            ]
        ]
    },
    {
        "id": "1ec49b78.a5d815",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2018.6877059936523,
        "y": 2534.1542959213257,
        "z": "513be127.a07bb",
        "wires": [
            [
                "c0319f43.ae0bc",
                "217e97ff.f67a68"
            ]
        ]
    },
    {
        "id": "c0319f43.ae0bc",
        "type": "execute",
        "name": "read schemaSet",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.schemaset.name' />\n\t<parameter name='source' value=\"`'get-anchors-cps-response.['+$anc+'].schemaSetName'`\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2263.348518371582,
        "y": 2528.333333015442,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "217e97ff.f67a68",
        "type": "switchNode",
        "name": "check schemaSetName",
        "xml": "<switch test='`$tmp.schemaset.name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2288.320526123047,
        "y": 2575.5833349227905,
        "z": "513be127.a07bb",
        "wires": [
            [
                "ff28cc3c.d03f8"
            ]
        ]
    },
    {
        "id": "ff28cc3c.d03f8",
        "type": "outcome",
        "name": "if ran-network",
        "xml": "<outcome value='ran-network'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2514.1261978149414,
        "y": 2574.0555028915405,
        "z": "513be127.a07bb",
        "wires": [
            [
                "c02f503d.329a8"
            ]
        ]
    },
    {
        "id": "c02f503d.329a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2706.1882972717285,
        "y": 2573.654296875,
        "z": "513be127.a07bb",
        "wires": [
            [
                "f991558d.341b18",
                "b554151a.1ec478",
                "28f088c9.42eb98",
                "8590e230.e2d19",
                "97255c.ed9b3aa8",
                "2d2eb351.253ebc"
            ]
        ]
    },
    {
        "id": "f991558d.341b18",
        "type": "set",
        "name": "set  Variables",
        "xml": "<set>\n<parameter name='tmp.mcc' value='`$tmp.mcc`'/>\n<parameter name='tmp.mnc' value='`$tmp.mnc`'/>\n<parameter name='tmp.configParameter' value='`maxNumberOfConns`'/>\n<parameter name='tmp.configValue' value='`$tmp.predictedMaxNumberofConns`'/>",
        "comments": "",
        "x": 2989.0491218566895,
        "y": 2520.154269218445,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "b554151a.1ec478",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Inputs\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field4\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field5\" value=\"`$tmp.payload.sNSSAI`\"/>\n<parameter name=\"field6\" value=\"`$tmp.predictedMaxNumberofConns`\" />\n<parameter name=\"field7\" value=\"`$tmp.configParameter`\"/>\n<parameter name=\"field8\" value=\"`$tmp.idNRCellCU`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2970.8542861938477,
        "y": 2554.82080078125,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "28f088c9.42eb98",
        "type": "execute",
        "name": "generate patch configData URL cps",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.cps.tbdmt.execute.endpoint`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.cps.patchconfigData.url\"/>\n    <parameter name=\"target\" value=\"{schemaSet}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.schemaset.name`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3052.521156311035,
        "y": 2589.820963859558,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "8590e230.e2d19",
        "type": "execute",
        "name": "prepare tbdmt template",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.cps.patchconfigData.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.cps.patchconfigData.url\"/>\n    <parameter name=\"target\" value=\"{templateId}\"/>\n    <parameter name=\"replacement\" value=\"`$prop.tbdmt.template.patch-cell-configData`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3018.521156311035,
        "y": 2625.4209003448486,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "97255c.ed9b3aa8",
        "type": "record",
        "name": "record TBDMT RestAPI params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for CPS TDBMT to patch maxNumberOfConns\"/>\n<parameter name='field2' value=\"`$tmp.cps.patchconfigData.url`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3047.52099609375,
        "y": 2660.620849609375,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "2d2eb351.253ebc",
        "type": "execute",
        "name": "patch maxNumberOfConns",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$tmp.cps.patchconfigData.url`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/cps-templates/cps-patch-cell-configData.json'`\" />\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"patchmaxNumberOfConns-cps-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3038.52099609375,
        "y": 2703.620849609375,
        "z": "513be127.a07bb",
        "wires": [
            [
                "6315c6f7.18d948",
                "35068e32.491742"
            ]
        ]
    },
    {
        "id": "35068e32.491742",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3260.5203552246094,
        "y": 2695.4205770492554,
        "z": "513be127.a07bb",
        "wires": [
            [
                "64a8ff55.9a692"
            ]
        ]
    },
    {
        "id": "6315c6f7.18d948",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3264.2982864379883,
        "y": 2616.5317239761353,
        "z": "513be127.a07bb",
        "wires": [
            [
                "adc2d7f7.f5a568"
            ]
        ]
    },
    {
        "id": "adc2d7f7.f5a568",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3394.5203590393066,
        "y": 2618.420576095581,
        "z": "513be127.a07bb",
        "wires": [
            [
                "5d487aa8.fe6324",
                "e17e05fd.b0ee78",
                "42ff46dc.5786b8"
            ]
        ]
    },
    {
        "id": "64a8ff55.9a692",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3424.409679412842,
        "y": 2696.3095750808716,
        "z": "513be127.a07bb",
        "wires": [
            [
                "4b9aed06.95a724"
            ]
        ]
    },
    {
        "id": "4b9aed06.95a724",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully patchedmaxNumberOfConns\"/>\n<parameter name=\"field2\" value=\"`$patchmaxNumberOfConns-cps-response.httpResponse`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3604.0210151672363,
        "y": 2696.6705780029297,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "42ff46dc.5786b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3565.8542976379395,
        "y": 2616.820976257324,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "5d487aa8.fe6324",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from CPS. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3546.076084136963,
        "y": 2577.3098001480103,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "e17e05fd.b0ee78",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to update CPS\"/>\n<parameter name=\"field2\" value=\"`$cps-patch-configData.json`\"/>\n<parameter name=\"field3\" value=\"`$patchmaxNumberOfConns-cps-response.httpResponse`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3547.2150230407715,
        "y": 2536.5042309761047,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "fc231309.cfcd1",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/intelligentSlicing.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to patch NearRTRIC configuration\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3029,
        "y": 2376,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    },
    {
        "id": "3bdc030.15f9bfe",
        "type": "set",
        "name": "set  Variables",
        "xml": "<set>\n<parameter name='tmp.idNRCellCU' value='`$tmp.cellLocalId`'/>\n",
        "comments": "",
        "x": 2282,
        "y": 2185,
        "z": "513be127.a07bb",
        "wires": []
    },
    {
        "id": "e6c9a77.5298d58",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/closedLoop.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to patch NearRTRIC for closed loop operation\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2187,
        "y": 513,
        "z": "513be127.a07bb",
        "wires": [
            []
        ]
    }
]
