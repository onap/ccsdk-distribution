[
    {
        "id": "307f33c6.dd742c",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 417.8125,
        "y": 157.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "fa0eeda0.c794f"
            ]
        ]
    },
    {
        "id": "fa0eeda0.c794f",
        "type": "service-logic",
        "name": "ran-slice-api ${project.version}",
        "module": "ran-slice-api",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='ran-slice-api' version='${project.version}'>",
        "outputs": 1,
        "x": 502.8125228881836,
        "y": 224.81246948242188,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "93c2d6b3.d318c8"
            ]
        ]
    },
    {
        "id": "93c2d6b3.d318c8",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='instantiateRANSliceModifyAllocate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 436.8125,
        "y": 284.8124351501465,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d3c9dd74.37db6"
            ]
        ]
    },
    {
        "id": "d3c9dd74.37db6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 432.81249237060547,
        "y": 345.8124713897705,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "164712ad.822b9d",
                "80dd96ef.ed69b8",
                "134f1599.6c4a8a",
                "f0e433f3.dc406"
            ]
        ]
    },
    {
        "id": "164712ad.822b9d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 690.8124847412109,
        "y": 347.81249237060547,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d71a2225.52045",
                "836a2684.eb82f8",
                "85517da2.bd54b"
            ]
        ]
    },
    {
        "id": "d71a2225.52045",
        "type": "execute",
        "name": "generate getNearRTRICsFromRANNFNSSI URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getNearRTRICByNSSI`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getNearRTRICByNSSI.url\"/>\n    <parameter name=\"target\" value=\"{ranNFNSSIId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.RANNFNSSIId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1022.8124847412109,
        "y": 345.81249237060547,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "836a2684.eb82f8",
        "type": "record",
        "name": "record configdb RestAPI params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for configDB to Get NearRTRIC for RANNFNSSI\"/>\n<parameter name='field2' value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\" />\n<parameter name='field3' value=\"`$tmp.payload.RANNFNSSIId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 976.8124847412109,
        "y": 416.81249237060547,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "85517da2.bd54b",
        "type": "execute",
        "name": "Get nearRTRIC for RANNFNSSIId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getNFNSSIRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 977.8125457763672,
        "y": 477.81251525878906,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "4d4a9497.964e7c",
                "7a7fe81.59f6a18"
            ]
        ]
    },
    {
        "id": "4d4a9497.964e7c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1255.6305885314941,
        "y": 572.6305503845215,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "99314aa2.bc5dc8"
            ]
        ]
    },
    {
        "id": "99314aa2.bc5dc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1433.6304454803467,
        "y": 571.6306915283203,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "fef1db8.1964128",
                "48780fbe.03af7"
            ]
        ]
    },
    {
        "id": "fef1db8.1964128",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained NearRT RIC info from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getNFNSSIRIC-configdb-response._length`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1595.6302490234375,
        "y": 567.6306762695312,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "48780fbe.03af7",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1586.4084930419922,
        "y": 634.6306686401367,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "7a7fe81.59f6a18",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1278.630573272705,
        "y": 473.63065814971924,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "e008015f.cfa71"
            ]
        ]
    },
    {
        "id": "e008015f.cfa71",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1483.630615234375,
        "y": 422.63069915771484,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "849418c6.f295c8",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "849418c6.f295c8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1597.630313873291,
        "y": 347.7417392730713,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "80dd96ef.ed69b8",
        "type": "for",
        "name": "foreach NearRTRIC",
        "xml": "<for index='idy' start='0' end='`$getNFNSSIRIC-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 589.8125,
        "y": 981.6306762695312,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "1ef3c9dc.82ed86",
                "6c5cf2d1.84abec",
                "d086944b.c66398",
                "4e830c1f.7bebc4"
            ]
        ]
    },
    {
        "id": "1ef3c9dc.82ed86",
        "type": "block",
        "name": "Process NearRTRIC",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 883.7215576171875,
        "y": 975.539794921875,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "1c2d7304.ea98cd",
                "d2bc2ba0.f263f8",
                "1d207fa8.45607",
                "38089fef.f14fa",
                "dbf7b9fd.e29e98",
                "bc8d47bf.d46a68"
            ]
        ]
    },
    {
        "id": "1c2d7304.ea98cd",
        "type": "execute",
        "name": "read nearRTRICId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.nearRTRICId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].nearRTRICId'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1344.3579559326172,
        "y": 942.5398120880127,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "d2bc2ba0.f263f8",
        "type": "execute",
        "name": "read gNBId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.gNBId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy + '].gNBId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1321.3579444885254,
        "y": 1003.5398387908936,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "1d207fa8.45607",
        "type": "set",
        "name": "Calculate uLThptPerSlice dLThptPerSlice maxNumberOfConns",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.uLThptPerSlice1' value='`$payloadJson.input.sliceProfile.uLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.uLThptPerSlice' value='`$tmp.nearRTRIC.uLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice1' value='`$payloadJson.input.sliceProfile.dLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice' value='`$tmp.nearRTRIC.dLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns1' value='`$payloadJson.input.sliceProfile.maxNumberofConns * 1.1`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns' value='`$tmp.nearRTRIC.maxNumberOfConns1 / $getNFNSSIRIC-configdb-response._length`' />",
        "comments": "",
        "x": 1502.7216186523438,
        "y": 1127.3579711914062,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "38089fef.f14fa",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated uLThptPerSlice for nearRTRIC \"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field3\" value=\"dLThptPerSlice for nearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConn for nearRTRIC\"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"nearRTRICId\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"RANNFNSSI\"/>\n<parameter name=\"field12\" value=\"`$tmp.ranNFNSSIListEntry`\"/>\n<parameter name=\"field13\" value=\"NSSAI\"/>\n<parameter name=\"field14\" value=\"`$tmp.payload.sNSSAI`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1326.630615234375,
        "y": 1190.3580322265625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "dbf7b9fd.e29e98",
        "type": "execute",
        "name": "Update nearRT RIC Details in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updatenearRTRIC`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updatenearRTRIC.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"modify-allocate-nearRTRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1422.6306762695312,
        "y": 1237.26708984375,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "6ed5711a.e5781",
                "8ca4207e.7575c"
            ]
        ]
    },
    {
        "id": "6ed5711a.e5781",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1748.630615234375,
        "y": 1201.0851440429688,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "c7d74ae6.23d9c8"
            ]
        ]
    },
    {
        "id": "c7d74ae6.23d9c8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1880.6307373046875,
        "y": 1163.0851440429688,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d8421ee9.0c90f",
                "6be76b86.5e2224"
            ]
        ]
    },
    {
        "id": "6be76b86.5e2224",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2069.6304931640625,
        "y": 1110.1961669921875,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "d8421ee9.0c90f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2077.6304931640625,
        "y": 1210.085205078125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "8ca4207e.7575c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1746.44873046875,
        "y": 1300.9942626953125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "56064406.6a9b3c"
            ]
        ]
    },
    {
        "id": "56064406.6a9b3c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1910.4486083984375,
        "y": 1301.994384765625,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "f7fc925a.c53a3"
            ]
        ]
    },
    {
        "id": "f7fc925a.c53a3",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Updated NearRT RIC info in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2060.4486083984375,
        "y": 1296.9945068359375,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "bc8d47bf.d46a68",
        "type": "execute",
        "name": "ranNFNSSIListEntry",
        "xml": "<set>\n<parameter name='tmp.ranNFNSSIListEntry' value=\"`$payloadJson.input.RANNFNSSIId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1370.8125,
        "y": 1060.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "b8a93326.20b78",
        "type": "execute",
        "name": "read CUCP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1263.8125,
        "y": 1344.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "6c5cf2d1.84abec",
        "type": "block",
        "name": "Process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 863.8125,
        "y": 1328.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b8a93326.20b78",
                "bafd24dc.562168",
                "ed358e77.3b307"
            ]
        ]
    },
    {
        "id": "bafd24dc.562168",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUCP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1235.8125,
        "y": 1409.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "ed358e77.3b307",
        "type": "for",
        "name": "foreach CUCP",
        "xml": "<for index='idz' start='0' end='`$tmp.CUCPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1263.8125,
        "y": 1484.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "aa9d51fb.0103c"
            ]
        ]
    },
    {
        "id": "aa9d51fb.0103c",
        "type": "block",
        "name": "block : process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1484.8125,
        "y": 1491.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "cf612911.c44998",
                "c906a35a.2ccc5",
                "ed66efa7.cab5c",
                "f042d642.d93388"
            ]
        ]
    },
    {
        "id": "cf612911.c44998",
        "type": "execute",
        "name": "read CUCP name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPName' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].gNBCUName'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1835.8125,
        "y": 1344.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "c906a35a.2ccc5",
        "type": "for",
        "name": "for cellCUList",
        "xml": "<for index='idcu' start='0' end='`$tmp.cellCUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1839.8125,
        "y": 1488.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "2367fdf7.13e052"
            ]
        ]
    },
    {
        "id": "a59b3348.53d8e",
        "type": "execute",
        "name": "read cellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].cellCUList['+ $idcu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2543.8125,
        "y": 1258.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "eb810d0e.4dd5d",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2488.8125,
        "y": 1512.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "58b9362d.eda568",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2522.8126068115234,
        "y": 1641.8124732971191,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "91d2ca4f.cc02a8",
                "2a6ef5af.0afada"
            ]
        ]
    },
    {
        "id": "bb2b6a10.6ae608",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.CUCPName`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellCULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2482.8125,
        "y": 1578.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "d5711de.7d20ee",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2353.8125,
        "y": 1095.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a59b3348.53d8e",
                "eb810d0e.4dd5d",
                "bb2b6a10.6ae608",
                "58b9362d.eda568",
                "1f2cbe8.ab92042",
                "2fa14d3.a7367b2",
                "3c40ea7f.5428a6",
                "6cc8a38.caae65c",
                "1df8c261.39d8be",
                "8dd84100.059ce",
                "d05460e1.aaaa4"
            ]
        ]
    },
    {
        "id": "91d2ca4f.cc02a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2773.812614440918,
        "y": 1637.8127174377441,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "13392720.662ca9"
            ]
        ]
    },
    {
        "id": "13392720.662ca9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2946.812400817871,
        "y": 1636.8127784729004,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "ee4d18d9.5f1cd8"
            ]
        ]
    },
    {
        "id": "ee4d18d9.5f1cd8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3144.8124618530273,
        "y": 1633.812900543213,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "2a6ef5af.0afada",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2738.81258392334,
        "y": 1520.8124732971191,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a4b20ac1.7e5948"
            ]
        ]
    },
    {
        "id": "a4b20ac1.7e5948",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2888.812858581543,
        "y": 1479.812656402588,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "9879822d.b1fa8",
                "6a5df2ad.c26a0c",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "9879822d.b1fa8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRcellCU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3059.8124923706055,
        "y": 1540.8127174377441,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "6a5df2ad.c26a0c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3054.812614440918,
        "y": 1445.812656402588,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "1f2cbe8.ab92042",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2570.8125,
        "y": 1322.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "2fa14d3.a7367b2",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2531.8125,
        "y": 1390.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "3c40ea7f.5428a6",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 2498.8125,
        "y": 1448.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "ed66efa7.cab5c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUCPName \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPName`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1808.8125,
        "y": 1395.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "f042d642.d93388",
        "type": "execute",
        "name": "read cellCU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList[' + $idz +'].cellCUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1849.8125,
        "y": 1444.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "6cc8a38.caae65c",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2576.8125,
        "y": 1158.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "9cab3cd4.ad8c8",
                "2575bb63.cb1f64"
            ]
        ]
    },
    {
        "id": "9cab3cd4.ad8c8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2784.8125,
        "y": 1123.812255859375,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "8a68726.7a5319"
            ]
        ]
    },
    {
        "id": "8a68726.7a5319",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3104.8125,
        "y": 1138.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "2575bb63.cb1f64",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2772.8125,
        "y": 1225.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "1be9da11.5515e6"
            ]
        ]
    },
    {
        "id": "1df8c261.39d8be",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2131.8125,
        "y": 1909.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "fa450f85.96907",
                "ac83dc96.d0414",
                "eee75d70.5462f",
                "68e0063b.7afdb8",
                "11885992.57a3d6",
                "b7fc9607.06c2c8",
                "48a3f198.0b5bb",
                "3e1fe485.57c5dc",
                "cb510840.ed88c8"
            ]
        ]
    },
    {
        "id": "fa450f85.96907",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConnsPercellCU' value='`$tmp.payload.maxNumberofConns / $tmp.cellCUList_length`' />\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellCU1' value='`$tmp.maxNumberOfConnsPercellCU * 100`' />\n<parameter name='tmp.rRMPolicyDedicatedRatio_SliceProfile' value='`$tmp.rRMPolicyDedicatedRatio.CellCU1 / $prop.nrcellcu.maxNumberOfConnsPerCell`' />",
        "comments": "",
        "x": 2313.8125,
        "y": 1692.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "ac83dc96.d0414",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellCU`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2312.8125,
        "y": 1748.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "eee75d70.5462f",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2353.8125,
        "y": 1815.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "c44d770c.8f6248",
                "2db4eb44.da6004"
            ]
        ]
    },
    {
        "id": "c44d770c.8f6248",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2531.8125,
        "y": 1782.812255859375,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b1dca537.3b57a8"
            ]
        ]
    },
    {
        "id": "b1dca537.3b57a8",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2809.8125,
        "y": 1774.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "68e0063b.7afdb8",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2388.8125,
        "y": 1887.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "11885992.57a3d6",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2353.8125,
        "y": 1939.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "684c1622.e09e58",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2639.8125,
        "y": 2066.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "4f5d406d.e309"
            ]
        ]
    },
    {
        "id": "4f5d406d.e309",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2803.8123779296875,
        "y": 2067.8126220703125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "45f75ec6.863ec",
                "34f6d9ce.d2e016"
            ]
        ]
    },
    {
        "id": "45f75ec6.863ec",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2953.8123779296875,
        "y": 2062.812744140625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "9a82e320.b76eb",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2635.8125,
        "y": 1987.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "59cf3b6.cca69c4"
            ]
        ]
    },
    {
        "id": "59cf3b6.cca69c4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2793.812744140625,
        "y": 1935.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d0aa5e9f.9758a",
                "6409cd63.1a0bf4",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "d0aa5e9f.9758a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2964.8123779296875,
        "y": 1996.8125610351562,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "6409cd63.1a0bf4",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2959.8125,
        "y": 1901.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "b7fc9607.06c2c8",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2388.8125,
        "y": 2014.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "9a82e320.b76eb",
                "684c1622.e09e58"
            ]
        ]
    },
    {
        "id": "34f6d9ce.d2e016",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2968.8125,
        "y": 2125.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "48a3f198.0b5bb",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcu-rrm' start='0' end='`$tmp.rrmPolicyRatioList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2323.8125,
        "y": 2172.812728881836,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "cc5f4f75.fa631"
            ]
        ]
    },
    {
        "id": "3e1fe485.57c5dc",
        "type": "execute",
        "name": "read rrmpolicyratio list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyRatioList_length' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio_length '`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2367.8125,
        "y": 2068.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "cc5f4f75.fa631",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2544.8125,
        "y": 2192.812728881836,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d8c3d055.2d419",
                "6a9f9afc.9b7fa4",
                "ef468aba.45ebb8",
                "fcd1306a.0ccea",
                "4a4813ea.c1f99c",
                "79d52a8e.70e584"
            ]
        ]
    },
    {
        "id": "d8c3d055.2d419",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_cellCU' value=\"`'$get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellCU_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_cellCU + $tmp.rRMPolicyDedicatedRatio_SliceProfile`\" />",
        "comments": "",
        "x": 2869.8125,
        "y": 2169.812728881836,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "6a9f9afc.9b7fa4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Updated RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatio_updated`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2799.8125,
        "y": 2349.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "ef468aba.45ebb8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2837.8125,
        "y": 2220.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "e34f118.cd120f",
                "4555531e.6f353c"
            ]
        ]
    },
    {
        "id": "e34f118.cd120f",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3037.8125,
        "y": 2227.812255859375,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "c7e16a4d.5ee148"
            ]
        ]
    },
    {
        "id": "c7e16a4d.5ee148",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3303.8125,
        "y": 2231.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "fcd1306a.0ccea",
        "type": "execute",
        "name": "patch NRCellCU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2866.8125,
        "y": 2391.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a24f6f33.5c01f",
                "df336133.6e823"
            ]
        ]
    },
    {
        "id": "a24f6f33.5c01f",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3138.8125,
        "y": 2383.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "f5047557.3f0658"
            ]
        ]
    },
    {
        "id": "f5047557.3f0658",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3329.8125,
        "y": 2383.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b391edca.02267",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "b391edca.02267",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3514.812255859375,
        "y": 2384.812744140625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "df336133.6e823",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3137.8125,
        "y": 2471.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "c338375f.71e348"
            ]
        ]
    },
    {
        "id": "c338375f.71e348",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3356.812744140625,
        "y": 2476.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "e396dc8f.6db54",
                "89bcda2.7d97e28"
            ]
        ]
    },
    {
        "id": "e396dc8f.6db54",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU - RRMPolicyRAtio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3601.8123779296875,
        "y": 2522.8125610351562,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "89bcda2.7d97e28",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3596.8125,
        "y": 2427.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "cb510840.ed88c8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2307.8125,
        "y": 2122.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "2367fdf7.13e052",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2059.8125,
        "y": 1397.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "f75f3c8b.be38f",
                "ab9b5a5f.7edca8"
            ]
        ]
    },
    {
        "id": "8dd84100.059ce",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CellCU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2548.8125,
        "y": 1090.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "d05460e1.aaaa4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1948.8124542236328,
        "y": 2374.812511444092,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "fe92705b.ea1c8",
                "d084ab4e.bc34d8"
            ]
        ]
    },
    {
        "id": "fe92705b.ea1c8",
        "type": "execute",
        "name": "Update cellCU for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUCP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBCUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2231.812454223633,
        "y": 2374.812511444092,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "79c4d718.a8c6e8",
                "b47984b.f7f7b78"
            ]
        ]
    },
    {
        "id": "b47984b.f7f7b78",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2467.812454223633,
        "y": 2446.812511444092,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "ce3eb8e1.c1ccb8"
            ]
        ]
    },
    {
        "id": "79c4d718.a8c6e8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2518.812454223633,
        "y": 2345.812755584717,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "bef7b599.2a8f68"
            ]
        ]
    },
    {
        "id": "bef7b599.2a8f68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2710.812454223633,
        "y": 2461.812511444092,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "70a96b2.3356894",
                "e1603c4c.c51ab",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "e1603c4c.c51ab",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2876.812255859375,
        "y": 2429.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "70a96b2.3356894",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2881.8120880126953,
        "y": 2522.812572479248,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "b9fc74bf.735e68",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2717.812454223633,
        "y": 2533.812511444092,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "ce3eb8e1.c1ccb8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2553.8124389648438,
        "y": 2527.812572479248,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b9fc74bf.735e68"
            ]
        ]
    },
    {
        "id": "d084ab4e.bc34d8",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2252.8125,
        "y": 2660.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b305e15b.ccf55",
                "14cd58ef.8378c7"
            ]
        ]
    },
    {
        "id": "b305e15b.ccf55",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2550.8125,
        "y": 2610.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d2644aeb.86dd28"
            ]
        ]
    },
    {
        "id": "14cd58ef.8378c7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2550.8125,
        "y": 2720.812255859375,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b6930962.6ec088"
            ]
        ]
    },
    {
        "id": "d2644aeb.86dd28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2753.8125,
        "y": 2607.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b50e41ac.16a5a",
                "b28fe2e8.9a973",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "b28fe2e8.9a973",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2919.812255859375,
        "y": 2573.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "b50e41ac.16a5a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2924.8121337890625,
        "y": 2668.8125610351562,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "b6930962.6ec088",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2731.8125,
        "y": 2714.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "43de9281.43d8bc"
            ]
        ]
    },
    {
        "id": "43de9281.43d8bc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2897.8125,
        "y": 2715.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "d086944b.c66398",
        "type": "block",
        "name": "Process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 844.8125,
        "y": 1554.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "462da7ab.a5a448",
                "e48738e4.73f948",
                "3f53493c.b3bae6"
            ]
        ]
    },
    {
        "id": "462da7ab.a5a448",
        "type": "execute",
        "name": "read CUUP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUUPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUUPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1175.8125,
        "y": 1564.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "e48738e4.73f948",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUCP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUUPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1147.8125,
        "y": 1629.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "3f53493c.b3bae6",
        "type": "for",
        "name": "foreach CUUP",
        "xml": "<for index='id-cuup' start='0' end='`$tmp.CUUPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1175.8125,
        "y": 1704.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b771bcd9.93d"
            ]
        ]
    },
    {
        "id": "b771bcd9.93d",
        "type": "block",
        "name": "block : process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1396.8125,
        "y": 1711.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "902fd630.8a9ff8",
                "3f3bdc31.8c0ec4",
                "56f3c5f4.783d1c",
                "68482403.97ca3c"
            ]
        ]
    },
    {
        "id": "902fd630.8a9ff8",
        "type": "execute",
        "name": "read CUUP id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.idGNBCUUPFunction' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUUPList['+ $id-cuup +'].gNBCUUPId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1630.8125,
        "y": 1545.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "3f3bdc31.8c0ec4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"idGNBCUUPFunction \"/>\n<parameter name=\"field2\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1626.8125,
        "y": 1599.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "56f3c5f4.783d1c",
        "type": "execute",
        "name": "read plmninfolist size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.pLMNInfoList' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUUPList['+ $id-cuup +'].pLMNInfoList_length'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1677.8125,
        "y": 1664.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "68482403.97ca3c",
        "type": "for",
        "name": "foreach pLMNInfo",
        "xml": "<for index='id-plmn' start='0' end='`$tmp.pLMNInfoList`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1663.8125,
        "y": 1719.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "62fc86b9.2bf388"
            ]
        ]
    },
    {
        "id": "62fc86b9.2bf388",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1629.8125,
        "y": 2795.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "bd37c8ec.2cb548",
                "75687bbe.c8ac34",
                "2ecbf849.cff368",
                "e1fe95a4.e56b88",
                "f11648d2.8a6158",
                "b26edd45.59a21",
                "4a615dd1.f7d994",
                "82f93bbe.2a8f58",
                "5806bd74.97f274",
                "bbd5f05e.aa95f",
                "7b0b3132.35108",
                "ba3263a2.7a90f"
            ]
        ]
    },
    {
        "id": "2ecbf849.cff368",
        "type": "execute",
        "name": "patch PLMNInfoListEntry gNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoList-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-gNBCUUP-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 1957.8125,
        "y": 2993.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "6a4ff84d.86f158",
                "a21ae80.f8a7c18"
            ]
        ]
    },
    {
        "id": "6a4ff84d.86f158",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2259.8126525878906,
        "y": 2995.8127393722534,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "f129f56b.6a8468"
            ]
        ]
    },
    {
        "id": "f129f56b.6a8468",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2436.812774658203,
        "y": 2984.812617301941,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "818116b.749a3e8",
                "4c0fe3af.87361c",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "4c0fe3af.87361c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2707.8127098083496,
        "y": 2888.812978744507,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "818116b.749a3e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2692.812713623047,
        "y": 2942.8129177093506,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "88c21b9a.22d488",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - gNBCUUP PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2586.812225341797,
        "y": 3067.8127393722534,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "c2e2f484.ae9978",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2433.812530517578,
        "y": 3067.8124952316284,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "88c21b9a.22d488"
            ]
        ]
    },
    {
        "id": "a21ae80.f8a7c18",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2253.812530517578,
        "y": 3062.812678337097,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "c2e2f484.ae9978"
            ]
        ]
    },
    {
        "id": "bd37c8ec.2cb548",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1896.8125,
        "y": 2797.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "31b6e50e.0ffa9a",
                "605133da.405fac"
            ]
        ]
    },
    {
        "id": "31b6e50e.0ffa9a",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2104.8125,
        "y": 2762.812255859375,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "ca261737.b9abf8"
            ]
        ]
    },
    {
        "id": "605133da.405fac",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2092.8125,
        "y": 2864.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "cec48822.0fc488"
            ]
        ]
    },
    {
        "id": "ca261737.b9abf8",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry CUUP URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2424.8125,
        "y": 2777.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "75687bbe.c8ac34",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1941.8125,
        "y": 2936.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "4a4813ea.c1f99c",
        "type": "set",
        "name": "RRMPolicyRatio id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyRatio_id' value=\"`'$get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+'].id'`\" />",
        "comments": "",
        "x": 2851.8125,
        "y": 2258.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "79d52a8e.70e584",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`'$get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+ ']'.attributes.rRMPolicyMemberList_length+1`\" />",
        "comments": "",
        "x": 2842.8125,
        "y": 2305.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "e1fe95a4.e56b88",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfDRBsPerNSSAI' value='`$tmp.payload.maxNumberofConns*4`' />\n<parameter name='tmp.maxNumberOfDRBsPerCUUP' value='`$tmp.maxNumberOfDRBsPerNSSAI /$tmp.CUUPList_length`' />\n<parameter name='tmp.rRMPolicyDedicatedRatio1' value='`$tmp.maxNumberOfDRBsPerCUUP*100`' />\n<parameter name='tmp.rRMPolicyDedicatedRatio-CUUP' value='`$tmp.rRMPolicyDedicatedRatio1/$prop.cuupfunction.maxNumberOfDRBsPerCUUP`' />",
        "comments": "",
        "x": 1930.8127136230469,
        "y": 3065.812994003296,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "f11648d2.8a6158",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio-CUUP`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1876.8127059936523,
        "y": 3137.812997817993,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "b26edd45.59a21",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1887.8125,
        "y": 3212.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b48e9df0.37c53",
                "84a6a111.772e4"
            ]
        ]
    },
    {
        "id": "b48e9df0.37c53",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2065.8125,
        "y": 3179.812255859375,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "164e8c22.475114"
            ]
        ]
    },
    {
        "id": "164e8c22.475114",
        "type": "execute",
        "name": "fetch RRMPolicyRatio CUUP - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2360.812530517578,
        "y": 3125.8125562667847,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "4a615dd1.f7d994",
        "type": "execute",
        "name": "prepare idGNBCUUPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1924.8125839233398,
        "y": 3267.8125133514404,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "82f93bbe.2a8f58",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - CUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-cuup-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1920.8127517700195,
        "y": 3324.8125143051147,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "e03ffc51.6fbca",
                "cce032c0.0d88f"
            ]
        ]
    },
    {
        "id": "e03ffc51.6fbca",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2170.8125953674316,
        "y": 3314.812678337097,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "2261ec2.bfaac14"
            ]
        ]
    },
    {
        "id": "2261ec2.bfaac14",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2331.812744140625,
        "y": 3333.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "fde07db7.6edee",
                "4a0a2150.dd5b7",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "4a0a2150.dd5b7",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2497.8125,
        "y": 3299.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "fde07db7.6edee",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in fetching RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2502.8123779296875,
        "y": 3394.8125610351562,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "5f5f8a4d.ecf264",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2506.8125,
        "y": 3523.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "be1c4c39.89b8c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2491.8123779296875,
        "y": 3460.812744140625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "2d110399.7859bc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2325.8123168945312,
        "y": 3406.81268119812,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "be1c4c39.89b8c",
                "5f5f8a4d.ecf264"
            ]
        ]
    },
    {
        "id": "cce032c0.0d88f",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2161.8125953674316,
        "y": 3384.81268119812,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "2d110399.7859bc"
            ]
        ]
    },
    {
        "id": "5806bd74.97f274",
        "type": "execute",
        "name": "read rrmpolicyratio list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyRatioList_CUUP_length' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio_length '`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1898.8125915527344,
        "y": 3389.812599182129,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "bbd5f05e.aa95f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUUP - RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.tmp.rrmPolicyRatioList_CUUP_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1838.8125839233398,
        "y": 3440.8126010894775,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "7b0b3132.35108",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcuup-rrm' start='0' end='`$tmp.rrmPolicyRatioList_CUUP_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1886.4791717529297,
        "y": 3581.1459369659424,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "8250f885.9a6238"
            ]
        ]
    },
    {
        "id": "8250f885.9a6238",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2104.4791259765625,
        "y": 3608.145751953125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "f1bf3011.d74b2",
                "d818aaf7.0aee18",
                "6cb09c3f.522a24",
                "3a30a758.d1cd78",
                "568f3597.ab1f0c",
                "4e2db998.18c708"
            ]
        ]
    },
    {
        "id": "f1bf3011.d74b2",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CUUP' value=\"`'$get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n<parameter name='tmp.rrmPolicyDedicatedRatio_CUUP_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP + $tmp.rRMPolicyDedicatedRatio-CUUP`\" />",
        "comments": "",
        "x": 2429.4791259765625,
        "y": 3585.145751953125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "6cb09c3f.522a24",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2397.4791259765625,
        "y": 3636.145751953125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "68da40a6.630dc",
                "96bf52a5.a5094"
            ]
        ]
    },
    {
        "id": "568f3597.ab1f0c",
        "type": "set",
        "name": "RRMPolicyRatio id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyRatio_id' value=\"`'$get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+'].id'`\" />",
        "comments": "",
        "x": 2411.4791259765625,
        "y": 3674.145751953125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "68da40a6.630dc",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2614.4792251586914,
        "y": 3623.145571708679,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "ed44c1a6.36128"
            ]
        ]
    },
    {
        "id": "ed44c1a6.36128",
        "type": "execute",
        "name": "patch RRMPolicyRatio CUUP- URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2887.4790954589844,
        "y": 3593.1461219787598,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "4e2db998.18c708",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`'$get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+ ']'.attributes.rRMPolicyMemberList_length+1`\" />",
        "comments": "",
        "x": 2402.4791259765625,
        "y": 3721.145751953125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "d818aaf7.0aee18",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Updated RRMPolicyRatio for CUUP is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP_updated`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2359.4791259765625,
        "y": 3765.145751953125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "3a30a758.d1cd78",
        "type": "execute",
        "name": "patch CUUP- RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-CUUP-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2426.4791259765625,
        "y": 3807.145751953125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "7c1a793c.e7f098",
                "ecae4a1e.4ed968"
            ]
        ]
    },
    {
        "id": "7c1a793c.e7f098",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2698.4791259765625,
        "y": 3799.145751953125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "ee919351.884ae"
            ]
        ]
    },
    {
        "id": "ee919351.884ae",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2889.4791259765625,
        "y": 3799.145751953125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "9967fe18.3f52",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "9967fe18.3f52",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3074.4788818359375,
        "y": 3800.14599609375,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "3d107c96.8f4394",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3156.4791259765625,
        "y": 3843.145751953125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "64358581.2074dc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3161.47900390625,
        "y": 3938.1458129882812,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "87867dbd.bfc9c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2916.4793701171875,
        "y": 3892.145751953125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "64358581.2074dc",
                "3d107c96.8f4394"
            ]
        ]
    },
    {
        "id": "ecae4a1e.4ed968",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2697.4791259765625,
        "y": 3887.145751953125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "87867dbd.bfc9c"
            ]
        ]
    },
    {
        "id": "ba3263a2.7a90f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1843.1459197998047,
        "y": 3920.4793615341187,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a8779bfe.2ebaa8",
                "6bdc54a8.a8bcfc"
            ]
        ]
    },
    {
        "id": "a8779bfe.2ebaa8",
        "type": "execute",
        "name": "Update gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUUP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/restapi.configDB.updategNBCUUP.templatefile'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2176.1458740234375,
        "y": 3921.479248046875,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a157ef66.82e47",
                "156a4239.7ef9ee"
            ]
        ]
    },
    {
        "id": "a157ef66.82e47",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2463.1458740234375,
        "y": 3892.4794921875,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b14a144c.9974f8"
            ]
        ]
    },
    {
        "id": "156a4239.7ef9ee",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2412.1458740234375,
        "y": 3993.479248046875,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "8205426c.ef651"
            ]
        ]
    },
    {
        "id": "8205426c.ef651",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2498.1458587646484,
        "y": 4074.4793090820312,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "88c98d77.84bc2"
            ]
        ]
    },
    {
        "id": "b14a144c.9974f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2655.1458740234375,
        "y": 4008.479248046875,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "bdfa1f09.353b8",
                "8fd72176.397c5",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "88c98d77.84bc2",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2662.1458740234375,
        "y": 4080.479248046875,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "bdfa1f09.353b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2826.1455078125,
        "y": 4069.4793090820312,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "8fd72176.397c5",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2821.1456756591797,
        "y": 3976.479236602783,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "3cba221d.f1507e",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - CUUP. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2864.1456756591797,
        "y": 4120.479236602783,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "a2654622.6dd498",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating CUUP-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2869.145553588867,
        "y": 4215.479297637939,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "95bfc417.2c1f08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2698.1459197998047,
        "y": 4154.479236602783,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a2654622.6dd498",
                "3cba221d.f1507e",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "d8512ddf.3f171",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - CUUP RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2842.1459197998047,
        "y": 4262.479236602783,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "a66973d7.69104",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2676.1459197998047,
        "y": 4261.479236602783,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d8512ddf.3f171"
            ]
        ]
    },
    {
        "id": "15ec48d8.926787",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2495.1459197998047,
        "y": 4267.478992462158,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a66973d7.69104"
            ]
        ]
    },
    {
        "id": "2a3a4f34.54219",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2495.1459197998047,
        "y": 4157.479236602783,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "95bfc417.2c1f08"
            ]
        ]
    },
    {
        "id": "6bdc54a8.a8bcfc",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/restapi.configDB.updateRRMPolicy.CUUP.templatefile'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2197.1459197998047,
        "y": 4207.479236602783,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "2a3a4f34.54219",
                "15ec48d8.926787"
            ]
        ]
    },
    {
        "id": "4e830c1f.7bebc4",
        "type": "block",
        "name": "Process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1207.5626754760742,
        "y": 4192.563228607178,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "5a3d52ff.69f48c",
                "96c6fb05.5a9858",
                "4d47cf04.2ab97"
            ]
        ]
    },
    {
        "id": "5a3d52ff.69f48c",
        "type": "execute",
        "name": "read DUlist size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.DUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1536.5626754760742,
        "y": 4223.563228607178,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "96c6fb05.5a9858",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of DU List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.DUList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1494.5626602172852,
        "y": 4284.563228607178,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "4d47cf04.2ab97",
        "type": "for",
        "name": "foreach DU",
        "xml": "<for index='id-du' start='0' end='`$tmp.DUList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1506.5627059936523,
        "y": 4354.563228607178,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "c924ba25.82a328"
            ]
        ]
    },
    {
        "id": "c924ba25.82a328",
        "type": "block",
        "name": "block : process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1787.5626754760742,
        "y": 4355.5631980896,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a0fa0a49.9180c8",
                "b69431be.ded5f",
                "e4e685e5.2c8388",
                "d1761b06.379698"
            ]
        ]
    },
    {
        "id": "a0fa0a49.9180c8",
        "type": "execute",
        "name": "read DU id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.GNBDUId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].gNBDUId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2066.5625,
        "y": 4351.5625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "b69431be.ded5f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"GNBDUId \"/>\n<parameter name=\"field2\" value=\"`$tmp.GNBDUId`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2039.5625,
        "y": 4402.5625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "e4e685e5.2c8388",
        "type": "execute",
        "name": "read cellDU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList[' + $id-du +'].cellDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2080.5625,
        "y": 4451.5625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "d1761b06.379698",
        "type": "for",
        "name": "for cellDUList",
        "xml": "<for index='id-celldu' start='0' end='`$tmp.cellDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2070.5625,
        "y": 4495.5625,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "2d9b1779.25da68"
            ]
        ]
    },
    {
        "id": "2e0cb657.fa72aa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3097.3125,
        "y": 4549.5625,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "db01efc8.367e1",
                "cbb5449b.077ff8",
                "c37094ee.0620b8",
                "9664007c.b3591",
                "f8fddf6b.372eb",
                "7e214221.f3333c",
                "7e449816.b97cc8",
                "5b53f44f.273f7c",
                "f6f39dfc.75a01",
                "a63081a.5cdd48",
                "2ea51be.93ad1e4"
            ]
        ]
    },
    {
        "id": "5b53f44f.273f7c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CellDU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3292.3125,
        "y": 4544.5625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "7e449816.b97cc8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3320.3125,
        "y": 4612.5625,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d4c9f7e3.e84858",
                "9ff04c6b.5afd8"
            ]
        ]
    },
    {
        "id": "d4c9f7e3.e84858",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3528.3125,
        "y": 4577.562255859375,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "3bce64e2.b4273c"
            ]
        ]
    },
    {
        "id": "9ff04c6b.5afd8",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3523.3125495910645,
        "y": 4646.562824249268,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "e66f84d4.6add28"
            ]
        ]
    },
    {
        "id": "3bce64e2.b4273c",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3848.3125,
        "y": 4592.5625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "db01efc8.367e1",
        "type": "execute",
        "name": "read cellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellCUList['+ $id-celldu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3317.3126525878906,
        "y": 4700.562744140625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "9664007c.b3591",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3372.312713623047,
        "y": 4765.562682151794,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "f8fddf6b.372eb",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3345.3128967285156,
        "y": 4820.562684059143,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "7e214221.f3333c",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 3325.3125915527344,
        "y": 4883.562990188599,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "cbb5449b.077ff8",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3327.3128356933594,
        "y": 4941.562623023987,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "c37094ee.0620b8",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.GNBDUId`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellDULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3332.312469482422,
        "y": 5009.56311416626,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "f6f39dfc.75a01",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3389.3125,
        "y": 5084.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d8729278.1cd58",
                "157bda42.dc1776"
            ]
        ]
    },
    {
        "id": "157bda42.dc1776",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3656.3125,
        "y": 4984.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "ea70704f.084d2"
            ]
        ]
    },
    {
        "id": "d8729278.1cd58",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3655.3125,
        "y": 5083.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "8bfbcf74.666d1"
            ]
        ]
    },
    {
        "id": "ea70704f.084d2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3814.312744140625,
        "y": 4932.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "24efbd9d.3eeb72",
                "223f16d0.c8885a",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "8bfbcf74.666d1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3823.3125,
        "y": 5080.812502622604,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "6125ea01.fba5c4"
            ]
        ]
    },
    {
        "id": "6125ea01.fba5c4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3969.3123779296875,
        "y": 5079.812744140625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "24efbd9d.3eeb72",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NECellDU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3985.3123779296875,
        "y": 4993.812561035156,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "223f16d0.c8885a",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3980.3125,
        "y": 4898.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "a63081a.5cdd48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3190.5625,
        "y": 5357.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "5cb5d6ea.770248",
                "98f00bff.356c18",
                "5d40a1b9.c2994",
                "f43c3c63.25ad9",
                "65c6ca75.936b14",
                "6bcc8bb1.e1d3e4",
                "f0dfe9fd.ba7e58",
                "fa410ab8.5baa78"
            ]
        ]
    },
    {
        "id": "5cb5d6ea.770248",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3412.5625,
        "y": 5263.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "7ea81051.7f23a",
                "5a933026.4d27b"
            ]
        ]
    },
    {
        "id": "7ea81051.7f23a",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3595.5627365112305,
        "y": 5201.8128299713135,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "193f0677.2c64aa"
            ]
        ]
    },
    {
        "id": "193f0677.2c64aa",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3895.5626068115234,
        "y": 5202.812952041626,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "98f00bff.356c18",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3447.5625,
        "y": 5335.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "5d40a1b9.c2994",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3412.5625,
        "y": 5387.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "f43c3c63.25ad9",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-du-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3447.5625,
        "y": 5462.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "e3b08095.b4e31",
                "f911831.2bcd58"
            ]
        ]
    },
    {
        "id": "e3b08095.b4e31",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3694.5625,
        "y": 5435.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "981c46e8.e33468"
            ]
        ]
    },
    {
        "id": "f911831.2bcd58",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3698.5625,
        "y": 5514.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "748cf1b0.9d517"
            ]
        ]
    },
    {
        "id": "981c46e8.e33468",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3852.562744140625,
        "y": 5383.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "633b5c69.cd1044",
                "cfbf14b0.9443f8",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "cfbf14b0.9443f8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4018.5625,
        "y": 5349.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "633b5c69.cd1044",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4023.5623779296875,
        "y": 5444.812561035156,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "748cf1b0.9d517",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3862.5623779296875,
        "y": 5515.8126220703125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "8916b53d.b90f88",
                "d6acc856.973798"
            ]
        ]
    },
    {
        "id": "8916b53d.b90f88",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4012.5623779296875,
        "y": 5510.812744140625,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "d6acc856.973798",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4027.5625,
        "y": 5573.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "65c6ca75.936b14",
        "type": "execute",
        "name": "read rrmpolicyratio list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyRatioDUList_length' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio_length '`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 3426.5625,
        "y": 5516.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "6bcc8bb1.e1d3e4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3366.5625,
        "y": 5570.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "f0dfe9fd.ba7e58",
        "type": "block",
        "name": "rrmPolicyDedicatedRatio",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3971.5625381469727,
        "y": 5147.812589645386,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "25bccfbe.74997",
                "83d763f9.c0daa",
                "5c90938f.aae84c",
                "5eb33de6.997004",
                "1269be21.81b8d2",
                "99edb9aa.d44a48",
                "5717a3b9.d0abfc",
                "d6422a31.9a6c68",
                "31c3f05.90cfe1",
                "7d3ffa6.132c704",
                "78a6faf9.59c974"
            ]
        ]
    },
    {
        "id": "5c90938f.aae84c",
        "type": "set",
        "name": "Calculate RRM Parms1",
        "xml": "<set>\n<parameter name='tmp.uLThptPerSlice' value='`$payloadJson.input.sliceProfile.uLThptPerSlice`' />\n",
        "comments": "",
        "x": 4415.552307128906,
        "y": 4928.135252952576,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "5eb33de6.997004",
        "type": "set",
        "name": "Calculate RRM Parms2",
        "xml": "<set>\n<parameter name='tmp.dLThptPerSlice' value='`$payloadJson.input.sliceProfile.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4424.093566894531,
        "y": 4973.155272424221,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "1269be21.81b8d2",
        "type": "set",
        "name": "Calculate RRM Parms3",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConns' value='`$payloadJson.input.sliceProfile.maxNumberOfConns`' />",
        "comments": "",
        "x": 4414.093688964844,
        "y": 5028.1551503539085,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "99edb9aa.d44a48",
        "type": "set",
        "name": "Calculate RRM Parms4",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity1' value='`$tmp.uLThptPerSlice + $tmp.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4414.093566894531,
        "y": 5079.155150413513,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "5717a3b9.d0abfc",
        "type": "set",
        "name": "Calculate RRM Parms5",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity' value='`$tmp.nearRTRIC.trafficCapacity1 / 2`' />",
        "comments": "",
        "x": 4402.093688964844,
        "y": 5139.155272424221,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "d6422a31.9a6c68",
        "type": "set",
        "name": "Calculate RRM Parms6",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacityBPS' value='`$tmp.nearRTRIC.trafficCapacity * 1000000`' />",
        "comments": "",
        "x": 4440.093566894531,
        "y": 5189.155272424221,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "31c3f05.90cfe1",
        "type": "set",
        "name": "Calculate RRM Parms7",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.totalPRBForSNSSAI' value='`$tmp.nearRTRIC.trafficCapacityBPS / 1008000`' />\n",
        "comments": "",
        "x": 4427.093505859375,
        "y": 5259.155638694763,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "7d3ffa6.132c704",
        "type": "set",
        "name": "calculation8",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.PRBPerImpactedCell' value='`$tmp.nrcelldu.totalPRBForSNSSAI / $tmp.cellDUList_length`' />\n",
        "comments": "",
        "x": 4398.093505859375,
        "y": 5323.154662132263,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "78a6faf9.59c974",
        "type": "set",
        "name": "calculation9",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU1' value='`$tmp.nrcelldu.PRBPerImpactedCell * 100`' />\n",
        "comments": "",
        "x": 4386.094055175781,
        "y": 5374.154540061951,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "83d763f9.c0daa",
        "type": "set",
        "name": "calculation10",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU' value='`$tmp.rRMPolicyDedicatedRatio.CellDU1 / $prop.nrcelldu.TotalPRBsPerCell`' />\n",
        "comments": "",
        "x": 4361.5523681640625,
        "y": 5440.135008811951,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "25bccfbe.74997",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio for CellDU \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>\n<parameter name=\"field3\" value=\"tmp.nearRTRIC.trafficCapacity1 \"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.trafficCapacity1`\"/>\n<parameter name=\"field5\" value=\"tmp.nearRTRIC.trafficCapacity \"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.trafficCapacity`\"/>\n<parameter name=\"field7\" value=\"tmp.nearRTRIC.trafficCapacityBPS\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRIC.trafficCapacityBPS`\"/>\n<parameter name=\"field9\" value=\"tmp.nrcelldu.totalPRBForSNSSAI \"/>\n<parameter name=\"field10\" value=\"`$tmp.nrcelldu.totalPRBForSNSSAI`\"/>\n<parameter name=\"field11\" value=\"tmp.nrcelldu.PRBPerImpactedCell \"/>\n<parameter name=\"field12\" value=\"`$tmp.nrcelldu.PRBPerImpactedCell`\"/>\n<parameter name=\"field13\" value=\"tmp.rRMPolicyDedicatedRatio.CellDU1 \"/>\n<parameter name=\"field14\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU1`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4187.562294006348,
        "y": 5452.256315231323,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "fa410ab8.5baa78",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='iddu-rrm' start='0' end='`$tmp.rrmPolicyRatioDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3407.8125,
        "y": 5641.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d5e66414.61b738"
            ]
        ]
    },
    {
        "id": "d5e66414.61b738",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3628.8125,
        "y": 5661.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "178d9c71.3e3cd4",
                "7eb64cc3.660424",
                "d35c9422.9abe48",
                "84121f2e.40449",
                "73826fd4.8f1b6",
                "6c4671d6.29012"
            ]
        ]
    },
    {
        "id": "178d9c71.3e3cd4",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_cellDU' value=\"`'$get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $iddu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellDU_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_cellDU + $tmp.rRMPolicyDedicatedRatio.CellDU`\" />",
        "comments": "",
        "x": 3953.8125,
        "y": 5638.8125,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "d35c9422.9abe48",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3921.8125,
        "y": 5689.812271118164,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "6c8d9351.4d651c",
                "f56b6248.5a011"
            ]
        ]
    },
    {
        "id": "6c8d9351.4d651c",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4121.8125,
        "y": 5696.812026977539,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "f50efe95.ca3d2"
            ]
        ]
    },
    {
        "id": "f50efe95.ca3d2",
        "type": "execute",
        "name": "patchRRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4403.8124923706055,
        "y": 5651.812838077545,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "73826fd4.8f1b6",
        "type": "set",
        "name": "RRMPolicyRatio id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyRatio_id' value=\"`'$get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+'].id'`\" />",
        "comments": "",
        "x": 3935.8125,
        "y": 5727.812271118164,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "6c4671d6.29012",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`'$get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+ ']'.attributes.rRMPolicyMemberList_length+1`\" />",
        "comments": "",
        "x": 3926.8125,
        "y": 5774.812271118164,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "7eb64cc3.660424",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Updated RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatio_updated`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3883.8125,
        "y": 5818.812271118164,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "84121f2e.40449",
        "type": "execute",
        "name": "patch NRCellDU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3950.8125,
        "y": 5860.812271118164,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "f3b17c12.36f39",
                "b73daad5.796e88"
            ]
        ]
    },
    {
        "id": "f3b17c12.36f39",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4222.8125,
        "y": 5852.812271118164,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "6383fa28.ddc1f4"
            ]
        ]
    },
    {
        "id": "6383fa28.ddc1f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4413.8125,
        "y": 5852.812271118164,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "68bb8ff1.a9c8"
            ]
        ]
    },
    {
        "id": "68bb8ff1.a9c8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4598.812255859375,
        "y": 5853.812515258789,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "ab223540.8967f8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4680.8125,
        "y": 5896.812271118164,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "b6b94cea.8a762",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating RRMPolicyRatio for NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4685.8123779296875,
        "y": 5991.81233215332,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "6b1cdeed.a4366",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4440.812744140625,
        "y": 5945.812271118164,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "b6b94cea.8a762",
                "ab223540.8967f8",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "b73daad5.796e88",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4221.8125,
        "y": 5940.812271118164,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "6b1cdeed.a4366"
            ]
        ]
    },
    {
        "id": "2ea51be.93ad1e4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3143.3125915527344,
        "y": 5945.81259727478,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "c73356e6.02bb68",
                "39bf934c.b3043c"
            ]
        ]
    },
    {
        "id": "c73356e6.02bb68",
        "type": "execute",
        "name": "Update cellDU for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBDU`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/restapi.configDB.updategNBDU.templatefile'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3606.3125,
        "y": 5953.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a24fd2cf.8b1ec",
                "8419e3c3.46911"
            ]
        ]
    },
    {
        "id": "a24fd2cf.8b1ec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3893.3125,
        "y": 5924.812744140625,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "89e2bad2.ccb4f8"
            ]
        ]
    },
    {
        "id": "8419e3c3.46911",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3842.3125,
        "y": 6025.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "64bf915a.e00cf"
            ]
        ]
    },
    {
        "id": "64bf915a.e00cf",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3928.312484741211,
        "y": 6106.812561035156,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a85db168.b368f"
            ]
        ]
    },
    {
        "id": "89e2bad2.ccb4f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4085.3125,
        "y": 6040.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "5e5df2c7.c7192c",
                "9592e6f2.09e4f8",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "9592e6f2.09e4f8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4251.312301635742,
        "y": 6008.812488555908,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "a85db168.b368f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4092.3125,
        "y": 6112.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "5e5df2c7.c7192c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4256.3121337890625,
        "y": 6101.812561035156,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "fa7c7018.fe14d",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4294.312301635742,
        "y": 6152.812488555908,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "7184d1ab.d87de",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4299.31217956543,
        "y": 6247.812549591064,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "31dba375.14b29c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4128.312545776367,
        "y": 6186.812488555908,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "7184d1ab.d87de",
                "fa7c7018.fe14d",
                "ef5706f3.674e08"
            ]
        ]
    },
    {
        "id": "ad921fdb.ed082",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3925.312545776367,
        "y": 6189.812488555908,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "31dba375.14b29c"
            ]
        ]
    },
    {
        "id": "39bf934c.b3043c",
        "type": "execute",
        "name": "Update RRMPolicy for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3627.312545776367,
        "y": 6239.812488555908,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "ad921fdb.ed082",
                "9dc33a14.4035f8"
            ]
        ]
    },
    {
        "id": "9dc33a14.4035f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3925.312545776367,
        "y": 6299.812244415283,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "3a10913d.9ec45e"
            ]
        ]
    },
    {
        "id": "3a10913d.9ec45e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4106.312545776367,
        "y": 6293.812488555908,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "acec8e16.d2012"
            ]
        ]
    },
    {
        "id": "acec8e16.d2012",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellDU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4272.312545776367,
        "y": 6294.812488555908,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "ef5706f3.674e08",
        "type": "block",
        "name": "block : SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4765.296875,
        "y": 2845.8125026226044,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "e14a6d46.023e1",
                "f540d7f6.c63608",
                "dcc8b791.a74578"
            ]
        ]
    },
    {
        "id": "e14a6d46.023e1",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.so.callbackURL\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiateRANSlice-input.common-header.request-id`\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiateRANSlice-input.action`\"/>\n",
        "comments": "",
        "x": 5427.2978515625,
        "y": 2637.7121608257294,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "f540d7f6.c63608",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$tmp.so.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />",
        "comments": "",
        "outputs": 1,
        "x": 5402.296737670898,
        "y": 2734.8128383159637,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "dcc8b791.a74578",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$tmp.so.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-modify-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 5317.29674911499,
        "y": 2831.8127162456512,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "aa777b08.53a7a8",
                "104728ce.e17727"
            ]
        ]
    },
    {
        "id": "aa777b08.53a7a8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5543.296757698059,
        "y": 2808.812685251236,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "f4582848.a8f468"
            ]
        ]
    },
    {
        "id": "104728ce.e17727",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5533.296611785889,
        "y": 2916.812624692917,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "c051cef5.032e7"
            ]
        ]
    },
    {
        "id": "c051cef5.032e7",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5683.296398162842,
        "y": 2935.812685728073,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "afe80856.a1d1c8"
            ]
        ]
    },
    {
        "id": "f4582848.a8f468",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5694.296627044678,
        "y": 2803.8128073215485,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "7098be89.b1eb5"
            ]
        ]
    },
    {
        "id": "7098be89.b1eb5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 5860.296306610107,
        "y": 2806.812624692917,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "afe80856.a1d1c8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 5847.296413421631,
        "y": 2941.812624692917,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "134f1599.6c4a8a",
        "type": "block",
        "name": "SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 847.296875,
        "y": 4527.812502622604,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "82904319.0efd1",
                "5831ff8f.1496e",
                "1d979743.441219",
                "fa9893c6.512cc"
            ]
        ]
    },
    {
        "id": "1d979743.441219",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiate-r-a-n-slice-input.common-header.request-id `\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiate-r-a-n-slice-input.action`\"/>\n",
        "comments": "",
        "x": 1127.2980194091797,
        "y": 4377.711987257004,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "82904319.0efd1",
        "type": "record",
        "name": "record SO reply parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$payloadJson.input.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1124.2968521118164,
        "y": 4531.812685728073,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "5831ff8f.1496e",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"restapiUser\" value=\"`$prop.restapi.so.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.restapi.so.password`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 993.2969512939453,
        "y": 4648.812390089035,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a65f78fa.56f2d8",
                "c50ac077.03657"
            ]
        ]
    },
    {
        "id": "a65f78fa.56f2d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1158.2969512939453,
        "y": 4628.812389135361,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a2576d09.489f3"
            ]
        ]
    },
    {
        "id": "c50ac077.03657",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1150.2968444824219,
        "y": 4701.812339544296,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "e328c501.176f58"
            ]
        ]
    },
    {
        "id": "e328c501.176f58",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1296.296688079834,
        "y": 4706.812448263168,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "6c9548b2.9d00a8"
            ]
        ]
    },
    {
        "id": "a2576d09.489f3",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1307.2968521118164,
        "y": 4624.812524557114,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "97c6f5ad.db3368",
                "7528351d.82c32c"
            ]
        ]
    },
    {
        "id": "97c6f5ad.db3368",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 1454.2964706420898,
        "y": 4635.812266111374,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "6c9548b2.9d00a8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1457.2966079711914,
        "y": 4712.812340497971,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "7528351d.82c32c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error sending SO response. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1441.8070793151855,
        "y": 4539.801757574081,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "fa9893c6.512cc",
        "type": "execute",
        "name": "generate URL for SO Callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.so.callbackURL`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.so.callbackURL\"/>\n    <parameter name=\"target\" value=\"{requestId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.requestID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1146.636474609375,
        "y": 4467.79783987999,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "2db4eb44.da6004",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2548.8125,
        "y": 1842.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "6181616d.f9638"
            ]
        ]
    },
    {
        "id": "6181616d.f9638",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2741.802158355713,
        "y": 1842.8126220703125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "368a72f6.49333e",
                "255bdee5.7c7202"
            ]
        ]
    },
    {
        "id": "368a72f6.49333e",
        "type": "execute",
        "name": "generate fetchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3048.802345275879,
        "y": 1809.81272315979,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "255bdee5.7c7202",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2992.802745819092,
        "y": 1862.8129167556763,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "1be9da11.5515e6",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2976.3125,
        "y": 1226.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "914f0a5c.a3eae8",
                "a4bc1334.77552"
            ]
        ]
    },
    {
        "id": "a4bc1334.77552",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3227.312931060791,
        "y": 1249.81263256073,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "914f0a5c.a3eae8",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3283.312530517578,
        "y": 1196.8124389648438,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "c7e85be4.6ec848",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3479.312641143799,
        "y": 2323.8125944137573,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "9860039d.f6928",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3535.312240600586,
        "y": 2270.812400817871,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "53ef7019.7a1f9",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3228.31205368042,
        "y": 2303.8122997283936,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "9860039d.f6928",
                "c7e85be4.6ec848"
            ]
        ]
    },
    {
        "id": "4555531e.6f353c",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3035.322395324707,
        "y": 2303.812177658081,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "53ef7019.7a1f9"
            ]
        ]
    },
    {
        "id": "40ea92ad.608b2c",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2515.8125,
        "y": 2879.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "9ec13137.5f236",
        "type": "execute",
        "name": "generate patchPLMNInfoList.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2571.812099456787,
        "y": 2826.8123064041138,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "cec48822.0fc488",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2269.8121643066406,
        "y": 2866.8122453689575,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "9ec13137.5f236",
                "40ea92ad.608b2c"
            ]
        ]
    },
    {
        "id": "ea9d3f75.46bf6",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2295.8125,
        "y": 3223.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "4c5f38d0.c0dbe8",
                "408475cd.4bbdbc"
            ]
        ]
    },
    {
        "id": "4c5f38d0.c0dbe8",
        "type": "execute",
        "name": "fetch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2597.8124351501465,
        "y": 3183.8125610351562,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "408475cd.4bbdbc",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2541.8128356933594,
        "y": 3236.8127546310425,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "84a6a111.772e4",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2068.3125,
        "y": 3232.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "ea9d3f75.46bf6"
            ]
        ]
    },
    {
        "id": "96bf52a5.a5094",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2605.3125,
        "y": 3678.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "f833b9d4.5c52d8"
            ]
        ]
    },
    {
        "id": "f833b9d4.5c52d8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2832.8125,
        "y": 3669.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "56078e71.c09d6",
                "da40eae9.0ed398"
            ]
        ]
    },
    {
        "id": "56078e71.c09d6",
        "type": "execute",
        "name": "patch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3134.8124351501465,
        "y": 3629.8125610351562,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "da40eae9.0ed398",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3078.8128356933594,
        "y": 3682.8127546310425,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "e66f84d4.6add28",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3718.3125,
        "y": 4661.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "260b2835.22a518",
                "6e4be15c.f00f2"
            ]
        ]
    },
    {
        "id": "260b2835.22a518",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4025.312530517578,
        "y": 4631.812438964844,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "6e4be15c.f00f2",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3969.312931060791,
        "y": 4684.81263256073,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "5a933026.4d27b",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3615.0625,
        "y": 5284.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "a8f05d38.a83c1"
            ]
        ]
    },
    {
        "id": "a8f05d38.a83c1",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3782.062732696533,
        "y": 5283.0620975494385,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "4c48557d.0a3a9c",
                "73416530.7efcdc"
            ]
        ]
    },
    {
        "id": "4c48557d.0a3a9c",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4029.0625495910645,
        "y": 5250.0620975494385,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "73416530.7efcdc",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3972.0630378723145,
        "y": 5311.062463760376,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "f56b6248.5a011",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4115.0625,
        "y": 5759.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "bbf06627.f3ed78"
            ]
        ]
    },
    {
        "id": "bbf06627.f3ed78",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4282.062732696533,
        "y": 5758.0620975494385,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "5f9cb422.af919c",
                "da32c67c.e299e8"
            ]
        ]
    },
    {
        "id": "5f9cb422.af919c",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4529.062549591064,
        "y": 5725.0620975494385,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "da32c67c.e299e8",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4472.063037872314,
        "y": 5786.062463760376,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "e20376cf.788968",
        "type": "comment",
        "name": "instantiateRANSlice-ModifyAllocate",
        "info": "",
        "comments": "",
        "x": 1096.5625,
        "y": 154.0625,
        "z": "7108e868.a979d8",
        "wires": []
    },
    {
        "id": "f75f3c8b.be38f",
        "type": "execute",
        "name": "read PLMNList size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.pLMNInfoList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].cellCUList['+ $idcu +'].pLMNInfoList_length '`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2322.4656295776367,
        "y": 885.909752368927,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "ab9b5a5f.7edca8",
        "type": "for",
        "name": "foreach PLMNInfo",
        "xml": "<for index='id-cuplmn' start='0' end='`$tmp.pLMNInfoList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2337.0490646362305,
        "y": 949.6597952842712,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "327234de.3a864c"
            ]
        ]
    },
    {
        "id": "327234de.3a864c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2514.9380416870117,
        "y": 872.437584400177,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "1a9da553.0446fb",
                "ed323aec.b19e28",
                "81e0ba30.914fd8"
            ]
        ]
    },
    {
        "id": "1a9da553.0446fb",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"sNSSAI - getNFNSSIRIC-configdb-response\"/>\n<parameter name=\"field2\" value=\"`$tmp.configDBSNSSAI`\"/>\n<parameter name=\"field3\" value=\"sNSSAI from request\"/>\n<parameter name=\"field4\" value=\"`$tmp.sNSSAI`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2720.827003479004,
        "y": 895.6597666740417,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "ed323aec.b19e28",
        "type": "switchNode",
        "name": "is NSSAI exists",
        "xml": "<switch test='`$tmp.configDBSNSSAI == $tmp.sNSSAI`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2759.7158432006836,
        "y": 960.2153334617615,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "7dcede1.de3672"
            ]
        ]
    },
    {
        "id": "7dcede1.de3672",
        "type": "outcome",
        "name": "True",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2949.1880416870117,
        "y": 960.437662601471,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "d5711de.7d20ee"
            ]
        ]
    },
    {
        "id": "81e0ba30.914fd8",
        "type": "execute",
        "name": "read sNSSAI from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.configDBSNSSAI' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].cellCUList['+ $idcu +'].pLMNInfoList['+ $id-cuplmn +'].sNSSAI.sNSSAI'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2849.8268966674805,
        "y": 827.6598153114319,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "9075c0f5.a64f5",
        "type": "execute",
        "name": "read PLMNList size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.DUpLMNInfoList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].pLMNInfoList_length '`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2445.3125,
        "y": 4357.8125,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "db078c99.82cd6",
        "type": "for",
        "name": "foreach PLMNInfo",
        "xml": "<for index='id-duplmn' start='0' end='`$tmp.DUpLMNInfoList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2423.6458740234375,
        "y": 4427.8125,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "790d6865.84f598"
            ]
        ]
    },
    {
        "id": "790d6865.84f598",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2609.0346603393555,
        "y": 4421.8402099609375,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "31b6396b.687da6",
                "d7e5ca37.7359c8",
                "fdf60abf.fb88a8"
            ]
        ]
    },
    {
        "id": "fdf60abf.fb88a8",
        "type": "execute",
        "name": "read sNSSAI from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.configDBSNSSAI-DU' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].pLMNInfoList['+ $id-duplmn +'].sNSSAI.sNSSAI'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2975.173667907715,
        "y": 4307.062685012817,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "31b6396b.687da6",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"sNSSAI - getNFNSSIRIC-configdb-response\"/>\n<parameter name=\"field2\" value=\"`$tmp.configDBSNSSAI-DU`\"/>\n<parameter name=\"field3\" value=\"sNSSAI from request\"/>\n<parameter name=\"field4\" value=\"`$tmp.sNSSAI`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2844.923667907715,
        "y": 4375.062562942505,
        "z": "7108e868.a979d8",
        "wires": [
            []
        ]
    },
    {
        "id": "d7e5ca37.7359c8",
        "type": "switchNode",
        "name": "is NSSAI exists",
        "xml": "<switch test='`$tmp.configDBSNSSAI-DU == $tmp.sNSSAI`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2840.06258392334,
        "y": 4448.3682289123535,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "46572f40.c306d"
            ]
        ]
    },
    {
        "id": "46572f40.c306d",
        "type": "outcome",
        "name": "True",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3009.5347213745117,
        "y": 4474.840398788452,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "2e0cb657.fa72aa"
            ]
        ]
    },
    {
        "id": "2d9b1779.25da68",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2230.3125610351562,
        "y": 4495.312624931335,
        "z": "7108e868.a979d8",
        "wires": [
            [
                "9075c0f5.a64f5",
                "db078c99.82cd6"
            ]
        ]
    },
    {
        "id": "f0e433f3.dc406",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"SUCCESSFUL Execution\" />",
        "comments": "",
        "x": 495.83331298828125,
        "y": 1529.1666259765625,
        "z": "7108e868.a979d8",
        "wires": []
    }
]