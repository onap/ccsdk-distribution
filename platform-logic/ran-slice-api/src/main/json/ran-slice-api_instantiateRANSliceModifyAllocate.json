[
    {
        "id": "45db066e.4f5378",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 332.50011825561523,
        "y": 86.75060844421387,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "8d3949af.5d0208"
            ]
        ]
    },
    {
        "id": "8d3949af.5d0208",
        "type": "service-logic",
        "name": "ran-slice-api ${project.version}",
        "module": "ran-slice-api",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='ran-slice-api' version='${project.version}'>",
        "outputs": 1,
        "x": 417.5001411437988,
        "y": 153.75057792663574,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c93e6c03.ef50b"
            ]
        ]
    },
    {
        "id": "c93e6c03.ef50b",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='instantiateRANSliceModifyAllocate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 351.50011825561523,
        "y": 213.75054359436035,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c5ac3703.90b4f8"
            ]
        ]
    },
    {
        "id": "c5ac3703.90b4f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 347.5001106262207,
        "y": 274.7505798339844,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "533332bf.efac4c",
                "a1d1c02f.349b2",
                "e6704d5b.96dc4",
                "bf5246ba.d3ccd8",
                "175ea2ed.59262d",
                "54f13885.5ff1d8",
                "eae0baff.772378",
                "e1d5099c.b7b918"
            ]
        ]
    },
    {
        "id": "533332bf.efac4c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 614.5001182556152,
        "y": 265.7506182193756,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "8d244e37.e8dd5",
                "78699d4d.84b434",
                "b693e488.060698",
                "502891f9.ea242",
                "c5796382.83e7b"
            ]
        ]
    },
    {
        "id": "8d244e37.e8dd5",
        "type": "execute",
        "name": "generate getNearRTRICsFromRANNFNSSI URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getNearRTRICByNSSI`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getNearRTRICByNSSI.url\"/>\n    <parameter name=\"target\" value=\"{ranNFNSSIId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.RANNFNSSIId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 950.0001182556152,
        "y": 229.7506217956543,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "78699d4d.84b434",
        "type": "record",
        "name": "record configdb RestAPI params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for configDB to Get NearRTRIC for RANNFNSSI\"/>\n<parameter name='field2' value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\" />\n<parameter name='field3' value=\"`$tmp.payload.RANNFNSSIId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 909.0001258850098,
        "y": 269.50060653686523,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b693e488.060698",
        "type": "execute",
        "name": "Get nearRTRIC for RANNFNSSIId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getNFNSSIRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 920.0001945495605,
        "y": 313.00061225891113,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "624a8759.fee8f8",
                "1e0baca6.d74623"
            ]
        ]
    },
    {
        "id": "624a8759.fee8f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1170.3183555603027,
        "y": 341.5687084197998,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "6e686775.f47548"
            ]
        ]
    },
    {
        "id": "6e686775.f47548",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1343.318157196045,
        "y": 330.56878089904785,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "3bcc1470.a2187c",
                "773d3645.bba1c8"
            ]
        ]
    },
    {
        "id": "3bcc1470.a2187c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained NearRT RIC info from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getNFNSSIRIC-configdb-response._length`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1544.067886352539,
        "y": 330.3188056945801,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "773d3645.bba1c8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1579.8460998535156,
        "y": 373.5688142776489,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1e0baca6.d74623",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1180.818214416504,
        "y": 290.0687503814697,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "aba90385.93b2f"
            ]
        ]
    },
    {
        "id": "aba90385.93b2f",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1339.5682945251465,
        "y": 264.06882190704346,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "82b5a66e.abf1b8",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "82b5a66e.abf1b8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1512.3179321289062,
        "y": 276.67984771728516,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "77a62abd.fd91c4",
        "type": "for",
        "name": "foreach NearRTRIC",
        "xml": "<for index='idy' start='0' end='`$getNFNSSIRIC-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 474.5001564025879,
        "y": 1375.5688776373863,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b2b5aa8f.9a03e8",
                "952b43a6.0751e",
                "a3288d36.d1603",
                "82ca1538.e86a78"
            ]
        ]
    },
    {
        "id": "b2b5aa8f.9a03e8",
        "type": "block",
        "name": "Process NearRTRIC",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 800.4091835021973,
        "y": 1169.4779424667358,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "52aa7530.2084fc",
                "bf1a84be.4b3b78",
                "940c72f3.e5deb",
                "dded4bee.1962c8",
                "f95a9f61.7daad",
                "da8b657.6c3e498"
            ]
        ]
    },
    {
        "id": "52aa7530.2084fc",
        "type": "execute",
        "name": "read nearRTRICId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.nearRTRICId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].nearRTRICId'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1254.0456352233887,
        "y": 1000.4779138565063,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "bf1a84be.4b3b78",
        "type": "execute",
        "name": "read gNBId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.gNBId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy + '].gNBId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1225.0456199645996,
        "y": 1043.4779748916626,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "940c72f3.e5deb",
        "type": "set",
        "name": "Calculate uLThptPerSlice dLThptPerSlice maxNumberOfConns",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.uLThptPerSlice1' value='`$payloadJson.input.sliceProfile.uLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.uLThptPerSlice' value='`$tmp.nearRTRIC.uLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice1' value='`$payloadJson.input.sliceProfile.dLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice' value='`$tmp.nearRTRIC.dLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns1' value='`$payloadJson.input.sliceProfile.maxNumberofConns * 1.1`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns' value='`$tmp.nearRTRIC.maxNumberOfConns1 / $getNFNSSIRIC-configdb-response._length`' />",
        "comments": "",
        "x": 1355.409252166748,
        "y": 1118.2960767745972,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "dded4bee.1962c8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated uLThptPerSlice for nearRTRIC \"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field3\" value=\"dLThptPerSlice for nearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConn for nearRTRIC\"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"nearRTRICId\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"RANNFNSSI\"/>\n<parameter name=\"field12\" value=\"`$tmp.ranNFNSSIListEntry`\"/>\n<parameter name=\"field13\" value=\"NSSAI\"/>\n<parameter name=\"field14\" value=\"`$tmp.payload.sNSSAI`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1201.3182487487793,
        "y": 1159.2961530685425,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "f95a9f61.7daad",
        "type": "execute",
        "name": "Update nearRT RIC Details in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updatenearRTRIC`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updatenearRTRIC.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"modify-allocate-nearRTRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1307.3183403015137,
        "y": 1205.205241203308,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "dbf785fe.a48e98",
                "17d543d8.91307c"
            ]
        ]
    },
    {
        "id": "dbf785fe.a48e98",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1663.3182334899902,
        "y": 1130.0232524871826,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a4adc50c.5cf018"
            ]
        ]
    },
    {
        "id": "a4adc50c.5cf018",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1795.3183555603027,
        "y": 1092.0232524871826,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "4876a8b2.106e28",
                "b4771796.a65aa8"
            ]
        ]
    },
    {
        "id": "b4771796.a65aa8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1984.3181114196777,
        "y": 1039.1342754364014,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "4876a8b2.106e28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1992.3181114196777,
        "y": 1139.0233135223389,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "17d543d8.91307c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1661.1363487243652,
        "y": 1229.9323711395264,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "23e5b0f9.6902e"
            ]
        ]
    },
    {
        "id": "23e5b0f9.6902e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1825.1362266540527,
        "y": 1230.9324932098389,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "571e663.7cacc98"
            ]
        ]
    },
    {
        "id": "571e663.7cacc98",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Updated NearRT RIC info in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1975.1362266540527,
        "y": 1225.9326152801514,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "da8b657.6c3e498",
        "type": "execute",
        "name": "set params",
        "xml": "<set>\n<parameter name='tmp.ranNFNSSIListEntry' value=\"`$payloadJson.input.RANNFNSSIId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1257.5001335144043,
        "y": 1081.750636100769,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "4a4de885.df2bc8",
        "type": "execute",
        "name": "read CUCP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1178.5001182556152,
        "y": 1273.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "952b43a6.0751e",
        "type": "block",
        "name": "Process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 778.5001182556152,
        "y": 1257.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "4a4de885.df2bc8",
                "49b9c32e.74556c",
                "66589b76.2e92a4"
            ]
        ]
    },
    {
        "id": "49b9c32e.74556c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUCP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1150.5001182556152,
        "y": 1338.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "66589b76.2e92a4",
        "type": "for",
        "name": "foreach CUCP",
        "xml": "<for index='idz' start='0' end='`$tmp.CUCPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1178.5001182556152,
        "y": 1413.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "7d90c2a5.65895c"
            ]
        ]
    },
    {
        "id": "7d90c2a5.65895c",
        "type": "block",
        "name": "block : process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1399.5001182556152,
        "y": 1420.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "3a0bfe44.4d48d2",
                "290ce8b.1512818",
                "c8c23d75.86d93",
                "133b1b9e.a1e5e4"
            ]
        ]
    },
    {
        "id": "3a0bfe44.4d48d2",
        "type": "execute",
        "name": "read CUCP name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPName' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].gNBCUName'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1750.5001182556152,
        "y": 1273.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "290ce8b.1512818",
        "type": "for",
        "name": "for cellCUList",
        "xml": "<for index='idcu' start='0' end='`$tmp.cellCUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1754.5001182556152,
        "y": 1417.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "11936b35.7036e5"
            ]
        ]
    },
    {
        "id": "e5dbefba.9baa8",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2403.5001182556152,
        "y": 1441.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "8bd856d9.9a3088",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2432.5001335144043,
        "y": 1516.7506566047668,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a1a2d75c.699e88",
                "79c4b481.bb419c"
            ]
        ]
    },
    {
        "id": "94ab93f5.bb8fd",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.CUCPName`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellCULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2397.500202178955,
        "y": 1478.750717639923,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "7158516d.93aa1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2268.5001182556152,
        "y": 1024.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e5dbefba.9baa8",
                "94ab93f5.bb8fd",
                "8bd856d9.9a3088",
                "242ff40d.32c42c",
                "67461151.5c6a",
                "1523d8ad.7f14d7",
                "644df180.0526e",
                "eaa7634d.ff006",
                "366b213.055d8de",
                "facd63b.a25fea",
                "447dd9d2.c3e1e8"
            ]
        ]
    },
    {
        "id": "a1a2d75c.699e88",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2688.500232696533,
        "y": 1566.750825881958,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d70c4c10.16388"
            ]
        ]
    },
    {
        "id": "d70c4c10.16388",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2861.5000190734863,
        "y": 1565.7508869171143,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "ee526732.0b3b98"
            ]
        ]
    },
    {
        "id": "ee526732.0b3b98",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3059.5000801086426,
        "y": 1562.7510089874268,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "79c4b481.bb419c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2653.500202178955,
        "y": 1449.750581741333,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "46ded3a3.49b8ac"
            ]
        ]
    },
    {
        "id": "46ded3a3.49b8ac",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2803.500476837158,
        "y": 1408.7507648468018,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c90cc5ec.646dd8",
                "eb085ac9.c90e58",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "c90cc5ec.646dd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRcellCU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2974.5001106262207,
        "y": 1469.750825881958,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "eb085ac9.c90e58",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2969.500232696533,
        "y": 1374.7507648468018,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "242ff40d.32c42c",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2485.5001182556152,
        "y": 1251.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "67461151.5c6a",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2446.5001182556152,
        "y": 1319.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1523d8ad.7f14d7",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 2413.5001182556152,
        "y": 1377.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "c8c23d75.86d93",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUCPName \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPName`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1723.5001182556152,
        "y": 1324.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "133b1b9e.a1e5e4",
        "type": "execute",
        "name": "read cellCU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList[' + $idz +'].cellCUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1764.5001182556152,
        "y": 1373.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "644df180.0526e",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2491.5001182556152,
        "y": 1087.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a09315b0.2af6b8",
                "217729da.605496"
            ]
        ]
    },
    {
        "id": "a09315b0.2af6b8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2699.5001182556152,
        "y": 1052.7503643035889,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "6d24bf54.874ec"
            ]
        ]
    },
    {
        "id": "6d24bf54.874ec",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3019.5001182556152,
        "y": 1067.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "217729da.605496",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2687.5001182556152,
        "y": 1154.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "45809bcd.347f74"
            ]
        ]
    },
    {
        "id": "eaa7634d.ff006",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2046.5001182556152,
        "y": 1838.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "8723249a.5ef488",
                "5c8d4062.b5d56",
                "7f7f154a.22b9cc",
                "64f2fe4c.f283a",
                "113b623a.4d524e",
                "4fe08282.3e7c3c",
                "af815272.c5e51",
                "1bf1be36.78dd12",
                "dbc1d430.373f08",
                "75d7a317.e70a0c",
                "f70ae8b2.428618"
            ]
        ]
    },
    {
        "id": "8723249a.5ef488",
        "type": "set",
        "name": "Calculate maxNumberOfConnsPercellCU",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConnsPercellCU' value='`$tmp.payload.maxNumberofConns / $tmp.cellCUList_length`' />\n",
        "comments": "",
        "x": 2302.5002574920654,
        "y": 1609.7507162094116,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "5c8d4062.b5d56",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio temp1 - \"/>\n<parameter name=\"field2\" value=\"`$tmp.maxNumberOfConnsPercellCU`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyRatio temp2 - \"/>\n<parameter name=\"field4\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellCU1`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.rRMPolicyDedicatedRatio_SliceProfile`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2245.500192642212,
        "y": 1737.7506856918335,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "7f7f154a.22b9cc",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2266.500192642212,
        "y": 1773.7506551742554,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "2bbfb811.7039f8",
                "cd0abc31.4010e"
            ]
        ]
    },
    {
        "id": "2bbfb811.7039f8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2446.5001182556152,
        "y": 1711.7503643035889,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "6966dc7b.e34fb4"
            ]
        ]
    },
    {
        "id": "6966dc7b.e34fb4",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2724.5001182556152,
        "y": 1703.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "64f2fe4c.f283a",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2303.5001182556152,
        "y": 1816.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "113b623a.4d524e",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2302.5001583099365,
        "y": 1856.7506284713745,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "6813123c.4d563c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2559.5000972747803,
        "y": 1959.750720024109,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "bc7e3f8a.f067c"
            ]
        ]
    },
    {
        "id": "bc7e3f8a.f067c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2718.4999961853027,
        "y": 1996.7507305145264,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "380dadd9.89c732",
                "d95b28a9.c47628"
            ]
        ]
    },
    {
        "id": "380dadd9.89c732",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2869.500104904175,
        "y": 1964.750934123993,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "60f165c9.a479ec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2556.5000705718994,
        "y": 1866.7506284713745,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "2081caf1.d9db36"
            ]
        ]
    },
    {
        "id": "2081caf1.d9db36",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2708.5003623962402,
        "y": 1864.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "cd52af1a.76ed7",
                "c275045f.89b9c8",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "cd52af1a.76ed7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2879.4999961853027,
        "y": 1925.7506694793701,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "c275045f.89b9c8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2874.5001182556152,
        "y": 1830.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "4fe08282.3e7c3c",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2335.5001888275146,
        "y": 1911.7506284713745,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "60f165c9.a479ec",
                "6813123c.4d563c"
            ]
        ]
    },
    {
        "id": "d95b28a9.c47628",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2895.5000438690186,
        "y": 1997.7506589889526,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "af815272.c5e51",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcu-rrm' start='0' end='`$tmp.rrmPolicyRatioList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2238.5001182556152,
        "y": 2101.75083732605,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "f5af1706.f4fe18"
            ]
        ]
    },
    {
        "id": "f5af1706.f4fe18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2459.5001182556152,
        "y": 2121.75083732605,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "825f8a5.0efbf78",
                "4217317f.f929",
                "1f7e0eab.7a46e1",
                "1a05f1b6.644c6e",
                "cc153db6.ff4e7",
                "b9eb7398.24921",
                "9a7c5231.a8353",
                "2ee18ed4.418262",
                "503fccce.5909a4",
                "1e9388c1.7d57b7",
                "77c4d473.59a97c"
            ]
        ]
    },
    {
        "id": "825f8a5.0efbf78",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellCU_new' value='`$tmp.rrmPolicyDedicatedRatiocellCU_old + $tmp.rRMPolicyDedicatedRatio_SliceProfile`' />",
        "comments": "",
        "x": 2777.500135421753,
        "y": 2081.7509059906006,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "4217317f.f929",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Existing RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatiocellCU_old`\"/>\n<parameter name=\"field3\" value=\"Updated RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field4\" value=\"`$tmp.rrmPolicyDedicatedRatio_CellCU_new`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2702.500165939331,
        "y": 2115.7506017684937,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1f7e0eab.7a46e1",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2752.5001182556152,
        "y": 2149.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "eb6c4b6c.1f47c8",
                "b86d38ae.7eb088"
            ]
        ]
    },
    {
        "id": "eb6c4b6c.1f47c8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3033.6111640930176,
        "y": 2077.8616466522217,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "2bd6f3c0.5dc19c"
            ]
        ]
    },
    {
        "id": "2bd6f3c0.5dc19c",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3278.5005226135254,
        "y": 2079.639497756958,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1a05f1b6.644c6e",
        "type": "execute",
        "name": "patch NRCellCU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2790.3888969421387,
        "y": 2327.417321205139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "5adcf8d6.c4e768",
                "635eb2e8.d392bc"
            ]
        ]
    },
    {
        "id": "5adcf8d6.c4e768",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3053.5001182556152,
        "y": 2312.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e81d3b51.a00758"
            ]
        ]
    },
    {
        "id": "e81d3b51.a00758",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3244.5001182556152,
        "y": 2312.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "ff58fa9b.336788"
            ]
        ]
    },
    {
        "id": "ff58fa9b.336788",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3429.4998741149902,
        "y": 2313.750852584839,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "635eb2e8.d392bc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3052.5001182556152,
        "y": 2400.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e01012f8.4c191"
            ]
        ]
    },
    {
        "id": "e01012f8.4c191",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3271.5003623962402,
        "y": 2405.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "9119ac25.1d81a",
                "902275c2.c7c4f8",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "9119ac25.1d81a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU - RRMPolicyRAtio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3516.4999961853027,
        "y": 2451.75066947937,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "902275c2.c7c4f8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3511.5001182556152,
        "y": 2356.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "1bf1be36.78dd12",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2222.5001182556152,
        "y": 2051.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "11936b35.7036e5",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1974.5001182556152,
        "y": 1326.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "5dc752b0.a0f74c"
            ]
        ]
    },
    {
        "id": "366b213.055d8de",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.cellCULocalId`\"/>\n<parameter name=\"field2\" value=\"CellCU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2463.5001182556152,
        "y": 1019.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "facd63b.a25fea",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1863.500072479248,
        "y": 2303.7506198883057,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a4478f51.7792a",
                "e8097102.d4289",
                "5e834183.3ed31",
                "e997cecd.7f8a",
                "ca00729c.bae75",
                "237cd60.bbeab2a",
                "67e8f86f.7f0ba8",
                "42e33edf.7283b",
                "5c982418.5c491c",
                "673d705e.44839"
            ]
        ]
    },
    {
        "id": "a4478f51.7792a",
        "type": "execute",
        "name": "Update cellCU for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUCP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBCUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2146.500072479248,
        "y": 2303.7506198883057,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "7fdc250b.96fcec",
                "5e10bbec.995df4"
            ]
        ]
    },
    {
        "id": "5e10bbec.995df4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2420.500202178955,
        "y": 2360.750729560852,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "61b0708d.7834d"
            ]
        ]
    },
    {
        "id": "7fdc250b.96fcec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2417.944637298584,
        "y": 2322.528648376465,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "bf6a973d.8cc7a8"
            ]
        ]
    },
    {
        "id": "bf6a973d.8cc7a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2625.500072479248,
        "y": 2390.7506198883057,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "733167af.935d88",
                "1bd8e5b7.c096fa",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "1bd8e5b7.c096fa",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2792.6110343933105,
        "y": 2365.417308807373,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "733167af.935d88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2849.833034515381,
        "y": 2426.1949882507324,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "54edf678.b39218",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2693.61128616333,
        "y": 2434.9727745056152,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "61b0708d.7834d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2552.9446182250977,
        "y": 2432.306127548218,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "54edf678.b39218"
            ]
        ]
    },
    {
        "id": "676f067.50614f8",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2287.5001792907715,
        "y": 2673.7507648468018,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "aea2f193.19e24",
                "97a2887f.561908"
            ]
        ]
    },
    {
        "id": "aea2f193.19e24",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2604.722553253174,
        "y": 2595.862030982971,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "bdf8cdd3.5b71c"
            ]
        ]
    },
    {
        "id": "97a2887f.561908",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2545.500171661377,
        "y": 2654.7503986358643,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d346e13a.e0708"
            ]
        ]
    },
    {
        "id": "bdf8cdd3.5b71c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2808.5000648498535,
        "y": 2596.7506017684937,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "17dc7be8.b76834",
                "59c36661.46e838",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "59c36661.46e838",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2990.055362701416,
        "y": 2590.5285472869873,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "17dc7be8.b76834",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2985.0552101135254,
        "y": 2628.8618297576904,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "d346e13a.e0708",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2673.5001106262207,
        "y": 2652.7506427764893,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "eb54345f.b245b8"
            ]
        ]
    },
    {
        "id": "eb54345f.b245b8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2812.5001182556152,
        "y": 2644.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "a3288d36.d1603",
        "type": "block",
        "name": "Process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 759.5001182556152,
        "y": 1483.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "84cf5b99.e2be68",
                "dbadb3f8.b93f5",
                "6d07f865.5d7708"
            ]
        ]
    },
    {
        "id": "84cf5b99.e2be68",
        "type": "execute",
        "name": "read CUUP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUUPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUUPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1090.5001182556152,
        "y": 1493.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "dbadb3f8.b93f5",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUUP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUUPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1062.5001182556152,
        "y": 1558.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "6d07f865.5d7708",
        "type": "for",
        "name": "foreach CUUP",
        "xml": "<for index='id-cuup' start='0' end='`$tmp.CUUPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1090.5001182556152,
        "y": 1633.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "98fe125d.0f07"
            ]
        ]
    },
    {
        "id": "98fe125d.0f07",
        "type": "block",
        "name": "block : process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1311.5001182556152,
        "y": 1640.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "75cf5700.f7c068",
                "e275ea1e.a73d98",
                "393b2b5d.ca8014"
            ]
        ]
    },
    {
        "id": "75cf5700.f7c068",
        "type": "execute",
        "name": "read CUUP id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.idGNBCUUPFunction' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUUPList['+ $id-cuup +'].gNBCUUPId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1565.5001258850098,
        "y": 1462.5283641815186,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "e275ea1e.a73d98",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"idGNBCUUPFunction \"/>\n<parameter name=\"field2\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1544.8334693908691,
        "y": 1514.306164264679,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "393b2b5d.ca8014",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1544.5001182556152,
        "y": 2724.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "7b9d5428.21273c",
                "be1149d8.1267f8",
                "7952f744.bf6458",
                "b008a98c.3db248",
                "144c983c.4a4158",
                "de9e0ef5.d63cb",
                "eeb64b73.f6f1b8",
                "b8c1164d.297578",
                "46afa7c.76b2e58",
                "2493294c.067066",
                "a8f71b3e.47cf58",
                "326d36c0.659d8a",
                "5733aa50.240114",
                "2af8d6a0.21f8ca",
                "b6c6b596.652898",
                "98a1fa09.a70c68",
                "d255a5f8.93a538",
                "ee6bb7ef.075e08",
                "251b09f3.ecd1c6"
            ]
        ]
    },
    {
        "id": "7952f744.bf6458",
        "type": "execute",
        "name": "patch PLMNInfoListEntry gNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoList-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-gNBCUUP-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 1859.1668968200684,
        "y": 2927.1951265335083,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "5b826838.7ba598",
                "8d4fd19a.47266"
            ]
        ]
    },
    {
        "id": "5b826838.7ba598",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2155.6113662719727,
        "y": 2958.084128379822,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "db7fcff3.83042"
            ]
        ]
    },
    {
        "id": "db7fcff3.83042",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2344.833637237549,
        "y": 2944.862009048462,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "bee87f6b.6e52e",
                "d00128a2.299d28",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "d00128a2.299d28",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2575.8336486816406,
        "y": 2906.639934539795,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "bee87f6b.6e52e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2603.056140899658,
        "y": 2947.3066902160645,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "a4b91994.fc38e8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - gNBCUUP PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2518.1665420532227,
        "y": 2988.9730281829834,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "e51cd3fe.b6533",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2331.8333587646484,
        "y": 2994.5285968780518,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a4b91994.fc38e8"
            ]
        ]
    },
    {
        "id": "8d4fd19a.47266",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2146.2778663635254,
        "y": 2998.4176063537598,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e51cd3fe.b6533"
            ]
        ]
    },
    {
        "id": "7b9d5428.21273c",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1811.5001182556152,
        "y": 2726.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "43707f6c.0192c",
                "fc989188.eeb4b"
            ]
        ]
    },
    {
        "id": "43707f6c.0192c",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2019.5001182556152,
        "y": 2691.750364303589,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a961ce2d.699c3"
            ]
        ]
    },
    {
        "id": "fc989188.eeb4b",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2003.0557823181152,
        "y": 2742.639602661133,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "9e5d12d.e72d0f"
            ]
        ]
    },
    {
        "id": "a961ce2d.699c3",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry CUUP URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2339.5001182556152,
        "y": 2706.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "be1149d8.1267f8",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1823.1667442321777,
        "y": 2771.3063230514526,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "cc153db6.ff4e7",
        "type": "set",
        "name": "RRMPolicyRatio id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+'].id'`\" />\n",
        "comments": "",
        "x": 2754.2782859802246,
        "y": 2225.5280952453613,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "b9eb7398.24921",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value='`$tmp.rrmPolicyMembers+1`'/>\n",
        "comments": "",
        "x": 2765.2780265808105,
        "y": 2261.4176597595215,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "b008a98c.3db248",
        "type": "set",
        "name": "Calculate rRMPolicyDedicatedRatio Temp",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio1' value='`$tmp.maxNumberOfDRBsPerCUUP*100`' />\n",
        "comments": "",
        "x": 1881.0559196472168,
        "y": 3036.973741531372,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "144c983c.4a4158",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio-CUUP`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1784.8336486816406,
        "y": 3101.1955666542053,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "de9e0ef5.d63cb",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1802.5001182556152,
        "y": 3141.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "2742bddb.f959d2",
                "98f50f4.c384ff"
            ]
        ]
    },
    {
        "id": "2742bddb.f959d2",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1980.5001182556152,
        "y": 3108.750364303589,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "70060914.4587a8"
            ]
        ]
    },
    {
        "id": "70060914.4587a8",
        "type": "execute",
        "name": "fetch RRMPolicyRatio CUUP - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2275.5001487731934,
        "y": 3054.7506647109985,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "eeb64b73.f6f1b8",
        "type": "execute",
        "name": "prepare idGNBCUUPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1839.500202178955,
        "y": 3196.7506217956543,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b8c1164d.297578",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - CUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-cuup-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1828.5004386901855,
        "y": 3302.750650405884,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d375110a.31593",
                "856c1280.0077a"
            ]
        ]
    },
    {
        "id": "d375110a.31593",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2085.500213623047,
        "y": 3243.750786781311,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1c9086ef.2cd7f9"
            ]
        ]
    },
    {
        "id": "1c9086ef.2cd7f9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2246.5003623962402,
        "y": 3262.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d3b5e7cf.85e3e8",
                "2889b7cf.b005f8",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "2889b7cf.b005f8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2412.5001182556152,
        "y": 3228.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "d3b5e7cf.85e3e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in fetching RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2468.610927581787,
        "y": 3272.6396312713623,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "a638f0ba.63813",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2453.722225189209,
        "y": 3368.3061876296997,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "615c4e8.2bbd2b",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2448.7220344543457,
        "y": 3311.972946166992,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "bcbb7a39.6f8168",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2256.0555839538574,
        "y": 3310.195255279541,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "615c4e8.2bbd2b",
                "a638f0ba.63813"
            ]
        ]
    },
    {
        "id": "856c1280.0077a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2076.500213623047,
        "y": 3313.750789642334,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "bcbb7a39.6f8168"
            ]
        ]
    },
    {
        "id": "46afa7c.76b2e58",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUUP - RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_CUUP_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1763.5003471374512,
        "y": 3438.75071144104,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "2493294c.067066",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcuup-rrm' start='0' end='`$tmp.rrmPolicyRatioList_CUUP_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1803.166835784912,
        "y": 3521.084210038185,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "397b7833.cbfb68"
            ]
        ]
    },
    {
        "id": "397b7833.cbfb68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2019.1667442321777,
        "y": 3537.083860397339,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "499f6aa9.a4cae4",
                "854660dc.d87ed",
                "fa81f714.d139d8",
                "18b7353a.facabb",
                "f8d7e4.9ac3282",
                "94c24bbc.d79fb8",
                "12719d1c.944633",
                "b60c29c.e2be9d8",
                "19f12dcc.bd00e2"
            ]
        ]
    },
    {
        "id": "499f6aa9.a4cae4",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CUUP_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP + $tmp.rRMPolicyDedicatedRatio-CUUP`\" />",
        "comments": "",
        "x": 2344.1667442321777,
        "y": 3514.083860397339,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "fa81f714.d139d8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2312.166721343994,
        "y": 3556.1950964927673,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1aa55154.5c855f",
                "a3834fb0.e7ee5"
            ]
        ]
    },
    {
        "id": "1aa55154.5c855f",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2529.1668434143066,
        "y": 3552.083680152893,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "eb902017.7e5c6"
            ]
        ]
    },
    {
        "id": "eb902017.7e5c6",
        "type": "execute",
        "name": "patch RRMPolicyRatio CUUP- URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2802.1667137145996,
        "y": 3522.0842304229736,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "f8d7e4.9ac3282",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`$tmp.rrmPolicyMembers-CUUP+1`\" />",
        "comments": "",
        "x": 2316.0556449890137,
        "y": 3707.8619108200073,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "854660dc.d87ed",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Updated RRMPolicyRatio for CUUP is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP_updated`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyRatio_id is - \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyMember_id CUUP is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field7\" value=\"Existing RRMPolicyMembers Length\"/>\n<parameter name=\"field8\" value=\"`$tmp.rrmPolicyMembers-CUUP`\"/>\n<parameter name=\"field9\" value=\"Update RRMPolicyRatio URL - \"/>\n<parameter name=\"field10\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2277.500385284424,
        "y": 3740.7508630752563,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "18b7353a.facabb",
        "type": "execute",
        "name": "patch CUUP- RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-CUUP-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2340.055652618408,
        "y": 3777.1948595046997,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "6c7099e3.969558",
                "3c95da4b.e0a996"
            ]
        ]
    },
    {
        "id": "6c7099e3.969558",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2613.1667442321777,
        "y": 3728.083860397339,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "82e3efec.c60ea"
            ]
        ]
    },
    {
        "id": "82e3efec.c60ea",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2804.1667442321777,
        "y": 3728.083860397339,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b6289eb1.c117"
            ]
        ]
    },
    {
        "id": "b6289eb1.c117",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2989.1665000915527,
        "y": 3729.084104537964,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b815db1a.054a38",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3071.1667442321777,
        "y": 3772.083860397339,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "1381f03c.65e35",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3076.1666221618652,
        "y": 3867.083921432495,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "a9ab943.12f4968",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2831.1669883728027,
        "y": 3821.083860397339,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1381f03c.65e35",
                "b815db1a.054a38",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "3c95da4b.e0a996",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2612.1667442321777,
        "y": 3816.083860397339,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a9ab943.12f4968"
            ]
        ]
    },
    {
        "id": "a8f71b3e.47cf58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1757.83353805542,
        "y": 3849.4174699783325,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "634c0fee.f9bcf",
                "ec9e6236.1c695",
                "2aed9fbf.da67f",
                "a4926ac6.1f5688",
                "cbb23a8b.cf5f88",
                "ed27e704.21d9e8",
                "e90ec59f.4d07f8",
                "7eb29ef5.b8c9e",
                "c80dd893.40a448",
                "2d7f30c0.5bc41"
            ]
        ]
    },
    {
        "id": "634c0fee.f9bcf",
        "type": "execute",
        "name": "Update gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUUP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBCUUP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2062.08353805542,
        "y": 3861.667405128479,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b92592e5.84a25",
                "7eff2149.aea39"
            ]
        ]
    },
    {
        "id": "b92592e5.84a25",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2377.8334922790527,
        "y": 3821.417600631714,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "950828b1.f28df8"
            ]
        ]
    },
    {
        "id": "7eff2149.aea39",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2364.3335723876953,
        "y": 3871.167525291443,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "6374b998.16f438"
            ]
        ]
    },
    {
        "id": "6374b998.16f438",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2522.833393096924,
        "y": 3899.667587518692,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "6f4cdf32.f11d3"
            ]
        ]
    },
    {
        "id": "950828b1.f28df8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2566.0837593078613,
        "y": 3858.667525291443,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "159641e0.90007e",
                "2ed2b4a8.e15b9c",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "6f4cdf32.f11d3",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2659.333637237549,
        "y": 3913.167649269104,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "159641e0.90007e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating CUUP-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2824.583240509033,
        "y": 3902.1675877571106,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "2ed2b4a8.e15b9c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - CUUP. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2733.333423614502,
        "y": 3867.9174032211304,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "f44ad59e.282fa8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - CUUP. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2787.5834579467773,
        "y": 4103.167650222778,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "7529ad5f.ee1884",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating CUUP-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2783.8331718444824,
        "y": 4144.417406082153,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "fb644af4.1380e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2604.083637237549,
        "y": 4137.167589187622,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "7529ad5f.ee1884",
                "f44ad59e.282fa8",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "d4cc96b5.2d9f68",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - CUUP RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2756.83353805542,
        "y": 4191.417345046997,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "d07af5ff.d401b8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2590.83353805542,
        "y": 4190.417345046997,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d4cc96b5.2d9f68"
            ]
        ]
    },
    {
        "id": "5443bea2.977b4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2409.83353805542,
        "y": 4196.417100906372,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d07af5ff.d401b8"
            ]
        ]
    },
    {
        "id": "d3744aae.c713a8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2403.583667755127,
        "y": 4148.91746711731,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "fb644af4.1380e8"
            ]
        ]
    },
    {
        "id": "cd8bca95.ab6e98",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUUP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2197.583751678467,
        "y": 4242.16784286499,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d3744aae.c713a8",
                "5443bea2.977b4"
            ]
        ]
    },
    {
        "id": "82ca1538.e86a78",
        "type": "block",
        "name": "Process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1223.2503395080566,
        "y": 3812.501209259033,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1cd3d6a8.078939",
                "4b2567ab.2eb108",
                "1e574a94.254995"
            ]
        ]
    },
    {
        "id": "1cd3d6a8.078939",
        "type": "execute",
        "name": "read DUlist size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.DUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1476.2502784729004,
        "y": 3902.5012702941895,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "4b2567ab.2eb108",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of DU List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.DUList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1444.250228881836,
        "y": 3952.5013341903687,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1e574a94.254995",
        "type": "for",
        "name": "foreach DU",
        "xml": "<for index='id-du' start='0' end='`$tmp.DUList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1445.250415802002,
        "y": 3995.501335144043,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "6eb3f478.1533ec"
            ]
        ]
    },
    {
        "id": "6eb3f478.1533ec",
        "type": "block",
        "name": "block : process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1707.2502746582031,
        "y": 4101.501091003418,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "172e38d0.7e4e47",
                "71192611.989398",
                "d2441769.143148",
                "b422b62f.4b8ad8"
            ]
        ]
    },
    {
        "id": "172e38d0.7e4e47",
        "type": "execute",
        "name": "read DU id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.GNBDUId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].gNBDUId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1981.2501182556152,
        "y": 4280.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "71192611.989398",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"GNBDUId \"/>\n<parameter name=\"field2\" value=\"`$tmp.GNBDUId`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1954.2501182556152,
        "y": 4331.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "d2441769.143148",
        "type": "execute",
        "name": "read cellDU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList[' + $id-du +'].cellDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1995.2501182556152,
        "y": 4380.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b422b62f.4b8ad8",
        "type": "for",
        "name": "for cellDUList",
        "xml": "<for index='id-celldu' start='0' end='`$tmp.cellDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1985.2501182556152,
        "y": 4424.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c2fa0e0f.04a43"
            ]
        ]
    },
    {
        "id": "1de3fef7.ecf551",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3012.0001182556152,
        "y": 4478.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "cb20a10.39eaf6",
                "3b196cbe.6f33c4",
                "70f88c0.1bf1a74",
                "b1bbd92.fd43928",
                "64b3004.bebd6",
                "638748de.4c0078",
                "564da3c7.63d57c",
                "a8f31602.bb2158",
                "b4fa2f12.24b",
                "75257e36.f6729",
                "b52c4da.8d1dcb",
                "8862a974.1b0938"
            ]
        ]
    },
    {
        "id": "a8f31602.bb2158",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CellDU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3207.0001182556152,
        "y": 4473.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "564da3c7.63d57c",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3235.0001182556152,
        "y": 4541.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "962906d1.996fa8",
                "c5bcb80b.eb3d58"
            ]
        ]
    },
    {
        "id": "962906d1.996fa8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3443.0001182556152,
        "y": 4506.500364303589,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "ceadf93a.a22e38"
            ]
        ]
    },
    {
        "id": "c5bcb80b.eb3d58",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3438.0001678466797,
        "y": 4575.500932693481,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d3ababb8.ab7e98"
            ]
        ]
    },
    {
        "id": "ceadf93a.a22e38",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3763.0001182556152,
        "y": 4521.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "cb20a10.39eaf6",
        "type": "execute",
        "name": "read cellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3232.000270843506,
        "y": 4629.500852584839,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b1bbd92.fd43928",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3287.000331878662,
        "y": 4694.500790596008,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "64b3004.bebd6",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3260.000514984131,
        "y": 4749.500792503357,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "638748de.4c0078",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 3240.0002098083496,
        "y": 4812.5010986328125,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "3b196cbe.6f33c4",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3242.0004539489746,
        "y": 4870.500731468201,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "70f88c0.1bf1a74",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.GNBDUId`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellDULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3246.000331878662,
        "y": 4916.501348495483,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b4fa2f12.24b",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3301.000331878662,
        "y": 4962.750616550446,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "bc49a124.85094",
                "9a933053.33092"
            ]
        ]
    },
    {
        "id": "9a933053.33092",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3549.571683883667,
        "y": 4803.750732421875,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1a475c7a.217534"
            ]
        ]
    },
    {
        "id": "bc49a124.85094",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3555.7143745422363,
        "y": 4859.893438339233,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "440925c4.cb0e0c"
            ]
        ]
    },
    {
        "id": "1a475c7a.217534",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3726.1432914733887,
        "y": 4803.178955078125,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a801fa45.873db8",
                "c6117f41.5955",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "440925c4.cb0e0c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3709.4286766052246,
        "y": 4859.750563621521,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "ce9f0521.d40848"
            ]
        ]
    },
    {
        "id": "ce9f0521.d40848",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3746.8573684692383,
        "y": 4925.893360137939,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "a801fa45.873db8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NECellDU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3912.857105255127,
        "y": 4879.8933000564575,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "c6117f41.5955",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3895.0001182556152,
        "y": 4827.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "75257e36.f6729",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3105.2501182556152,
        "y": 5286.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "8fd8347a.4900d8",
                "518cabf6.149ea4",
                "dbcf121f.3d8c1",
                "655b59de.cbeee8",
                "9cd09303.1b715",
                "dc72e28d.bd69a",
                "cae174e2.231e38",
                "725f4c84.d21234",
                "6bf0538d.55a2fc",
                "a6960a07.df2a28"
            ]
        ]
    },
    {
        "id": "8fd8347a.4900d8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3327.2501182556152,
        "y": 5192.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "70a35135.574d9",
                "2ef095a8.ec54da"
            ]
        ]
    },
    {
        "id": "2ef095a8.ec54da",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3575.9648246765137,
        "y": 5205.037384033203,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "85cf7e4a.494e8"
            ]
        ]
    },
    {
        "id": "85cf7e4a.494e8",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3770.250026702881,
        "y": 5143.179981231689,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "518cabf6.149ea4",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3362.2501182556152,
        "y": 5264.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "dbcf121f.3d8c1",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3327.2501182556152,
        "y": 5316.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "655b59de.cbeee8",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-du-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3362.2501182556152,
        "y": 5391.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "7e7b1382.5f930c",
                "d92d3384.41bb7"
            ]
        ]
    },
    {
        "id": "7e7b1382.5f930c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3609.2501182556152,
        "y": 5364.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e6710082.68753"
            ]
        ]
    },
    {
        "id": "d92d3384.41bb7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3613.2501182556152,
        "y": 5443.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "478a7c75.daea24"
            ]
        ]
    },
    {
        "id": "e6710082.68753",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3777.250591278076,
        "y": 5375.607961654663,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "9e145737.36e0b8",
                "e30f2fb8.c2f72",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "e30f2fb8.c2f72",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3933.2501182556152,
        "y": 5278.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "9e145737.36e0b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3938.2499961853027,
        "y": 5373.75066947937,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "478a7c75.daea24",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3777.2499961853027,
        "y": 5444.750730514526,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1be26f85.dc6dc",
                "66ed2b5.07700d4"
            ]
        ]
    },
    {
        "id": "1be26f85.dc6dc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3934.393169403076,
        "y": 5416.8933963775635,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "66ed2b5.07700d4",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3942.2502098083496,
        "y": 5454.179319381714,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "9cd09303.1b715",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioDUList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3299.8215293884277,
        "y": 5524.03600692749,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "dc72e28d.bd69a",
        "type": "block",
        "name": "rrmPolicyDedicatedRatio",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3361.9642148017883,
        "y": 5071.036235809326,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "fbfe8f62.53424",
                "41e9596e.6b1878",
                "e503f94b.5e4d48",
                "9dd7af49.af786",
                "143f4cda.c20dd3",
                "801f9814.6e5f48",
                "d46bca80.c23d28",
                "5284568.3f351a8",
                "78576848.802b78",
                "fc0ff102.e5b51",
                "b30531f.c5e03d"
            ]
        ]
    },
    {
        "id": "e503f94b.5e4d48",
        "type": "set",
        "name": "Calculate RRM Parms1",
        "xml": "<set>\n<parameter name='tmp.uLThptPerSlice' value='`$payloadJson.input.sliceProfile.uLThptPerSlice`' />\n",
        "comments": "",
        "x": 4330.2399253845215,
        "y": 4857.07336139679,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "9dd7af49.af786",
        "type": "set",
        "name": "Calculate RRM Parms2",
        "xml": "<set>\n<parameter name='tmp.dLThptPerSlice' value='`$payloadJson.input.sliceProfile.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4338.7811851501465,
        "y": 4902.093380868435,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "143f4cda.c20dd3",
        "type": "set",
        "name": "Calculate RRM Parms3",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConns' value='`$payloadJson.input.sliceProfile.maxNumberOfConns`' />",
        "comments": "",
        "x": 4328.781307220459,
        "y": 4957.093258798122,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "801f9814.6e5f48",
        "type": "set",
        "name": "Calculate RRM Parms4",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity1' value='`$tmp.uLThptPerSlice + $tmp.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4328.7811851501465,
        "y": 5008.093258857727,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "d46bca80.c23d28",
        "type": "set",
        "name": "Calculate RRM Parms5",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity' value='`$tmp.nearRTRIC.trafficCapacity1 / 2`' />",
        "comments": "",
        "x": 4316.781307220459,
        "y": 5068.093380868435,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "5284568.3f351a8",
        "type": "set",
        "name": "Calculate RRM Parms6",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacityBPS' value='`$tmp.nearRTRIC.trafficCapacity * 1000000`' />",
        "comments": "",
        "x": 4354.7811851501465,
        "y": 5118.093380868435,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "78576848.802b78",
        "type": "set",
        "name": "Calculate RRM Parms7",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.totalPRBForSNSSAI' value='`$tmp.nearRTRIC.trafficCapacityBPS / 1008000`' />\n",
        "comments": "",
        "x": 4341.78112411499,
        "y": 5188.093747138977,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "fc0ff102.e5b51",
        "type": "set",
        "name": "calculation8",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.PRBPerImpactedCell' value='`$tmp.nrcelldu.totalPRBForSNSSAI / $tmp.cellDUList_length`' />\n",
        "comments": "",
        "x": 4312.78112411499,
        "y": 5252.092770576477,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "b30531f.c5e03d",
        "type": "set",
        "name": "calculation9",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU1' value='`$tmp.nrcelldu.PRBPerImpactedCell * 100`' />\n",
        "comments": "",
        "x": 4300.7816734313965,
        "y": 5303.092648506165,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "41e9596e.6b1878",
        "type": "set",
        "name": "calculation10",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU' value='`$tmp.rRMPolicyDedicatedRatio.CellDU1 / $prop.nrcelldu.TotalPRBsPerCell`' />\n",
        "comments": "",
        "x": 4276.239986419678,
        "y": 5369.073117256165,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "fbfe8f62.53424",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio for CellDU \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>\n<parameter name=\"field3\" value=\"tmp.nearRTRIC.trafficCapacity1 \"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.trafficCapacity1`\"/>\n<parameter name=\"field5\" value=\"tmp.nearRTRIC.trafficCapacity \"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.trafficCapacity`\"/>\n<parameter name=\"field7\" value=\"tmp.nearRTRIC.trafficCapacityBPS\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRIC.trafficCapacityBPS`\"/>\n<parameter name=\"field9\" value=\"tmp.nrcelldu.totalPRBForSNSSAI \"/>\n<parameter name=\"field10\" value=\"`$tmp.nrcelldu.totalPRBForSNSSAI`\"/>\n<parameter name=\"field11\" value=\"tmp.nrcelldu.PRBPerImpactedCell \"/>\n<parameter name=\"field12\" value=\"`$tmp.nrcelldu.PRBPerImpactedCell`\"/>\n<parameter name=\"field13\" value=\"tmp.rRMPolicyDedicatedRatio.CellDU1 \"/>\n<parameter name=\"field14\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU1`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4102.249912261963,
        "y": 5381.194423675537,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "cae174e2.231e38",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='iddu-rrm' start='0' end='`$tmp.rrmPolicyRatioDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3322.5001182556152,
        "y": 5570.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e66e9dae.fc8e8"
            ]
        ]
    },
    {
        "id": "e66e9dae.fc8e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3543.5001182556152,
        "y": 5590.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e62de195.5e0f6",
                "d6b50ec6.3723a",
                "60b8a8c2.96f118",
                "4b3f6fa9.bd5d",
                "490e60b8.c63e",
                "5cc3c46e.30757c",
                "3d6c1414.36d8dc",
                "d443756c.04e818",
                "cd40fa49.129e28",
                "681442e2.c76e9c"
            ]
        ]
    },
    {
        "id": "e62de195.5e0f6",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellDU_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_cellDU-old + $tmp.rRMPolicyDedicatedRatio.CellDU`\" />",
        "comments": "",
        "x": 3869.9286308288574,
        "y": 5530.6080985069275,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "60b8a8c2.96f118",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3815.071880340576,
        "y": 5574.464875221252,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e9b414de.588998",
                "e5d9e735.3092d8"
            ]
        ]
    },
    {
        "id": "e9b414de.588998",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4010.785877227783,
        "y": 5565.750361442566,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "fcbdd8eb.6582b8"
            ]
        ]
    },
    {
        "id": "fcbdd8eb.6582b8",
        "type": "execute",
        "name": "patchRRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4328.500335693359,
        "y": 5535.037298202515,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "490e60b8.c63e",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`$tmp.RRMPolicyMembersDU_Length+1`\" />",
        "comments": "",
        "x": 3800.0716514587402,
        "y": 5742.321998596191,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "d6b50ec6.3723a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioid - \"/>\n<parameter name=\"field2\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyMemberid- \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field5\" value=\"Updated RRMPolicyRatio for CellDU is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.rrmPolicyDedicatedRatio_CellDU_updated`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3775.643169403076,
        "y": 5782.036876678467,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "4b3f6fa9.bd5d",
        "type": "execute",
        "name": "patch NRCellDU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3859.785915374756,
        "y": 5818.322101593018,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "902e8e1b.b914b",
                "27c622e8.b6551e"
            ]
        ]
    },
    {
        "id": "902e8e1b.b914b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4137.500118255615,
        "y": 5781.750379562378,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "2a3cb5e3.30373a"
            ]
        ]
    },
    {
        "id": "2a3cb5e3.30373a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4328.500118255615,
        "y": 5781.750379562378,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e32d56b2.9b3338"
            ]
        ]
    },
    {
        "id": "e32d56b2.9b3338",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4513.49987411499,
        "y": 5782.750623703003,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "8db55c89.bc017",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4595.500118255615,
        "y": 5825.750379562378,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "1471e8f6.bf3957",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating RRMPolicyRatio for NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4600.499996185303,
        "y": 5920.750440597534,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "4058edb3.f7d164",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4333.000396728516,
        "y": 5823.50102186203,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1471e8f6.bf3957",
                "8db55c89.bc017",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "27c622e8.b6551e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4146.50020980835,
        "y": 5829.751022338867,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "4058edb3.f7d164"
            ]
        ]
    },
    {
        "id": "b52c4da.8d1dcb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3058.0002098083496,
        "y": 5874.750705718994,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "7006c0b9.b45ad",
                "bc282ce5.97dea",
                "fee829c8.ad1c88",
                "3473fcee.333d34",
                "f58f8c7e.32e8a",
                "68849153.887d7",
                "cef6cbe1.5ad948",
                "df6d9ef2.fee73",
                "d41a0794.bbe908"
            ]
        ]
    },
    {
        "id": "7006c0b9.b45ad",
        "type": "execute",
        "name": "Update cellDU for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBDU`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBDU.json\n'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3521.0001182556152,
        "y": 5882.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "da01cee.daaa53",
                "91fcd5d9.2271d8"
            ]
        ]
    },
    {
        "id": "da01cee.daaa53",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3808.0001182556152,
        "y": 5853.750852584839,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "461a56ac.c37c68"
            ]
        ]
    },
    {
        "id": "91fcd5d9.2271d8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3808.250331878662,
        "y": 5892.251022338867,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "81e2403b.fbabc"
            ]
        ]
    },
    {
        "id": "81e2403b.fbabc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3981.750144958496,
        "y": 5913.250780105591,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "cc420fe3.22135"
            ]
        ]
    },
    {
        "id": "461a56ac.c37c68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4001.2502098083496,
        "y": 5876.001024246216,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "47938de2.b5d664",
                "7b2f6d7a.330094",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "7b2f6d7a.330094",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4204.750030517578,
        "y": 5879.000900581479,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "cc420fe3.22135",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4194.500392913818,
        "y": 5950.501146316528,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "47938de2.b5d664",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4219.749843597412,
        "y": 5918.250780105591,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "cc50968f.365248",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4218.999904632568,
        "y": 6179.251147270203,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "f094c6f6.be9bc8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4239.000030517578,
        "y": 6220.501148223877,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "2a71d62e.40be3a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4029.2503929138184,
        "y": 6212.000782012939,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "f094c6f6.be9bc8",
                "cc50968f.365248",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "3503afe0.98a14",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3843.2503356933594,
        "y": 6306.250699043274,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "2a71d62e.40be3a"
            ]
        ]
    },
    {
        "id": "213c587d.7b2018",
        "type": "execute",
        "name": "Update RRMPolicy for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-DU.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3621.000820159912,
        "y": 6327.750576496124,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "3503afe0.98a14",
                "f6b5a7c5.1dff38"
            ]
        ]
    },
    {
        "id": "f6b5a7c5.1dff38",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3853.000274658203,
        "y": 6348.750087738037,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b381c4c8.5d1f48"
            ]
        ]
    },
    {
        "id": "b381c4c8.5d1f48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4022.250331878662,
        "y": 6272.750905036926,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d045dd2b.12f34"
            ]
        ]
    },
    {
        "id": "d045dd2b.12f34",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellDU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4187.000392913818,
        "y": 6277.500660896301,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "392392b6.96516e",
        "type": "block",
        "name": "block : SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4679.984493255615,
        "y": 2774.7506110668182,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "142e67fb.7c8b48",
                "ca87a44.3e8a958",
                "d4e0a598.f88818"
            ]
        ]
    },
    {
        "id": "142e67fb.7c8b48",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.so.callbackURL\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiateRANSlice-input.common-header.request-id`\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiateRANSlice-input.action`\"/>\n",
        "comments": "",
        "x": 5341.985469818115,
        "y": 2566.6502692699432,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "ca87a44.3e8a958",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$tmp.so.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />",
        "comments": "",
        "outputs": 1,
        "x": 5316.984355926514,
        "y": 2663.7509467601776,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "d4e0a598.f88818",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$tmp.so.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-modify-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 5231.9843673706055,
        "y": 2760.750824689865,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "cf28382e.f1ef88",
                "5aa2f083.7a1ed"
            ]
        ]
    },
    {
        "id": "cf28382e.f1ef88",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5457.984375953674,
        "y": 2737.75079369545,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "871cac08.1fcfd"
            ]
        ]
    },
    {
        "id": "5aa2f083.7a1ed",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5447.984230041504,
        "y": 2845.7507331371307,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "de6d6897.f16868"
            ]
        ]
    },
    {
        "id": "de6d6897.f16868",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5597.984016418457,
        "y": 2864.750794172287,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "5522ce63.f744"
            ]
        ]
    },
    {
        "id": "871cac08.1fcfd",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5608.984245300293,
        "y": 2732.7509157657623,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e3986375.ef7e9"
            ]
        ]
    },
    {
        "id": "e3986375.ef7e9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 5774.983924865723,
        "y": 2735.7507331371307,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "5522ce63.f744",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 5761.984031677246,
        "y": 2870.7507331371307,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "a1d1c02f.349b2",
        "type": "block",
        "name": "SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 761.9844932556152,
        "y": 4456.750611066818,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "83a1d5ba.cb4818",
                "71aaec1b.46e8e4",
                "ff574e17.491cc",
                "7f0d68a6.7da998"
            ]
        ]
    },
    {
        "id": "ff574e17.491cc",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiate-r-a-n-slice-input.common-header.request-id `\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiate-r-a-n-slice-input.action`\"/>\n",
        "comments": "",
        "x": 1041.985637664795,
        "y": 4306.650095701218,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "83a1d5ba.cb4818",
        "type": "record",
        "name": "record SO reply parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$payloadJson.input.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1038.9844703674316,
        "y": 4460.750794172287,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "71aaec1b.46e8e4",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />\n<parameter name=\"restapiUser\" value=\"`$prop.restapi.so.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.restapi.so.password`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 907.9845695495605,
        "y": 4577.750498533249,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c1058e66.5c982",
                "adcc8a3b.1993b8"
            ]
        ]
    },
    {
        "id": "c1058e66.5c982",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1072.9845695495605,
        "y": 4557.750497579575,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "51b22c48.5bda04"
            ]
        ]
    },
    {
        "id": "adcc8a3b.1993b8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1064.984462738037,
        "y": 4630.75044798851,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "dfa85966.e32e88"
            ]
        ]
    },
    {
        "id": "dfa85966.e32e88",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1210.9843063354492,
        "y": 4635.750556707382,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "8772166c.a67ad8"
            ]
        ]
    },
    {
        "id": "51b22c48.5bda04",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1221.9844703674316,
        "y": 4553.7506330013275,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e0d694dd.b87728",
                "aa81339a.a0848"
            ]
        ]
    },
    {
        "id": "e0d694dd.b87728",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 1368.984088897705,
        "y": 4564.750374555588,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "8772166c.a67ad8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1371.9842262268066,
        "y": 4641.750448942184,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "aa81339a.a0848",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error sending SO response. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1356.4946975708008,
        "y": 4468.739866018295,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "7f0d68a6.7da998",
        "type": "execute",
        "name": "generate URL for SO Callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.so.callbackURL`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.so.callbackURL\"/>\n    <parameter name=\"target\" value=\"{requestId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.requestID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1061.3240928649902,
        "y": 4396.7359483242035,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "cd0abc31.4010e",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2463.5001182556152,
        "y": 1771.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "676e569.dc5aaa8"
            ]
        ]
    },
    {
        "id": "676e569.dc5aaa8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2656.489776611328,
        "y": 1771.7507305145264,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "aebf3ccb.d7411",
                "c84d99a3.fcc728"
            ]
        ]
    },
    {
        "id": "aebf3ccb.d7411",
        "type": "execute",
        "name": "generate fetchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2963.489963531494,
        "y": 1738.750831604004,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "c84d99a3.fcc728",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2907.490364074707,
        "y": 1791.7510251998901,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "45809bcd.347f74",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2891.0001182556152,
        "y": 1155.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "ab1fd151.f1c21",
                "46513b97.f2acd4"
            ]
        ]
    },
    {
        "id": "46513b97.f2acd4",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3142.0005493164062,
        "y": 1178.7507410049438,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "ab1fd151.f1c21",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3198.0001487731934,
        "y": 1125.7505474090576,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "4617fb57.6cb634",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3379.556140899658,
        "y": 2161.639494895935,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b69050b7.7987f",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3437.778118133545,
        "y": 2118.639584541321,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "59e69153.689f2",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3154.110851287842,
        "y": 2120.527931213379,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b69050b7.7987f",
                "4617fb57.6cb634"
            ]
        ]
    },
    {
        "id": "b86d38ae.7eb088",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2990.010265350342,
        "y": 2120.5285544395447,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "59e69153.689f2"
            ]
        ]
    },
    {
        "id": "1d5777fa.9c0658",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2430.5001182556152,
        "y": 2808.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "82ca6050.5e30a",
        "type": "execute",
        "name": "generate patchPLMNInfoList.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2486.4997177124023,
        "y": 2755.7504148483276,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "9e5d12d.e72d0f",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2167.8330688476562,
        "y": 2751.30619430542,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "82ca6050.5e30a",
                "1d5777fa.9c0658"
            ]
        ]
    },
    {
        "id": "4bb48781.eb3258",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2210.5001182556152,
        "y": 3152.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "2207881.dffda78",
                "72499a78.4839d4"
            ]
        ]
    },
    {
        "id": "2207881.dffda78",
        "type": "execute",
        "name": "fetch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2512.5000534057617,
        "y": 3112.75066947937,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "72499a78.4839d4",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2456.5004539489746,
        "y": 3165.7508630752563,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "98f50f4.c384ff",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1983.0001182556152,
        "y": 3161.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "4bb48781.eb3258"
            ]
        ]
    },
    {
        "id": "a3834fb0.e7ee5",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2527.7780685424805,
        "y": 3585.5283365249634,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "ab320a02.d14ec8"
            ]
        ]
    },
    {
        "id": "ab320a02.d14ec8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2743.0557250976562,
        "y": 3563.1950645446777,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "6a4c81d.246ee8",
                "930f14a.439a3e8"
            ]
        ]
    },
    {
        "id": "6a4c81d.246ee8",
        "type": "execute",
        "name": "patch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3049.5000534057617,
        "y": 3558.75066947937,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "930f14a.439a3e8",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2993.5004539489746,
        "y": 3611.7508630752563,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "d3ababb8.ab7e98",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3633.0001182556152,
        "y": 4590.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "f13d9057.5c122",
                "1bfd4c73.bad084"
            ]
        ]
    },
    {
        "id": "f13d9057.5c122",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3940.0001487731934,
        "y": 4560.750547409058,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1bfd4c73.bad084",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3884.0005493164062,
        "y": 4613.750741004944,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "70a35135.574d9",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3571.1788368225098,
        "y": 5259.465030670166,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e9926105.af018"
            ]
        ]
    },
    {
        "id": "e9926105.af018",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3702.464916229248,
        "y": 5286.28572845459,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "73bd25d5.a4f55c",
                "cefcb2e.749615"
            ]
        ]
    },
    {
        "id": "73bd25d5.a4f55c",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3943.7501678466797,
        "y": 5179.000205993652,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "cefcb2e.749615",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3886.7506561279297,
        "y": 5240.00057220459,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "e5d9e735.3092d8",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4005.4645347595215,
        "y": 5605.893775939941,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d6637e7e.d3ea"
            ]
        ]
    },
    {
        "id": "d6637e7e.d3ea",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4163.8937911987305,
        "y": 5617.000622749329,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b8aa5716.690508",
                "f3e1ad3a.5d848"
            ]
        ]
    },
    {
        "id": "b8aa5716.690508",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4413.749889373779,
        "y": 5579.715274810791,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "f3e1ad3a.5d848",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4352.464939117432,
        "y": 5629.286354064941,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b82f63e7.11494",
        "type": "comment",
        "name": "instantiateRANSlice-ModifyAllocate",
        "info": "",
        "comments": "",
        "x": 900.2501029968262,
        "y": 42.000611305236816,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "e6704d5b.96dc4",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"SUCCESSFUL Execution\" />",
        "comments": "",
        "x": 410.5209312438965,
        "y": 1458.1047344207764,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "25b878f8.a93a38",
        "type": "execute",
        "name": "set  sNSSAI & PLMN id",
        "xml": "<set>\n\n<parameter name='tmp.payload.sNSSAI' value='`$payloadJson.input.sliceProfile.snssaiList[0]`'/>\n<parameter name='tmp.payload.pLMNId' value='`$payloadJson.input.sliceProfile.pLMNIdList[0]`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 844.2500877380371,
        "y": 186.00062084197998,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "dbc1d430.373f08",
        "type": "set",
        "name": "Calculate maxNumberOfConnsPercellCU * 100",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellCU1' value='`$tmp.maxNumberOfConnsPercellCU * 100`' />\n",
        "comments": "",
        "x": 2327.000196456909,
        "y": 1647.2506246566772,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "75d7a317.e70a0c",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio_SliceProfile' value='`$tmp.rRMPolicyDedicatedRatio.CellCU1 / $prop.nrcellcu.maxNumberOfConnsPerCell`' />",
        "comments": "",
        "x": 2279.000196456909,
        "y": 1685.2506246566772,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "f70ae8b2.428618",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioList_length' value='`$get-rrmpolicyratio-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 2313.250104904175,
        "y": 1974.250750541687,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "9a7c5231.a8353",
        "type": "execute",
        "name": "read rrmPolicyDedicatedRatio_cellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatiocellCU_old' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2779.250104904175,
        "y": 2047.000693321228,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b74d11b4.bfee4",
        "type": "block",
        "name": "Get Cells List in TA",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 619.5000877380371,
        "y": 974.000714302063,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "11007e79.515612",
                "9eb3be72.5e517",
                "86d0a413.3f7718"
            ]
        ]
    },
    {
        "id": "11007e79.515612",
        "type": "execute",
        "name": "generate getListOfCells URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getListOfCells`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getListOfCells.url\"/>\n    <parameter name=\"target\" value=\"{trackingArea}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.trackingArea`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 876.0002403259277,
        "y": 972.500554561615,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "9eb3be72.5e517",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for configDB Get getListOfCells for tracking area\"/>\n<parameter name='field2' value=\"`$prop.configdb.url + $tmp.configdb.getListOfCells.url`\" />\n<parameter name='field3' value=\"`$tmp.payload.trackingArea`\" />",
        "comments": "",
        "outputs": 1,
        "x": 876.0002632141113,
        "y": 1014.250828742981,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "86d0a413.3f7718",
        "type": "execute",
        "name": "Get ListOfCells for TrackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getListOfCells.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getListofCells-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 861.5002403259277,
        "y": 1066.0007076263428,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "bd473f4a.8b0b3",
                "7c90c48e.91f39c"
            ]
        ]
    },
    {
        "id": "bd473f4a.8b0b3",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1191.4999656677246,
        "y": 899.000750541687,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "8fc4c05.4e2b44"
            ]
        ]
    },
    {
        "id": "7c90c48e.91f39c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1185.4998893737793,
        "y": 945.0007371902466,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "81202482.6e5f38"
            ]
        ]
    },
    {
        "id": "81202482.6e5f38",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1335.4996147155762,
        "y": 946.0007834434509,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "f3251a1d.37e4b8",
                "22d3225f.d5403e",
                "fe8a3719.1fd738"
            ]
        ]
    },
    {
        "id": "f3251a1d.37e4b8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained List of Cells from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getListofCells-configdb-response._length`\"/>\n<parameter name=\"field3\" value=\"List of Cells in the Tracking Area Relevant for RAN Slice Instantiation \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1524.4996757507324,
        "y": 859.0007371902466,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "fe8a3719.1fd738",
        "type": "for",
        "name": "For list of cells",
        "xml": "<for index='idx' start='0' end='`$getListofCells-configdb-response._length `' >",
        "comments": "",
        "outputs": 1,
        "x": 1533.5207786560059,
        "y": 896.6669664382935,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b1157eda.e6f5f",
                "bbc2a450.4d9f88"
            ]
        ]
    },
    {
        "id": "22d3225f.d5403e",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1504.2779960632324,
        "y": 944.0007524490356,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b1157eda.e6f5f",
        "type": "execute",
        "name": "Cells in TrackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.trackingarea.cell' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $idx + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1738.5206260681152,
        "y": 846.3335008621216,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "bbc2a450.4d9f88",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.trackingarea.cell`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1691.5206260681152,
        "y": 889.6668758392334,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "8fc4c05.4e2b44",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1352.499843597412,
        "y": 869.000675201416,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "d296a005.b5c2f",
                "d8aea8d7.478388"
            ]
        ]
    },
    {
        "id": "d8aea8d7.478388",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1611.500057220459,
        "y": 765.1117525100708,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "d296a005.b5c2f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1596.4997215270996,
        "y": 809.0007524490356,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "5dc752b0.a0f74c",
        "type": "for",
        "name": "foreach TACell",
        "xml": "<for index='id-ta' start='0' end='`$getListofCells-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2201.5834999084473,
        "y": 923.3618211746216,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "aa459f54.e013"
            ]
        ]
    },
    {
        "id": "5ac429ab.d07548",
        "type": "switchNode",
        "name": "is cellCU applicable for NSSAI",
        "xml": "<switch test='`$tmp.cellCULocalId == $tmp.cellCU2`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2450.5001182556152,
        "y": 858.5006084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "5ac49abc.34ffb4"
            ]
        ]
    },
    {
        "id": "5ac49abc.34ffb4",
        "type": "outcome",
        "name": "Applicable",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2391.5001182556152,
        "y": 931.5006084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "7158516d.93aa1"
            ]
        ]
    },
    {
        "id": "aa459f54.e013",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2243.5001182556152,
        "y": 758.5006084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "5ac429ab.d07548",
                "5f536160.44e65",
                "180afddb.20e792"
            ]
        ]
    },
    {
        "id": "5f536160.44e65",
        "type": "execute",
        "name": "read Cell from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].cellCUList['+ $idcu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2569.5001182556152,
        "y": 701.5006084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "180afddb.20e792",
        "type": "execute",
        "name": "read cellCU from getListofCells-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCU2' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $id-ta + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2579.5001182556152,
        "y": 766.5006084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "2ee18ed4.418262",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio_id is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyMember_id - \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyRatio update URL is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2724.6946144104004,
        "y": 2291.6117553710938,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "503fccce.5909a4",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3009.4166679382324,
        "y": 2157.444923400879,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1e9388c1.7d57b7",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3003.97212600708,
        "y": 2187.4451637268066,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "77c4d473.59a97c",
        "type": "execute",
        "name": "read rrmPolicyMemberListLength",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyMembers' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3014.6947441101074,
        "y": 2220.778507232666,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "e8097102.d4289",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.cellLocalId' value='`$tmp.cellCULocalId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n<parameter name='tmp.gNBCUCPList.gNBCUName' value='`$tmp.CUCPName`'/>\n<parameter name='tmp.gNBCUCPList.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.gNBCUCPList.nFType' value='RRC Connected Users'/>\n    ",
        "comments": "",
        "x": 2102.2224502563477,
        "y": 2222.4450941085815,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "5e834183.3ed31",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"cellLocalId\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellLocalId`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field6\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"gNBCUName\"/>\n<parameter name=\"field8\" value=\"`$tmp.gNBCUCPList.gNBCUName`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBCUCPList.gNBId`\"/>\n<parameter name=\"field11\" value=\"nFType\"/>\n<parameter name=\"field12\" value=\"`$tmp.gNBCUCPList.nFType`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2088.722297668457,
        "y": 2264.6672325134277,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "e997cecd.7f8a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Config DB update\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2072.4376182556152,
        "y": 2179.250608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "c0f3a1e9.bbf06",
        "type": "execute",
        "name": "get PLMNId URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getplmn`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getPLMNId.url\"/>\n    <parameter name=\"target\" value=\"{sliceProfileId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.sliceProfileId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 878.6876182556152,
        "y": 365.18810844421387,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "525484f7.0faa1c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Get PLMN from SliceProfileId URL: \"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getPLMNId.url`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 852.187686920166,
        "y": 408.18814277648926,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "5e9ce799.187a98",
        "type": "execute",
        "name": "Get PLMN from Sliceprofile id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getPLMNId.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getPLMN-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 919.9376182556152,
        "y": 451.18809604644775,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "928e4a08.c94658",
                "4f6420ee.7a6"
            ]
        ]
    },
    {
        "id": "3fb4a1f.6262b5e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.pLMNId`\"/>\n<parameter name=\"field2\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field3\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 865.4311714172363,
        "y": 610.6815853118896,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "a200c3ff.2c80d",
        "type": "execute",
        "name": "find MCC",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='substring'>\n    <parameter name=\"string\" value=\"`$tmp.pLMNId`\" />\n    <parameter name=\"result\" value=\"tmp.mcc\"/>\n    <parameter name=\"begin-index\" value=\"0\" />\n    <parameter name=\"end-index\" value=\"3\" />",
        "comments": "",
        "outputs": 1,
        "x": 860.9376182556152,
        "y": 531.4382288455963,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "587963f3.acfc1c",
        "type": "execute",
        "name": "find MNC",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='substring'>\n    <parameter name=\"string\" value=\"`$tmp.pLMNId`\" />\n    <parameter name=\"result\" value=\"tmp.mnc\"/>\n    <parameter name=\"begin-index\" value=\"4\" />",
        "comments": "",
        "outputs": 1,
        "x": 864.6876945495605,
        "y": 568.6880617141724,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b723029a.fe9c7",
        "type": "block",
        "name": "get PLMNId",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 613.6876258850098,
        "y": 475.18811416625977,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c0f3a1e9.bbf06",
                "525484f7.0faa1c",
                "5e9ce799.187a98",
                "a200c3ff.2c80d",
                "587963f3.acfc1c",
                "3fb4a1f.6262b5e",
                "2180e99e.947df6"
            ]
        ]
    },
    {
        "id": "2180e99e.947df6",
        "type": "set",
        "name": "set PLMNId",
        "xml": "<set>\n<parameter name='tmp.pLMNId' value='`$getPLMN-configdb-response.plmnId`'/>",
        "comments": "",
        "x": 877.1251754760742,
        "y": 489.8756151199341,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "928e4a08.c94658",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1157.4376182556152,
        "y": 456.43810844421387,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "5f91ebd9.de91e4"
            ]
        ]
    },
    {
        "id": "5f91ebd9.de91e4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1330.4374198913574,
        "y": 445.4381809234619,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "248a93d4.061e9c",
                "e95db124.a48ba"
            ]
        ]
    },
    {
        "id": "248a93d4.061e9c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained PLMNId info from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getPLMN-configdb-response`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1531.1871490478516,
        "y": 445.18820571899414,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "e95db124.a48ba",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1566.9653625488281,
        "y": 488.438214302063,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1ed99ba6.fee564",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellCU' value='`$tmp.rrmPolicyDedicatedRatio_CellCU_new`'/>\n<parameter name='tmp.resourceID' value='`$tmp.cellCULocalId`'/>",
        "comments": "",
        "x": 2289.0628776550293,
        "y": 2606.063630104065,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "9a9bd8da.a47758",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellCU`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.payload.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2218.3128242492676,
        "y": 2637.035737991333,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "ca00729c.bae75",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"RRC Connected Users\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2186.4723320007324,
        "y": 2341.05623626709,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "67e8f86f.7f0ba8",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfo-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 2188.8610343933105,
        "y": 2445.2227096557617,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1e7ce2f8.294d6d",
                "9c2a6b01.266aa8"
            ]
        ]
    },
    {
        "id": "237cd60.bbeab2a",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2142.0278129577637,
        "y": 2370.2228498458862,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1e7ce2f8.294d6d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2492.5833702087402,
        "y": 2496.056028366089,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e34ad4c2.54ed98"
            ]
        ]
    },
    {
        "id": "9c2a6b01.266aa8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2496.6944313049316,
        "y": 2541.2783312797546,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "2f423bc7.0f0d94"
            ]
        ]
    },
    {
        "id": "e34ad4c2.54ed98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2644.583662033081,
        "y": 2494.056008338928,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "94df6cea.98ccf",
                "2831efc.c4ba41"
            ]
        ]
    },
    {
        "id": "2831efc.c4ba41",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2810.583417892456,
        "y": 2460.056008338928,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "94df6cea.98ccf",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2838.9168815612793,
        "y": 2492.83402633667,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "cea6dab2.272078",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2814.4723625183105,
        "y": 2524.0563793182373,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "2fba0b2.017c1f4",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2912.6945304870605,
        "y": 2550.3894748687744,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "2f423bc7.0f0d94",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2651.250026702881,
        "y": 2544.9448070526123,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "cea6dab2.272078",
                "2fba0b2.017c1f4"
            ]
        ]
    },
    {
        "id": "42e33edf.7283b",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2126.472309112549,
        "y": 2405.389312982559,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "326d36c0.659d8a",
        "type": "set",
        "name": "Calculate maxNumberOfDRBsPerNSSAI",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfDRBsPerNSSAI' value='`$tmp.payload.maxNumberofConns*4`' />",
        "comments": "",
        "x": 1873.9723014831543,
        "y": 2964.6674766540527,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "5733aa50.240114",
        "type": "set",
        "name": "Calculate maxNumberOfDRBsPerCUUP",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfDRBsPerCUUP' value='`$tmp.maxNumberOfDRBsPerNSSAI /$tmp.CUUPList_length`' />",
        "comments": "",
        "x": 1882.861156463623,
        "y": 2999.111469268799,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "2af8d6a0.21f8ca",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio-CUUP' value='`$tmp.rRMPolicyDedicatedRatio1/$prop.cuupfunction.maxNumberOfDRBsPerCUUP`' />",
        "comments": "",
        "x": 1833.9722938537598,
        "y": 3070.2228679656982,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "b6c6b596.652898",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 1820.3612022399902,
        "y": 2815.500364303589,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "98a1fa09.a70c68",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1829.2501945495605,
        "y": 2851.722843170166,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "d255a5f8.93a538",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch CUUP NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n<parameter name=\"field4\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1832.13920211792,
        "y": 2887.72283744812,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "94c24bbc.d79fb8",
        "type": "execute",
        "name": "read existing rrmPolicyDedicatedRatio ",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatio_CUUP' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2356.194393157959,
        "y": 3469.9448261260986,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b60c29c.e2be9d8",
        "type": "execute",
        "name": "read rrmPolicyMemberListLength",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyMembers-CUUP' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2356.7501945495605,
        "y": 3669.944776535034,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "12719d1c.944633",
        "type": "execute",
        "name": "prepare idGNBCUUPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2359.8055381774902,
        "y": 3599.944944381714,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "ee6bb7ef.075e08",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioList_CUUP_length' value='`$get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 1817.250072479248,
        "y": 3380.9451084136963,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "19f12dcc.bd00e2",
        "type": "execute",
        "name": "read RRMPolicyRatio_id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+'].id'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2338.972324371338,
        "y": 3636.611358642578,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "ec9e6236.1c695",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Config DB update\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2005.8126182556152,
        "y": 3716.750608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "2aed9fbf.da67f",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.gNBCUUPList.gNBCUUPId' value='`$tmp.idGNBCUUPFunction`'/>\n<parameter name='tmp.gNBCUUPList.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n    ",
        "comments": "",
        "x": 2035.5974502563477,
        "y": 3759.9450941085815,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "a4926ac6.1f5688",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"sNSSAI\"/>\n<parameter name=\"field2\" value=\"`$payloadJson.input.sliceProfile.sNSSAI`\"/>\n<parameter name=\"field3\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field4\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field5\" value=\"gNBCUUPId\"/>\n<parameter name=\"field6\" value=\"`$tmp.gNBCUUPList.gNBCUUPId`\"/>\n<parameter name=\"field7\" value=\"pLMNId\"/>\n<parameter name=\"field8\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBCUUPList.gNBId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2022.097297668457,
        "y": 3802.1672325134277,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "cbb23a8b.cf5f88",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"DRB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2101.888957977295,
        "y": 3910.9520416259766,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "ed27e704.21d9e8",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2054.111057281494,
        "y": 3954.562997817993,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "e90ec59f.4d07f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2017.4445991516113,
        "y": 3992.0630073547363,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "7eb29ef5.b8c9e",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfo-cuup-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 2080.9445610046387,
        "y": 4021.7852716445923,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "416c3a04.ba2914",
                "37a72261.366d9e"
            ]
        ]
    },
    {
        "id": "c9661cbd.eab2",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CUUP' value='`$tmp.rrmPolicyDedicatedRatio_CUUP_updated`'/>\n<parameter name='tmp.resourceID' value='`$tmp.idGNBCUUPFunction`'/>",
        "comments": "",
        "x": 2144.146438598633,
        "y": 4167.292110443115,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "89f7cc7c.bc34",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CUUP`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2095.1738090515137,
        "y": 4202.04211139679,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "416c3a04.ba2914",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2404.111312866211,
        "y": 3980.8129138946533,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "9e79c2ae.26275"
            ]
        ]
    },
    {
        "id": "9e79c2ae.26275",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2552.361530303955,
        "y": 3988.813097000122,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b576540.67592b",
                "a97b5ab.f9ad9a8"
            ]
        ]
    },
    {
        "id": "a97b5ab.f9ad9a8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2739.611349105835,
        "y": 3968.563157081604,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "b576540.67592b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2757.944751739502,
        "y": 4011.341173171997,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "c2035b87.c51488",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2821.722339630127,
        "y": 4075.1464109420776,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "f5aeaa7a.003208",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2763.5002059936523,
        "y": 4041.3134021759033,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "f23e818b.3498b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2567.77779006958,
        "y": 4069.7020750045776,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "f5aeaa7a.003208",
                "c2035b87.c51488"
            ]
        ]
    },
    {
        "id": "37a72261.366d9e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2397.6669273376465,
        "y": 4052.285351753235,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "f23e818b.3498b"
            ]
        ]
    },
    {
        "id": "c2fa0e0f.04a43",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2174.2499351501465,
        "y": 4424.944753646851,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "db316e5c.fd3fe"
            ]
        ]
    },
    {
        "id": "db316e5c.fd3fe",
        "type": "for",
        "name": "foreach TACell",
        "xml": "<for index='id-ta' start='0' end='`$getListofCells-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2360.222370147705,
        "y": 4424.889741897583,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "547b969c.0d7898"
            ]
        ]
    },
    {
        "id": "547b969c.0d7898",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2561.027675628662,
        "y": 4426.6949672698975,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "efb2ec3b.0adf",
                "f92b92ec.c92fa",
                "be44f4e.5c57008"
            ]
        ]
    },
    {
        "id": "f92b92ec.c92fa",
        "type": "execute",
        "name": "read Cell from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2842.5834007263184,
        "y": 4253.02817595005,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "be44f4e.5c57008",
        "type": "execute",
        "name": "read cellCU from getListofCells-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCU2' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $id-ta + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2845.9167289733887,
        "y": 4294.694845199585,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "efb2ec3b.0adf",
        "type": "switchNode",
        "name": "is cellCU applicable for NSSAI",
        "xml": "<switch test='`$tmp.cellCULocalId == $tmp.cellCU2`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2805.8054847717285,
        "y": 4337.806244686246,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "dfcf8077.52d2a"
            ]
        ]
    },
    {
        "id": "dfcf8077.52d2a",
        "type": "outcome",
        "name": "Applicable",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3043.472255706787,
        "y": 4341.916856765747,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1de3fef7.ecf551"
            ]
        ]
    },
    {
        "id": "725f4c84.d21234",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated RRMPolicyRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3338.8929405212402,
        "y": 5122.643674850464,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "6bf0538d.55a2fc",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioDUList_length' value='`$get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 3353.178928375244,
        "y": 5466.5718421936035,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "5cc3c46e.30757c",
        "type": "execute",
        "name": "Set existing RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatio_cellDU-old' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n\t\n\t",
        "comments": "",
        "outputs": 1,
        "x": 3860.6789360046387,
        "y": 5491.214754104614,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "3d6c1414.36d8dc",
        "type": "execute",
        "name": "Read  RRMPolicyRatioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+'].id'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3823.893383026123,
        "y": 5614.786319732666,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "d443756c.04e818",
        "type": "execute",
        "name": "Read  RRMPolicyMembers Length",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyMembersDU_Length' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3829.6073265075684,
        "y": 5707.286092758179,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "cd40fa49.129e28",
        "type": "execute",
        "name": "set gNBDUId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3996.3929405212402,
        "y": 5646.929319381714,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "681442e2.c76e9c",
        "type": "execute",
        "name": "set NRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3989.2501182556152,
        "y": 5678.357542037964,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "a6960a07.df2a28",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"idNRCellDU\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellDULocalId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3320.0001182556152,
        "y": 5355.000608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "bc282ce5.97dea",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.cellLocalId' value='`$tmp.cellDULocalId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n<parameter name='tmp.dLThptPerSlice' value='`$tmp.payload.dLThptPerSlice`'/>\n<parameter name='tmp.uLThptPerSlice' value='`$tmp.payload.uLThptPerSlice`'/>\n<parameter name='tmp.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.gNBDUList.gNBDUId' value='`$tmp.GNBDUId`'/>\n    ",
        "comments": "",
        "x": 3439.6251182556152,
        "y": 5788.563108444214,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "fee829c8.ad1c88",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"PRB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3507.1251182556152,
        "y": 5922.938108444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "3473fcee.333d34",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3465.6806297302246,
        "y": 5962.104570388794,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "f58f8c7e.32e8a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3447.125072479248,
        "y": 5996.271152496338,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "68849153.887d7",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfoDU-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 3509.5138206481934,
        "y": 6027.104581832886,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b7455054.e4c27",
                "c44de398.f8f8c"
            ]
        ]
    },
    {
        "id": "b7455054.e4c27",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3813.236156463623,
        "y": 6077.937900543213,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a0d734fe.8c5d28"
            ]
        ]
    },
    {
        "id": "a0d734fe.8c5d28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3965.236448287964,
        "y": 6075.937880516052,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "2d68d9df.42b516",
                "628782ea.c953bc"
            ]
        ]
    },
    {
        "id": "628782ea.c953bc",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4131.236204147339,
        "y": 6041.937880516052,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "2d68d9df.42b516",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4159.569667816162,
        "y": 6074.715898513794,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "c373688.a45d598",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4135.125148773193,
        "y": 6105.938251495361,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "4f33a0dd.898ab",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4233.347316741943,
        "y": 6132.271347045898,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "4720e409.01869c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3971.9028129577637,
        "y": 6126.826679229736,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c373688.a45d598",
                "4f33a0dd.898ab"
            ]
        ]
    },
    {
        "id": "c44de398.f8f8c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3817.3472175598145,
        "y": 6123.160203456879,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "4720e409.01869c"
            ]
        ]
    },
    {
        "id": "128f4f24.b18311",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.resourceID' value='`$tmp.cellDULocalId`'/>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU' value='`$tmp.rrmPolicyDedicatedRatio_CellDU_updated`'/>",
        "comments": "",
        "x": 3628.7164039611816,
        "y": 6245.945401191711,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "2ced73f5.327adc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3590.9656715393066,
        "y": 6281.917568683624,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "cef6cbe1.5ad948",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"cellLocalId\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellLocalId`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.pLMNId`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field6\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"GNBDUId\"/>\n<parameter name=\"field8\" value=\"`$tmp.gNBDUList.gNBDUId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"dLThptPerSlice\"/>\n<parameter name=\"field12\" value=\"`$tmp.dLThptPerSlice`\"/>\n<parameter name=\"field13\" value=\"uLThptPerSlice\"/>\n<parameter name=\"field14\" value=\"`$tmp.uLThptPerSlice`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3426.1249656677246,
        "y": 5830.78524684906,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "bf5246ba.d3ccd8",
        "type": "block",
        "name": "get coverageAreaTAList",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 609.0556602478027,
        "y": 610.5284223556519,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c1143361.9ff95",
                "b7e561c7.efb93",
                "57b00eeb.97e35",
                "bf5b1cbe.5cac3",
                "9522b7d7.34d778",
                "ab2a36a3.fff308",
                "8a2a6e63.24f75",
                "16911c62.1a3094"
            ]
        ]
    },
    {
        "id": "c1143361.9ff95",
        "type": "execute",
        "name": "prepare URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.aai.fetchSliceProfile`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.fetchSliceProfile.url\"/>\n    <parameter name=\"target\" value=\"{global-customer-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.globalCustomerId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 881.5001258850098,
        "y": 659.0006113052368,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "9522b7d7.34d778",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Get coverageAreaTAList URL: \"/>\n<parameter name=\"field2\" value=\"`$tmp.aai.fetchSliceProfile.url`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 906.0001792907715,
        "y": 814.0007810592651,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "b7e561c7.efb93",
        "type": "execute",
        "name": "prepare serviceType",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.aai.fetchSliceProfile.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.fetchSliceProfile.url\"/>\n    <parameter name=\"target\" value=\"{service-type}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.serviceType`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 902.0001182556152,
        "y": 696.5006093978882,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "57b00eeb.97e35",
        "type": "execute",
        "name": "prepare service-instance-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.aai.fetchSliceProfile.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.fetchSliceProfile.url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.RANNFNSSIId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 930.0001182556152,
        "y": 736.6117334365845,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "bf5b1cbe.5cac3",
        "type": "execute",
        "name": "prepare profile-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.aai.fetchSliceProfile.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.fetchSliceProfile.url\"/>\n    <parameter name=\"target\" value=\"{profile-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.sliceProfileId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 905.0001182556152,
        "y": 773.5006093978882,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "fa5d4c25.71f7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1562.0002708435059,
        "y": 557.0006189346313,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "8c1b3b92.ae7828",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1562.000576019287,
        "y": 521.1116342544556,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "b59be588.05b678",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1317.0002250671387,
        "y": 484.0005340576172,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "fa5d4c25.71f7",
                "8c1b3b92.ae7828"
            ]
        ]
    },
    {
        "id": "4f6420ee.7a6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1156.0003623962402,
        "y": 506.00060749053955,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "b59be588.05b678"
            ]
        ]
    },
    {
        "id": "ab2a36a3.fff308",
        "type": "execute",
        "name": "invoke API",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.org.onap.ccsdk.sli.adaptors.aai.uri + $tmp.aai.fetchSliceProfile.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-coverageAreaTAList-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 938.2501335144043,
        "y": 852.0005989074707,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "84bedec2.5cb62",
                "547540c9.ad177"
            ]
        ]
    },
    {
        "id": "84bedec2.5cb62",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1091.305763244629,
        "y": 767.472954750061,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "37977230.cf83fe"
            ]
        ]
    },
    {
        "id": "37977230.cf83fe",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1250.4164371490479,
        "y": 758.3619384765625,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "a6c6f62c.373f88",
                "926bfa06.e20138",
                "13d51834.889b98",
                "1c8a3901.458077",
                "acf6f1f3.30853",
                "52f91ebb.f9772",
                "de4d599e.90c0d8"
            ]
        ]
    },
    {
        "id": "a6c6f62c.373f88",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved coverageAreaTAList\"/>\n<parameter name=\"field2\" value=\"`$get-coverageAreaTAList-response.coverage-area-TA-list`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1355.499828338623,
        "y": 519.1119680404663,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "926bfa06.e20138",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1386.6113471984863,
        "y": 562.5841951370239,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "a38e0b2e.a2acd8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from AAI. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1347.9798202514648,
        "y": 794.3686304092407,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "c8353ff3.d976c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1385.0907173156738,
        "y": 828.1464281082153,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "f8c0a126.fe7f8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1243.2016696929932,
        "y": 829.5909404754639,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c8353ff3.d976c",
                "a38e0b2e.a2acd8"
            ]
        ]
    },
    {
        "id": "547540c9.ad177",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1117.5351486206055,
        "y": 828.5909872055054,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "f8c0a126.fe7f8"
            ]
        ]
    },
    {
        "id": "502891f9.ea242",
        "type": "execute",
        "name": "set  globalCustomerId",
        "xml": "<set>\n<parameter name='tmp.payload.globalCustomerId' value='`$payloadJson.input.globalSubscriberId`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 838.5001258850098,
        "y": 99.75060820579529,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "c5796382.83e7b",
        "type": "execute",
        "name": "set  serviceType",
        "xml": "<set>\n<parameter name='tmp.serviceType' value='`$payloadJson.input.subscriptionServiceType`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 843.5001182556152,
        "y": 137.75060939788818,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "eae0baff.772378",
        "type": "execute",
        "name": "Update RAN Inventory ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRANSliceInventory`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRANSliceInventory.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-inventory-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 995.7501182556152,
        "y": 4183.250608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "5ddca2ae.744c2c",
                "65423ccf.90c364"
            ]
        ]
    },
    {
        "id": "e1d5099c.b7b918",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Update inventory in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 965.0001068115234,
        "y": 3964.750599861145,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "5ddca2ae.744c2c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1231.7507762908936,
        "y": 4137.250967025757,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e2c13abd.aeddf8"
            ]
        ]
    },
    {
        "id": "e2c13abd.aeddf8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1371.7510948181152,
        "y": 4145.250844955444,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "451c92b8.b34eec",
                "fc219286.7c88b"
            ]
        ]
    },
    {
        "id": "fc219286.7c88b",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1506.750789642334,
        "y": 4111.362356185913,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "451c92b8.b34eec",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating inventory in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1560.7505149841309,
        "y": 4148.250905990601,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "71d04192.686a1",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Updated inventory in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1579.7507667541504,
        "y": 4200.251093864441,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "73e97e8e.d7862",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1393.7505187988281,
        "y": 4216.250849723816,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "71d04192.686a1",
                "392392b6.96516e"
            ]
        ]
    },
    {
        "id": "65423ccf.90c364",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1235.7507286071777,
        "y": 4217.250604629517,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "73e97e8e.d7862"
            ]
        ]
    },
    {
        "id": "54f13885.5ff1d8",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.dLThptPerSlice' value='`$tmp.payload.dLThptPerSlice`'/>\n<parameter name='tmp.payload.pLMNId' value='`$tmp.pLMNId`'/>\n<parameter name='tmp.payload.sNSSAI' value='`$tmp.sNSSAI`'/>\n<parameter name='tmp.uLThptPerSlice' value='`$tmp.payload.uLThptPerSlice`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberOfConns`'/>",
        "comments": "",
        "x": 955.7501182556152,
        "y": 4052.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "8862a974.1b0938",
        "type": "execute",
        "name": "prepare gNBDUList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.DUList.response' />\n\t<parameter name='keyName' value='gNBDUId' />\n\t<parameter name='keyValue' value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3312.5001182556152,
        "y": 5013.500608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "251b09f3.ecd1c6",
        "type": "execute",
        "name": "prepare gNBCUUPList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.CUUPList.response' />\n\t<parameter name='keyName' value='gNBCUUPId' />\n\t<parameter name='keyValue' value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1866.7501182556152,
        "y": 3239.250608444214,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "447dd9d2.c3e1e8",
        "type": "execute",
        "name": "prepare gNBCUCPList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.CUCPList.response' />\n\t<parameter name='keyName' value='gNBCUName' />\n\t<parameter name='keyValue' value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2391.7501182556152,
        "y": 1563.5006084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "175ea2ed.59262d",
        "type": "for",
        "name": "For coverageAreaTAList",
        "xml": "<for index='ta' start='0' end='`$tmp.trackingAreaListEntries`'>",
        "comments": "",
        "outputs": 1,
        "x": 609.4445915222168,
        "y": 728.6672811508179,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "ac2301fe.5483a"
            ]
        ]
    },
    {
        "id": "ac2301fe.5483a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 625.6318016052246,
        "y": 782.9898624420166,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "ddda073a.0e6858",
                "b74d11b4.bfee4",
                "8bd53c86.ab004",
                "9cb0489b.ea5648",
                "2f2fd822.4f1578",
                "77a62abd.fd91c4"
            ]
        ]
    },
    {
        "id": "8a2a6e63.24f75",
        "type": "execute",
        "name": "set trackingArea size",
        "xml": "<set>\n\t<parameter name='tmp.trackingAreaListEntries' value=\"`$tmp.coverageAreaTAList_length`\"/>\n\t",
        "comments": "",
        "outputs": 1,
        "x": 965.0001182556152,
        "y": 885.0561571121216,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "16911c62.1a3094",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Tracking Area size\"/>\n<parameter name=\"field2\" value=\"`$tmp.trackingAreaListEntries`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 928.3334312438965,
        "y": 916.1672410964966,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "1c8a3901.458077",
        "type": "execute",
        "name": "SliStringUtils - split",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n    <parameter name=\"original_string\" value=\"`$tmp.aai.coverageAreaTAList`\" />\n    <parameter name=\"regex\" value=\",\"/>\n    <parameter name=\"ctx_memory_result_key\" value=\"tmp.coverageAreaTAList\"/>\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1451.389217376709,
        "y": 730.3340520858765,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "13d51834.889b98",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='tmp.aai.coverageAreaTAList' value=\"`$get-coverageAreaTAList-response.coverage-area-TA-list`\"/>\n",
        "comments": "",
        "x": 1379.722427368164,
        "y": 601.1673717498779,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "52f91ebb.f9772",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1463.333568572998,
        "y": 767.2785520553589,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "ddda073a.0e6858",
        "type": "execute",
        "name": "read trackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.payload.trackingArea' />\n\t<parameter name='source' value=\"`'tmp.coverageAreaTAList['+ $ta+']'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 715.555736541748,
        "y": 868.9450902938843,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "8bd53c86.ab004",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"trackingArea \"/>\n<parameter name=\"field2\" value=\"`$tmp.payload.trackingArea`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 669.4445762634277,
        "y": 917.2783250808716,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "de4d599e.90c0d8",
        "type": "execute",
        "name": "replace [",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.aai.coverageAreaTAList`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.coverageAreaTAList\"/>\n    <parameter name=\"target\" value=\"[\"/>\n    <parameter name=\"replacement\" value=\"\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1395.0002479553223,
        "y": 639.2227659225464,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "acf6f1f3.30853",
        "type": "execute",
        "name": "replace ]",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.aai.coverageAreaTAList`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.coverageAreaTAList\"/>\n    <parameter name=\"target\" value=\"]\"/>\n    <parameter name=\"replacement\" value=\"\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1410.833423614502,
        "y": 676.1672987937927,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "2d7f30c0.5bc41",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcuup-rrm1' start='0' end='`$tmp.rrmPolicyRatio_configdb_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2006.750286102295,
        "y": 4082.751275062561,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "9c59b0f2.b9faf"
            ]
        ]
    },
    {
        "id": "c80dd893.40a448",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatio_configdb_length' value='`$getrrmpolicyratioinfo-cuup-configdb-response._length`'/>\n\n    ",
        "comments": "",
        "x": 2067.7501182556152,
        "y": 4050.750611305237,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "9c59b0f2.b9faf",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2214.7501182556152,
        "y": 4082.750611305237,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "425f5c2c.d3dd24",
                "c9661cbd.eab2",
                "89f7cc7c.bc34",
                "cd8bca95.ab6e98"
            ]
        ]
    },
    {
        "id": "425f5c2c.d3dd24",
        "type": "set",
        "name": "set rrmpolicyratioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='prop.configDB.rrmPolicyID' />\n\t<parameter name='source' value=\"`'getrrmpolicyratioinfo-cuup-configdb-response.['+$idcuup-rrm1+'].rrmPolicyID'`\" />\n\n    ",
        "comments": "",
        "x": 2231.7501335144043,
        "y": 4134.750789642334,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "4234ef39.22a4f",
        "type": "set",
        "name": "set rrmpolicyratioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='prop.configDB.rrmPolicyID' />\n\t<parameter name='source' value=\"`'getrrmpolicyratioinfo-configdb-response.['+$idcu-rrm1+'].rrmPolicyID'`\" />\n",
        "comments": "",
        "x": 2307.0003242492676,
        "y": 2569.7513132095337,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "1570902b.20d5a",
        "type": "set",
        "name": "set rrmpolicyratioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='prop.configDB.rrmPolicyID' />\n\t<parameter name='source' value=\"`'getrrmpolicyratioinfoDU-configdb-response.['+$iddu-rrm1+'].rrmPolicyID'`\" />\n",
        "comments": "",
        "x": 3642.0005226135254,
        "y": 6208.750942230225,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "5c982418.5c491c",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioConfigDB_length' value='`$getrrmpolicyratioinfo-configdb-response._length`'/>\n\n    ",
        "comments": "",
        "x": 2183.2501182556152,
        "y": 2479.250612258911,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "673d705e.44839",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcu-rrm1' start='0' end='`$tmp.rrmPolicyRatioConfigDB_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2000.2502326965332,
        "y": 2519.2507038116455,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "c13f97f5.747d48"
            ]
        ]
    },
    {
        "id": "c13f97f5.747d48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2192.250141143799,
        "y": 2521.250916481018,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "4234ef39.22a4f",
                "1ed99ba6.fee564",
                "9a9bd8da.a47758",
                "676f067.50614f8"
            ]
        ]
    },
    {
        "id": "df6d9ef2.fee73",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioDUList_length' value='`$getrrmpolicyratioinfoDU-configdb-response._length`'/>\n\n    ",
        "comments": "",
        "x": 3496.750217437744,
        "y": 6065.2508182525635,
        "z": "aa034cd3.d7d9d",
        "wires": []
    },
    {
        "id": "d41a0794.bbe908",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='iddu-rrm1' start='0' end='`$tmp.rrmPolicyRatioDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3478.7501182556152,
        "y": 6109.250612258911,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "e5d28ddd.644fd"
            ]
        ]
    },
    {
        "id": "e5d28ddd.644fd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3663.0001182556152,
        "y": 6144.250612258911,
        "z": "aa034cd3.d7d9d",
        "wires": [
            [
                "1570902b.20d5a",
                "128f4f24.b18311",
                "2ced73f5.327adc",
                "213c587d.7b2018"
            ]
        ]
    },
    {
        "id": "9cb0489b.ea5648",
        "type": "execute",
        "name": "set params",
        "xml": "<set>\n<parameter name='tmp.RICEntries' value=\"`$getNFNSSIRIC-configdb-response._length`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 505.50011825561523,
        "y": 1265.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    },
    {
        "id": "2f2fd822.4f1578",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated uLThptPerSlice for nearRTRIC \"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field3\" value=\"dLThptPerSlice for nearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConn for nearRTRIC\"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"nearRTRICId\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"RANNFNSSI\"/>\n<parameter name=\"field12\" value=\"`$tmp.ranNFNSSIListEntry`\"/>\n<parameter name=\"field13\" value=\"NSSAI\"/>\n<parameter name=\"field14\" value=\"`$tmp.payload.sNSSAI`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 485.50011825561523,
        "y": 1315.7506084442139,
        "z": "aa034cd3.d7d9d",
        "wires": [
            []
        ]
    }
]