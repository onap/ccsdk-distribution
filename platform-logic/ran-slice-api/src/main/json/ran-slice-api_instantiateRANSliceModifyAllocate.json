[
    {
        "id": "c2214eca.623e8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 153.75,
        "y": 94.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "600add00.afd854"
            ]
        ]
    },
    {
        "id": "600add00.afd854",
        "type": "service-logic",
        "name": "ran-slice-api ${project.version}",
        "module": "ran-slice-api",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='ran-slice-api' version='${project.version}'>",
        "outputs": 1,
        "x": 238.7500228881836,
        "y": 161.74996948242188,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d37ef6e2.d6e948"
            ]
        ]
    },
    {
        "id": "d37ef6e2.d6e948",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='instantiateRANSliceModifyAllocate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 172.75,
        "y": 221.74993515014648,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "bf5a7218.9ca67"
            ]
        ]
    },
    {
        "id": "bf5a7218.9ca67",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 168.74999237060547,
        "y": 282.7499713897705,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "e991f90b.810598",
                "af8420d.b3d6ae",
                "4524ca88.520da4",
                "61db22e5.255cbc",
                "78a0519c.a4047",
                "a145c709.8db1e8",
                "d21a5ac4.809de8",
                "cd6c9239.1fbb9",
                "69b6790d.7ed958"
            ]
        ]
    },
    {
        "id": "e991f90b.810598",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 435.75,
        "y": 273.75000977516174,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ac6387f5.a3ebe8",
                "97c44ba4.d46ac8",
                "ae1e812b.c4829"
            ]
        ]
    },
    {
        "id": "ac6387f5.a3ebe8",
        "type": "execute",
        "name": "generate getNearRTRICsFromRANNFNSSI URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getNearRTRICByNSSI`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getNearRTRICByNSSI.url\"/>\n    <parameter name=\"target\" value=\"{ranNFNSSIId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.RANNFNSSIId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 771.25,
        "y": 237.75001335144043,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "97c44ba4.d46ac8",
        "type": "record",
        "name": "record configdb RestAPI params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for configDB to Get NearRTRIC for RANNFNSSI\"/>\n<parameter name='field2' value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\" />\n<parameter name='field3' value=\"`$tmp.payload.RANNFNSSIId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 730.2500076293945,
        "y": 277.49999809265137,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "ae1e812b.c4829",
        "type": "execute",
        "name": "Get nearRTRIC for RANNFNSSIId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getNFNSSIRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 741.2500762939453,
        "y": 321.00000381469727,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b3ce1314.75bca",
                "16e0c918.bded57"
            ]
        ]
    },
    {
        "id": "b3ce1314.75bca",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 991.5682373046875,
        "y": 349.56809997558594,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "c57d75b1.965518"
            ]
        ]
    },
    {
        "id": "c57d75b1.965518",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1164.5680389404297,
        "y": 338.568172454834,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "70a82c0c.c63b54",
                "eda2ccb1.01fd2"
            ]
        ]
    },
    {
        "id": "70a82c0c.c63b54",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained NearRT RIC info from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getNFNSSIRIC-configdb-response._length`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1365.3177680969238,
        "y": 338.3181972503662,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "eda2ccb1.01fd2",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1401.0959815979004,
        "y": 381.56820583343506,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "16e0c918.bded57",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1002.0680961608887,
        "y": 298.06814193725586,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "6b014921.1b60f8"
            ]
        ]
    },
    {
        "id": "6b014921.1b60f8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1160.8181762695312,
        "y": 272.0682134628296,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "33f8b69c.fe17ca",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "33f8b69c.fe17ca",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1333.567813873291,
        "y": 284.6792392730713,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "f23f4f55.9af9e",
        "type": "for",
        "name": "foreach NearRTRIC",
        "xml": "<for index='idy' start='0' end='`$getNFNSSIRIC-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 295.75003814697266,
        "y": 1383.5682691931725,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "c47e19b.f4a92e8",
                "31028ad.cbf1876",
                "8c761aa1.edcbf8",
                "6de42e11.dd96f"
            ]
        ]
    },
    {
        "id": "c47e19b.f4a92e8",
        "type": "block",
        "name": "Process NearRTRIC",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 621.659065246582,
        "y": 1177.477334022522,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "2bc2b5ac.4905fa",
                "ee72f394.00f5e",
                "eb0e5c5d.91e2a",
                "53adb8ae.4e7e08",
                "65560fbc.8618",
                "f0ab8d12.bcb86",
                "36b7a424.f750bc"
            ]
        ]
    },
    {
        "id": "2bc2b5ac.4905fa",
        "type": "execute",
        "name": "read nearRTRICId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.nearRTRICId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].nearRTRICId'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 796.2956314086914,
        "y": 610.4773855209351,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "ee72f394.00f5e",
        "type": "execute",
        "name": "read gNBId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.gNBId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy + '].gNBId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 806.2956161499023,
        "y": 648.4775915145874,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "eb0e5c5d.91e2a",
        "type": "set",
        "name": "Calculate uLThptPerSlice dLThptPerSlice maxNumberOfConns",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.uLThptPerSlice1' value='`$payloadJson.input.sliceProfile.uLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.uLThptPerSlice' value='`$tmp.nearRTRIC.uLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice1' value='`$payloadJson.input.sliceProfile.dLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice' value='`$tmp.nearRTRIC.dLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns1' value='`$payloadJson.input.sliceProfile.maxNumberofConns * 1.1`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns' value='`$tmp.nearRTRIC.maxNumberOfConns1 / $getNFNSSIRIC-configdb-response._length`' />",
        "comments": "",
        "x": 983.6591644287109,
        "y": 728.2955236434937,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "53adb8ae.4e7e08",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated uLThptPerSlice for nearRTRIC \"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field3\" value=\"dLThptPerSlice for nearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConn for nearRTRIC\"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"nearRTRICId\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"RANNFNSSI\"/>\n<parameter name=\"field12\" value=\"`$tmp.ranNFNSSIListEntry`\"/>\n<parameter name=\"field13\" value=\"NSSAI\"/>\n<parameter name=\"field14\" value=\"`$tmp.payload.sNSSAI`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 827.568151473999,
        "y": 764.2955856323242,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "65560fbc.8618",
        "type": "execute",
        "name": "Update nearRT RIC Details in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updatenearRTRIC`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updatenearRTRIC.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"modify-allocate-nearRTRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1124.5682373046875,
        "y": 1170.2045831680298,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d9ac93de.d4d2c",
                "e347c8e.fbed538"
            ]
        ]
    },
    {
        "id": "d9ac93de.d4d2c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1484.568115234375,
        "y": 1138.0226440429688,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ee0d365.2541bc8"
            ]
        ]
    },
    {
        "id": "ee0d365.2541bc8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1616.5682373046875,
        "y": 1100.0226440429688,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b256d08f.f16bc",
                "fb679858.5bfee8"
            ]
        ]
    },
    {
        "id": "fb679858.5bfee8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1805.5679931640625,
        "y": 1047.1336669921875,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "b256d08f.f16bc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1813.5679931640625,
        "y": 1147.022705078125,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "e347c8e.fbed538",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1482.38623046875,
        "y": 1237.9317626953125,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d73e40d6.e2278"
            ]
        ]
    },
    {
        "id": "d73e40d6.e2278",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1646.3861083984375,
        "y": 1238.931884765625,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "aec340ef.e35cc"
            ]
        ]
    },
    {
        "id": "aec340ef.e35cc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Updated NearRT RIC info in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1796.3861083984375,
        "y": 1233.9320068359375,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "f0ab8d12.bcb86",
        "type": "execute",
        "name": "set params",
        "xml": "<set>\n<parameter name='tmp.ranNFNSSIListEntry' value=\"`$payloadJson.input.RANNFNSSIId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 829.7499923706055,
        "y": 693.7500371932983,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a5dc0ff7.c3fdf",
        "type": "execute",
        "name": "read CUCP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 999.75,
        "y": 1281.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "31028ad.cbf1876",
        "type": "block",
        "name": "Process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 599.75,
        "y": 1265.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a5dc0ff7.c3fdf",
                "7567d3a7.e1e75c",
                "5e745650.a8b898"
            ]
        ]
    },
    {
        "id": "7567d3a7.e1e75c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUCP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 971.75,
        "y": 1346.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "5e745650.a8b898",
        "type": "for",
        "name": "foreach CUCP",
        "xml": "<for index='idz' start='0' end='`$tmp.CUCPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 999.75,
        "y": 1421.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a9adb105.d2952"
            ]
        ]
    },
    {
        "id": "a9adb105.d2952",
        "type": "block",
        "name": "block : process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1220.75,
        "y": 1428.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "5d07f956.5fc388",
                "6ebfcd34.bd3e74",
                "a0c26746.e4d628",
                "4bd24663.0a3318"
            ]
        ]
    },
    {
        "id": "5d07f956.5fc388",
        "type": "execute",
        "name": "read CUCP name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPName' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].gNBCUName'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1571.75,
        "y": 1281.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "6ebfcd34.bd3e74",
        "type": "for",
        "name": "for cellCUList",
        "xml": "<for index='idcu' start='0' end='`$tmp.cellCUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1575.75,
        "y": 1425.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "7da60215.40271c"
            ]
        ]
    },
    {
        "id": "8647a76c.78cde8",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2224.75,
        "y": 1449.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "2393df97.b3ef4",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2253.750015258789,
        "y": 1524.750048160553,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "dbd5892d.d6aeb8",
                "b6b58596.9f3498"
            ]
        ]
    },
    {
        "id": "4de5d43.101052c",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.CUCPName`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellCULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2218.75008392334,
        "y": 1486.7501091957092,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "49d2b0dd.f470a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2089.75,
        "y": 1032.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "8647a76c.78cde8",
                "4de5d43.101052c",
                "2393df97.b3ef4",
                "c8e774f3.eb2298",
                "a67c36d5.d2d878",
                "da3b1ec3.da31d",
                "6e1f3d0a.b0b424",
                "d375f5fd.d667c8",
                "a5f150c.a0a16b",
                "1d1f90d6.b058cf",
                "176c3707.cee7c9"
            ]
        ]
    },
    {
        "id": "dbd5892d.d6aeb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2509.750114440918,
        "y": 1574.7502174377441,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "1e41d319.6f05dd"
            ]
        ]
    },
    {
        "id": "1e41d319.6f05dd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2682.749900817871,
        "y": 1573.7502784729004,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "63de9d4d.316cc4"
            ]
        ]
    },
    {
        "id": "63de9d4d.316cc4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2880.7499618530273,
        "y": 1570.750400543213,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "b6b58596.9f3498",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2474.75008392334,
        "y": 1457.7499732971191,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a76a02e4.5b774"
            ]
        ]
    },
    {
        "id": "a76a02e4.5b774",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2624.750358581543,
        "y": 1416.750156402588,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b51aa749.d53748",
                "4278e2d.aa1d91c",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "b51aa749.d53748",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRcellCU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2795.7499923706055,
        "y": 1477.7502174377441,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "4278e2d.aa1d91c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2790.750114440918,
        "y": 1382.750156402588,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "c8e774f3.eb2298",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2306.75,
        "y": 1259.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a67c36d5.d2d878",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2267.75,
        "y": 1327.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "da3b1ec3.da31d",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 2234.75,
        "y": 1385.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a0c26746.e4d628",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUCPName \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPName`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1544.75,
        "y": 1332.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "4bd24663.0a3318",
        "type": "execute",
        "name": "read cellCU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList[' + $idz +'].cellCUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1585.75,
        "y": 1381.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "6e1f3d0a.b0b424",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2312.75,
        "y": 1095.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "1358406e.16fbb",
                "985a767e.59e378"
            ]
        ]
    },
    {
        "id": "1358406e.16fbb",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2520.75,
        "y": 1060.749755859375,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b5fb7b91.c27528"
            ]
        ]
    },
    {
        "id": "b5fb7b91.c27528",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2840.75,
        "y": 1075.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "985a767e.59e378",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2508.75,
        "y": 1162.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "62c4ee44.ca781"
            ]
        ]
    },
    {
        "id": "d375f5fd.d667c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1867.75,
        "y": 1846.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "62876053.ef058",
                "bf63da1d.62cac8",
                "dcf95a02.5e23c8",
                "5048f22f.10f42c",
                "23d03298.aa32ce",
                "9015ed7e.9220e",
                "9feb61f8.03034",
                "f22cd086.ef3c4",
                "a2c6e87b.4d4928",
                "c8227d61.35758",
                "df4c3d6b.71ee2"
            ]
        ]
    },
    {
        "id": "62876053.ef058",
        "type": "set",
        "name": "Calculate maxNumberOfConnsPercellCU",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConnsPercellCU' value='`$tmp.payload.maxNumberofConns / $tmp.cellCUList_length`' />\n",
        "comments": "",
        "x": 2123.75013923645,
        "y": 1617.7501077651978,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "bf63da1d.62cac8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio temp1 - \"/>\n<parameter name=\"field2\" value=\"`$tmp.maxNumberOfConnsPercellCU`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyRatio temp2 - \"/>\n<parameter name=\"field4\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellCU1`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.rRMPolicyDedicatedRatio_SliceProfile`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2066.7500743865967,
        "y": 1745.7500772476196,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "dcf95a02.5e23c8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2087.7500743865967,
        "y": 1781.7500467300415,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "7f07ba39.bb0ff4",
                "d6529a53.46a858"
            ]
        ]
    },
    {
        "id": "7f07ba39.bb0ff4",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2267.75,
        "y": 1719.749755859375,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "387ff537.ca09da"
            ]
        ]
    },
    {
        "id": "387ff537.ca09da",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2545.75,
        "y": 1711.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "5048f22f.10f42c",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2124.75,
        "y": 1824.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "23d03298.aa32ce",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2123.7500400543213,
        "y": 1864.7500200271606,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "c92d7f75.a1de9",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2380.749979019165,
        "y": 1967.750111579895,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "40673b55.f3a0b4"
            ]
        ]
    },
    {
        "id": "40673b55.f3a0b4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2539.7498779296875,
        "y": 2004.7501220703125,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "27ee875e.212108",
                "f42fc9fc.ed4b98"
            ]
        ]
    },
    {
        "id": "27ee875e.212108",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2690.7499866485596,
        "y": 1972.750325679779,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "41702a4e.b1dae4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2377.749952316284,
        "y": 1874.7500200271606,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "30e6eaad.c002d6"
            ]
        ]
    },
    {
        "id": "30e6eaad.c002d6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2529.750244140625,
        "y": 1872.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b54e7d89.fbbcd",
                "9a4a9c40.2a492",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "b54e7d89.fbbcd",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2700.7498779296875,
        "y": 1933.7500610351562,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "9a4a9c40.2a492",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2695.75,
        "y": 1838.75,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "9015ed7e.9220e",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2156.7500705718994,
        "y": 1919.7500200271606,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "41702a4e.b1dae4",
                "c92d7f75.a1de9"
            ]
        ]
    },
    {
        "id": "f42fc9fc.ed4b98",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2716.7499256134033,
        "y": 2005.7500505447388,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "9feb61f8.03034",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcu-rrm' start='0' end='`$tmp.rrmPolicyRatioList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2059.75,
        "y": 2109.750228881836,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "3cdcc8ae.f3cdf8"
            ]
        ]
    },
    {
        "id": "3cdcc8ae.f3cdf8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2280.75,
        "y": 2129.750228881836,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "fe8970bb.7e877",
                "c2feea01.936718",
                "55a38ed4.52713",
                "9350352b.0381c8",
                "2ab85c17.432804",
                "8a75c18b.7a57e",
                "f5ecffc5.0f7b9",
                "ef21539c.19b94",
                "a721c040.e0814",
                "727f8e75.8bf37",
                "8db65cb2.433a"
            ]
        ]
    },
    {
        "id": "fe8970bb.7e877",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellCU_new' value='`$tmp.rrmPolicyDedicatedRatiocellCU_old + $tmp.rRMPolicyDedicatedRatio_SliceProfile`' />",
        "comments": "",
        "x": 2598.7500171661377,
        "y": 2089.7502975463867,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "c2feea01.936718",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Existing RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatiocellCU_old`\"/>\n<parameter name=\"field3\" value=\"Updated RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field4\" value=\"`$tmp.rrmPolicyDedicatedRatio_CellCU_new`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2523.750047683716,
        "y": 2123.74999332428,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "55a38ed4.52713",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2573.75,
        "y": 2157.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "5f167d91.378f74",
                "c33d8fc7.a963a"
            ]
        ]
    },
    {
        "id": "5f167d91.378f74",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2854.8610458374023,
        "y": 2085.861038208008,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "590d22a8.189c2c"
            ]
        ]
    },
    {
        "id": "590d22a8.189c2c",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3099.75040435791,
        "y": 2087.638889312744,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "9350352b.0381c8",
        "type": "execute",
        "name": "patch NRCellCU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2611.6387786865234,
        "y": 2335.4167127609253,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "fd81286f.bb34a8",
                "c78401d2.e4ce8"
            ]
        ]
    },
    {
        "id": "fd81286f.bb34a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2874.75,
        "y": 2320.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "4d74b847.fdafe8"
            ]
        ]
    },
    {
        "id": "4d74b847.fdafe8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3065.75,
        "y": 2320.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "63a687a7.42f938"
            ]
        ]
    },
    {
        "id": "63a687a7.42f938",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3250.749755859375,
        "y": 2321.750244140625,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "c78401d2.e4ce8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2873.75,
        "y": 2408.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "51dc27ec.ac0b48"
            ]
        ]
    },
    {
        "id": "51dc27ec.ac0b48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3092.750244140625,
        "y": 2413.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "34883346.6c344c",
                "85d40fc1.7a7f8",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "34883346.6c344c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU - RRMPolicyRAtio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3337.7498779296875,
        "y": 2459.7500610351562,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "85d40fc1.7a7f8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3332.75,
        "y": 2364.75,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "f22cd086.ef3c4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2043.75,
        "y": 2059.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "7da60215.40271c",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1795.75,
        "y": 1334.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "6096b89c.76c6f8"
            ]
        ]
    },
    {
        "id": "a5f150c.a0a16b",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.cellCULocalId`\"/>\n<parameter name=\"field2\" value=\"CellCU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2284.75,
        "y": 1027.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "1d1f90d6.b058cf",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1684.7499542236328,
        "y": 2311.750011444092,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "31fc5e4e.47a402",
                "3ccfe786.cfc518",
                "d1830cc2.245b7",
                "91ed6cf9.b1f4e",
                "d036625e.6fa45",
                "aca59270.868db",
                "448a23c3.9d7ecc",
                "5ec3aa02.391784",
                "a7e4a69a.4eee18",
                "d04803e9.e9861"
            ]
        ]
    },
    {
        "id": "31fc5e4e.47a402",
        "type": "execute",
        "name": "Update cellCU for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUCP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBCUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1967.7499542236328,
        "y": 2311.750011444092,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f1cae3bc.168e",
                "1e328666.848a7a"
            ]
        ]
    },
    {
        "id": "1e328666.848a7a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2241.75008392334,
        "y": 2368.750121116638,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "2775f701.c17098"
            ]
        ]
    },
    {
        "id": "f1cae3bc.168e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2239.1945190429688,
        "y": 2330.528039932251,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "98a4baef.20ad28"
            ]
        ]
    },
    {
        "id": "98a4baef.20ad28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2446.749954223633,
        "y": 2398.750011444092,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d51da4bf.610e18",
                "12224ef7.862411",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "12224ef7.862411",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2613.8609161376953,
        "y": 2373.416700363159,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "d51da4bf.610e18",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2671.0829162597656,
        "y": 2434.1943798065186,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "721c736a.d5d89c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2514.861167907715,
        "y": 2442.9721660614014,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "2775f701.c17098",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2374.1944999694824,
        "y": 2440.305519104004,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "721c736a.d5d89c"
            ]
        ]
    },
    {
        "id": "5a4e2c1e.f4b764",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2108.7500610351562,
        "y": 2681.750156402588,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ef334e8.82afab",
                "a002ebe.7038018"
            ]
        ]
    },
    {
        "id": "ef334e8.82afab",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2425.9724349975586,
        "y": 2603.8614225387573,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "76cc58e5.07b528"
            ]
        ]
    },
    {
        "id": "a002ebe.7038018",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2366.7500534057617,
        "y": 2662.7497901916504,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "e2f23aa3.622178"
            ]
        ]
    },
    {
        "id": "76cc58e5.07b528",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2629.7499465942383,
        "y": 2604.74999332428,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "6ce97d8b.cce3c4",
                "dfb99747.0c0528",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "dfb99747.0c0528",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2811.305244445801,
        "y": 2598.5279388427734,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "6ce97d8b.cce3c4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2806.30509185791,
        "y": 2636.8612213134766,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "e2f23aa3.622178",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2494.7499923706055,
        "y": 2660.7500343322754,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "3e396f61.06a58"
            ]
        ]
    },
    {
        "id": "3e396f61.06a58",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2633.75,
        "y": 2652.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "8c761aa1.edcbf8",
        "type": "block",
        "name": "Process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 580.75,
        "y": 1491.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f69b5089.b25d4",
                "185118c6.608e27",
                "fb5bc42b.289a38"
            ]
        ]
    },
    {
        "id": "f69b5089.b25d4",
        "type": "execute",
        "name": "read CUUP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUUPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUUPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 911.75,
        "y": 1501.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "185118c6.608e27",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUUP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUUPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 883.75,
        "y": 1566.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "fb5bc42b.289a38",
        "type": "for",
        "name": "foreach CUUP",
        "xml": "<for index='id-cuup' start='0' end='`$tmp.CUUPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 911.75,
        "y": 1641.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "e11cd404.4bd5c8"
            ]
        ]
    },
    {
        "id": "e11cd404.4bd5c8",
        "type": "block",
        "name": "block : process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1132.75,
        "y": 1648.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "30526248.9b641e",
                "faeaa61b.bc9248",
                "7a2f5f61.b5cd5"
            ]
        ]
    },
    {
        "id": "30526248.9b641e",
        "type": "execute",
        "name": "read CUUP id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.idGNBCUUPFunction' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUUPList['+ $id-cuup +'].gNBCUUPId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1386.7500076293945,
        "y": 1470.5277557373047,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "faeaa61b.bc9248",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"idGNBCUUPFunction \"/>\n<parameter name=\"field2\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1366.083351135254,
        "y": 1522.305555820465,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "7a2f5f61.b5cd5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1365.75,
        "y": 2732.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "131a12ab.7ddc2d",
                "654fdcbe.ef4684",
                "3f661380.07eedc",
                "651554e.32dfcac",
                "293ab34b.13887c",
                "540a70f7.6ef82",
                "b47a7da2.e0076",
                "d3280960.b00268",
                "3f4a7572.886afa",
                "f57a51b6.27a94",
                "693a1ea6.3a76d",
                "7db7d25e.eb132c",
                "a029e507.1af008",
                "1379639e.bafadc",
                "86e8886b.e9c628",
                "d905da99.4ff128",
                "56fea612.d0b798",
                "babeecc.4e3ad1",
                "4f487da.79f0984"
            ]
        ]
    },
    {
        "id": "3f661380.07eedc",
        "type": "execute",
        "name": "patch PLMNInfoListEntry gNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoList-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-gNBCUUP-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 1680.4167785644531,
        "y": 2935.1945180892944,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "9be815bd.a70df8",
                "22f1cb29.5cb774"
            ]
        ]
    },
    {
        "id": "9be815bd.a70df8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1976.8612480163574,
        "y": 2966.083519935608,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "6ce86f91.5f8df"
            ]
        ]
    },
    {
        "id": "6ce86f91.5f8df",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2166.0835189819336,
        "y": 2952.861400604248,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "75a0620e.fb099c",
                "1e7061d3.c2505e",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "1e7061d3.c2505e",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2397.0835304260254,
        "y": 2914.639326095581,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "75a0620e.fb099c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2424.306022644043,
        "y": 2955.3060817718506,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "d26dc573.a978e8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - gNBCUUP PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2339.4164237976074,
        "y": 2996.9724197387695,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "64a38187.7846d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2153.083240509033,
        "y": 3002.527988433838,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d26dc573.a978e8"
            ]
        ]
    },
    {
        "id": "22f1cb29.5cb774",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1967.5277481079102,
        "y": 3006.416997909546,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "64a38187.7846d"
            ]
        ]
    },
    {
        "id": "131a12ab.7ddc2d",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1632.75,
        "y": 2734.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "18a87053.6eb9d",
                "7ea4eaea.ae76a4"
            ]
        ]
    },
    {
        "id": "18a87053.6eb9d",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1840.75,
        "y": 2699.749755859375,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "44c16046.56d26"
            ]
        ]
    },
    {
        "id": "7ea4eaea.ae76a4",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1824.3056640625,
        "y": 2750.638994216919,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ee6e501d.a4065"
            ]
        ]
    },
    {
        "id": "44c16046.56d26",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry CUUP URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2160.75,
        "y": 2714.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "654fdcbe.ef4684",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1644.4166259765625,
        "y": 2779.3057146072388,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "2ab85c17.432804",
        "type": "set",
        "name": "RRMPolicyRatio id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+'].id'`\" />\n",
        "comments": "",
        "x": 2575.5281677246094,
        "y": 2233.5274868011475,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "8a75c18b.7a57e",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value='`$tmp.rrmPolicyMembers+1`'/>\n",
        "comments": "",
        "x": 2586.5279083251953,
        "y": 2269.4170513153076,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "651554e.32dfcac",
        "type": "set",
        "name": "Calculate rRMPolicyDedicatedRatio Temp",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio1' value='`$tmp.maxNumberOfDRBsPerCUUP*100`' />\n",
        "comments": "",
        "x": 1702.3058013916016,
        "y": 3044.973133087158,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "293ab34b.13887c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio-CUUP`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1606.0835304260254,
        "y": 3109.1949582099915,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "540a70f7.6ef82",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1623.75,
        "y": 3149.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b223df9e.74217",
                "e0a753ea.22da"
            ]
        ]
    },
    {
        "id": "b223df9e.74217",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1801.75,
        "y": 3116.749755859375,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d713d062.9d049"
            ]
        ]
    },
    {
        "id": "d713d062.9d049",
        "type": "execute",
        "name": "fetch RRMPolicyRatio CUUP - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2096.750030517578,
        "y": 3062.7500562667847,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "b47a7da2.e0076",
        "type": "execute",
        "name": "prepare idGNBCUUPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1660.7500839233398,
        "y": 3204.7500133514404,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "d3280960.b00268",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - CUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-cuup-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1649.7503204345703,
        "y": 3310.75004196167,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "44324447.7bd3ec",
                "113ea23f.66f80e"
            ]
        ]
    },
    {
        "id": "44324447.7bd3ec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1906.7500953674316,
        "y": 3251.750178337097,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d78af681.4a5578"
            ]
        ]
    },
    {
        "id": "d78af681.4a5578",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2067.750244140625,
        "y": 3270.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b79db2a5.2db98",
                "32659d44.886732",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "32659d44.886732",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2233.75,
        "y": 3236.75,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "b79db2a5.2db98",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in fetching RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2289.860809326172,
        "y": 3280.6390228271484,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "1d6b5b32.0900a5",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2274.9721069335938,
        "y": 3376.305579185486,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "9895f065.2e032",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2269.9719161987305,
        "y": 3319.9723377227783,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "96974e27.3cb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2077.305465698242,
        "y": 3318.194646835327,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "9895f065.2e032",
                "1d6b5b32.0900a5"
            ]
        ]
    },
    {
        "id": "113ea23f.66f80e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1897.7500953674316,
        "y": 3321.75018119812,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "96974e27.3cb8"
            ]
        ]
    },
    {
        "id": "3f4a7572.886afa",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUUP - RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_CUUP_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1584.750228881836,
        "y": 3446.750102996826,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "f57a51b6.27a94",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcuup-rrm' start='0' end='`$tmp.rrmPolicyRatioList_CUUP_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1624.4167175292969,
        "y": 3529.0836015939713,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ce6ff808.f103d8"
            ]
        ]
    },
    {
        "id": "ce6ff808.f103d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1840.4166259765625,
        "y": 3545.083251953125,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "571fe2d8.bd8dcc",
                "a552a8dc.d17d88",
                "b847da42.b6d098",
                "32f7b928.d92cd6",
                "3a350ec.cbca2f2",
                "69da97cc.d97eb8",
                "1beb410.b9bddbf",
                "6fb99ea1.cba84",
                "34b9c13.ba3c13e"
            ]
        ]
    },
    {
        "id": "571fe2d8.bd8dcc",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CUUP_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP + $tmp.rRMPolicyDedicatedRatio-CUUP`\" />",
        "comments": "",
        "x": 2165.4166259765625,
        "y": 3522.083251953125,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "b847da42.b6d098",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2133.416603088379,
        "y": 3564.1944880485535,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "be8e28a3.ee4148",
                "161693aa.881efc"
            ]
        ]
    },
    {
        "id": "be8e28a3.ee4148",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2350.4167251586914,
        "y": 3560.083071708679,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "c8caf59c.3d3d68"
            ]
        ]
    },
    {
        "id": "c8caf59c.3d3d68",
        "type": "execute",
        "name": "patch RRMPolicyRatio CUUP- URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2623.4165954589844,
        "y": 3530.0836219787598,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "3a350ec.cbca2f2",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`$tmp.rrmPolicyMembers-CUUP+1`\" />",
        "comments": "",
        "x": 2137.3055267333984,
        "y": 3715.8613023757935,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "a552a8dc.d17d88",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Updated RRMPolicyRatio for CUUP is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP_updated`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyRatio_id is - \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyMember_id CUUP is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field7\" value=\"Existing RRMPolicyMembers Length\"/>\n<parameter name=\"field8\" value=\"`$tmp.rrmPolicyMembers-CUUP`\"/>\n<parameter name=\"field9\" value=\"Update RRMPolicyRatio URL - \"/>\n<parameter name=\"field10\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2098.7502670288086,
        "y": 3748.7502546310425,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "32f7b928.d92cd6",
        "type": "execute",
        "name": "patch CUUP- RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-CUUP-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2161.305534362793,
        "y": 3785.194251060486,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "75909dc4.f5ff34",
                "5d53812c.162b4"
            ]
        ]
    },
    {
        "id": "75909dc4.f5ff34",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2434.4166259765625,
        "y": 3736.083251953125,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ba7e91fa.78aee"
            ]
        ]
    },
    {
        "id": "ba7e91fa.78aee",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2625.4166259765625,
        "y": 3736.083251953125,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "76b3d173.44c15"
            ]
        ]
    },
    {
        "id": "76b3d173.44c15",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2810.4163818359375,
        "y": 3737.08349609375,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "c23a8c1e.2d1b4",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2892.4166259765625,
        "y": 3780.083251953125,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "ae520036.07bc5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2897.41650390625,
        "y": 3875.0833129882812,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "66b85a16.3b07e4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2652.4168701171875,
        "y": 3829.083251953125,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ae520036.07bc5",
                "c23a8c1e.2d1b4",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "5d53812c.162b4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2433.4166259765625,
        "y": 3824.083251953125,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "66b85a16.3b07e4"
            ]
        ]
    },
    {
        "id": "693a1ea6.3a76d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1579.0834197998047,
        "y": 3857.4168615341187,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "8a87497e.531268",
                "e0e65fd0.2b6c9",
                "d1229865.4d31f8",
                "f88ad792.a38708",
                "339be435.33e26c",
                "23fd15d2.b48aca",
                "8ad1032.8f26c",
                "4e9b0acc.4799f4",
                "15d0a6a8.2844c9",
                "e698a0cf.99018"
            ]
        ]
    },
    {
        "id": "8a87497e.531268",
        "type": "execute",
        "name": "Update gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUUP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBCUUP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1883.3334197998047,
        "y": 3869.666796684265,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "bdf852bc.ccf0e",
                "23e9262a.0863ca"
            ]
        ]
    },
    {
        "id": "bdf852bc.ccf0e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2199.0833740234375,
        "y": 3829.4169921875,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f2dc545e.b38c38"
            ]
        ]
    },
    {
        "id": "23e9262a.0863ca",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2185.58345413208,
        "y": 3879.166916847229,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "fe6628c0.efc078"
            ]
        ]
    },
    {
        "id": "fe6628c0.efc078",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2344.0832748413086,
        "y": 3907.666979074478,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "43c4e89f.b95fd8"
            ]
        ]
    },
    {
        "id": "f2dc545e.b38c38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2387.333641052246,
        "y": 3866.666916847229,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "9aa94857.c8aec8",
                "7ff08d4d.ba9194",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "43c4e89f.b95fd8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2480.5835189819336,
        "y": 3921.16704082489,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "9aa94857.c8aec8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating CUUP-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2645.833122253418,
        "y": 3910.1669793128967,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "7ff08d4d.ba9194",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - CUUP. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2554.5833053588867,
        "y": 3875.9167947769165,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "45596140.bc547",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - CUUP. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2608.833339691162,
        "y": 4111.167041778564,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "6692d8b9.0fc108",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating CUUP-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2605.083053588867,
        "y": 4152.416797637939,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "a6680d0b.a0e2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2425.3335189819336,
        "y": 4145.166980743408,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "6692d8b9.0fc108",
                "45596140.bc547",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "625ac145.de8e8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - CUUP RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2578.0834197998047,
        "y": 4199.416736602783,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "d9bbb43b.387928",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2412.0834197998047,
        "y": 4198.416736602783,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "625ac145.de8e8"
            ]
        ]
    },
    {
        "id": "cb6e1843.d0a9b8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2231.0834197998047,
        "y": 4204.416492462158,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d9bbb43b.387928"
            ]
        ]
    },
    {
        "id": "9e305c47.68b11",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2224.8335494995117,
        "y": 4156.916858673096,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a6680d0b.a0e2"
            ]
        ]
    },
    {
        "id": "fb71fd5c.63b5a",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUUP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2018.8336334228516,
        "y": 4250.167234420776,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "9e305c47.68b11",
                "cb6e1843.d0a9b8"
            ]
        ]
    },
    {
        "id": "6de42e11.dd96f",
        "type": "block",
        "name": "Process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1044.5002212524414,
        "y": 3820.5006008148193,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "cfc674b2.d812d8",
                "979b346b.dae498",
                "853eadbb.42442"
            ]
        ]
    },
    {
        "id": "cfc674b2.d812d8",
        "type": "execute",
        "name": "read DUlist size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.DUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1297.5001602172852,
        "y": 3910.5006618499756,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "979b346b.dae498",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of DU List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.DUList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1265.5001106262207,
        "y": 3960.500725746155,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "853eadbb.42442",
        "type": "for",
        "name": "foreach DU",
        "xml": "<for index='id-du' start='0' end='`$tmp.DUList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1266.5002975463867,
        "y": 4003.500726699829,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "9f44131c.23c36"
            ]
        ]
    },
    {
        "id": "9f44131c.23c36",
        "type": "block",
        "name": "block : process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1528.500156402588,
        "y": 4109.500482559204,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ef52ddea.6189c",
                "1dbab0dc.3ad17f",
                "b62c7a89.d2b118",
                "33569532.4cbe6a"
            ]
        ]
    },
    {
        "id": "ef52ddea.6189c",
        "type": "execute",
        "name": "read DU id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.GNBDUId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].gNBDUId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1802.5,
        "y": 4288.5,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "1dbab0dc.3ad17f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"GNBDUId \"/>\n<parameter name=\"field2\" value=\"`$tmp.GNBDUId`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1775.5,
        "y": 4339.5,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "b62c7a89.d2b118",
        "type": "execute",
        "name": "read cellDU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList[' + $id-du +'].cellDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1816.5,
        "y": 4388.5,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "33569532.4cbe6a",
        "type": "for",
        "name": "for cellDUList",
        "xml": "<for index='id-celldu' start='0' end='`$tmp.cellDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1806.5,
        "y": 4432.5,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "7f4d91b5.715f3"
            ]
        ]
    },
    {
        "id": "44e21983.ec86f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2833.25,
        "y": 4486.5,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f5077232.7de1e",
                "d465322e.40e34",
                "a92feabc.139538",
                "e5109fc0.4479f",
                "e3fb37e7.f5a908",
                "2094c04d.de418",
                "af08450b.0732c8",
                "6eb15432.9d153c",
                "debddb48.0fbcd8",
                "67608066.11669",
                "2c5cd38b.62f3fc",
                "90ebd0d1.0e27a"
            ]
        ]
    },
    {
        "id": "6eb15432.9d153c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CellDU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3028.25,
        "y": 4481.5,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "af08450b.0732c8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3056.25,
        "y": 4549.5,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ef3a745d.16d0a8",
                "1c3d5ab9.025a35"
            ]
        ]
    },
    {
        "id": "ef3a745d.16d0a8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3264.25,
        "y": 4514.499755859375,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f0032a06.18f798"
            ]
        ]
    },
    {
        "id": "1c3d5ab9.025a35",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3259.2500495910645,
        "y": 4583.500324249268,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "afcc150e.81c9b8"
            ]
        ]
    },
    {
        "id": "f0032a06.18f798",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3584.25,
        "y": 4529.5,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "f5077232.7de1e",
        "type": "execute",
        "name": "read cellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3053.2501525878906,
        "y": 4637.500244140625,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "e5109fc0.4479f",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3108.250213623047,
        "y": 4702.500182151794,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "e3fb37e7.f5a908",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3081.2503967285156,
        "y": 4757.500184059143,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "2094c04d.de418",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 3061.2500915527344,
        "y": 4820.500490188599,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "d465322e.40e34",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3063.2503356933594,
        "y": 4878.500123023987,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a92feabc.139538",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.GNBDUId`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellDULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3067.250213623047,
        "y": 4924.5007400512695,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "debddb48.0fbcd8",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3122.250213623047,
        "y": 4970.750008106232,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d2d4b2ea.6153e",
                "79732e1e.48d5"
            ]
        ]
    },
    {
        "id": "79732e1e.48d5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3370.8215656280518,
        "y": 4811.750123977661,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "32b96b33.0a8ad4"
            ]
        ]
    },
    {
        "id": "d2d4b2ea.6153e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3376.964256286621,
        "y": 4867.8928298950195,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d9c9ca73.6efd58"
            ]
        ]
    },
    {
        "id": "32b96b33.0a8ad4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3547.3931732177734,
        "y": 4811.178346633911,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "5106187.8d9dfe8",
                "50cca895.47eac8",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "d9c9ca73.6efd58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3530.6785583496094,
        "y": 4867.749955177307,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "1f909fea.a105a"
            ]
        ]
    },
    {
        "id": "1f909fea.a105a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3568.107250213623,
        "y": 4933.892751693726,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "5106187.8d9dfe8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NECellDU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3734.1069869995117,
        "y": 4887.892691612244,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "50cca895.47eac8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3716.25,
        "y": 4835.75,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "67608066.11669",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2926.5,
        "y": 5294.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "7131148d.c91e4c",
                "36de886d.33aad8",
                "64f2f8ca.c47278",
                "279c9aec.39e9e6",
                "d8af5b5a.798138",
                "8ebca72.323ae58",
                "b1cc099a.d2de88",
                "cc4a732a.b0297",
                "b115c77c.8d08e8",
                "4ffe0b04.884aa4"
            ]
        ]
    },
    {
        "id": "7131148d.c91e4c",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3148.5,
        "y": 5200.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "50882b45.b5d224",
                "37d30e43.cd5022"
            ]
        ]
    },
    {
        "id": "37d30e43.cd5022",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3397.2147064208984,
        "y": 5213.036775588989,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "3738c2e4.7ebdde"
            ]
        ]
    },
    {
        "id": "3738c2e4.7ebdde",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3591.4999084472656,
        "y": 5151.179372787476,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "36de886d.33aad8",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3183.5,
        "y": 5272.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "64f2f8ca.c47278",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3148.5,
        "y": 5324.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "279c9aec.39e9e6",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-du-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3183.5,
        "y": 5399.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "2f7546d9.06953a",
                "cd43a58b.87b7d8"
            ]
        ]
    },
    {
        "id": "2f7546d9.06953a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3430.5,
        "y": 5372.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a81fc094.aa861"
            ]
        ]
    },
    {
        "id": "cd43a58b.87b7d8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3434.5,
        "y": 5451.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "4a537810.02e728"
            ]
        ]
    },
    {
        "id": "a81fc094.aa861",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3598.500473022461,
        "y": 5383.607353210449,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "1d3825cc.b7c66a",
                "50cde66b.d295f8",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "50cde66b.d295f8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3754.5,
        "y": 5286.75,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "1d3825cc.b7c66a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3759.4998779296875,
        "y": 5381.750061035156,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "4a537810.02e728",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3598.4998779296875,
        "y": 5452.7501220703125,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "9d5f6394.cacc8",
                "e8d91a7f.c1fb68"
            ]
        ]
    },
    {
        "id": "9d5f6394.cacc8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3755.643051147461,
        "y": 5424.89278793335,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "e8d91a7f.c1fb68",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3763.5000915527344,
        "y": 5462.1787109375,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "d8af5b5a.798138",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioDUList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3121.0714111328125,
        "y": 5532.035398483276,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "8ebca72.323ae58",
        "type": "block",
        "name": "rrmPolicyDedicatedRatio",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3183.214096546173,
        "y": 5079.035627365112,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "1caba807.ca2ee8",
                "6025ca93.72ca44",
                "1f8d09a0.745416",
                "c11c30.4ee7c3d",
                "7a0698cb.1aff18",
                "7e5fda09.b26744",
                "682b66d9.7c20e8",
                "6f6de2f2.c33c1c",
                "3d68ec75.1f6ed4",
                "56b1a60a.125158",
                "7ffd0028.c9025"
            ]
        ]
    },
    {
        "id": "1f8d09a0.745416",
        "type": "set",
        "name": "Calculate RRM Parms1",
        "xml": "<set>\n<parameter name='tmp.uLThptPerSlice' value='`$payloadJson.input.sliceProfile.uLThptPerSlice`' />\n",
        "comments": "",
        "x": 4151.489807128906,
        "y": 4865.072752952576,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "c11c30.4ee7c3d",
        "type": "set",
        "name": "Calculate RRM Parms2",
        "xml": "<set>\n<parameter name='tmp.dLThptPerSlice' value='`$payloadJson.input.sliceProfile.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4160.031066894531,
        "y": 4910.092772424221,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "7a0698cb.1aff18",
        "type": "set",
        "name": "Calculate RRM Parms3",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConns' value='`$payloadJson.input.sliceProfile.maxNumberOfConns`' />",
        "comments": "",
        "x": 4150.031188964844,
        "y": 4965.0926503539085,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "7e5fda09.b26744",
        "type": "set",
        "name": "Calculate RRM Parms4",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity1' value='`$tmp.uLThptPerSlice + $tmp.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4150.031066894531,
        "y": 5016.092650413513,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "682b66d9.7c20e8",
        "type": "set",
        "name": "Calculate RRM Parms5",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity' value='`$tmp.nearRTRIC.trafficCapacity1 / 2`' />",
        "comments": "",
        "x": 4138.031188964844,
        "y": 5076.092772424221,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "6f6de2f2.c33c1c",
        "type": "set",
        "name": "Calculate RRM Parms6",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacityBPS' value='`$tmp.nearRTRIC.trafficCapacity * 1000`' />",
        "comments": "",
        "x": 4176.031066894531,
        "y": 5126.092772424221,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "3d68ec75.1f6ed4",
        "type": "set",
        "name": "Calculate RRM Parms7",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.totalPRBForSNSSAI' value='`$tmp.nearRTRIC.trafficCapacityBPS / 1008000`' />\n",
        "comments": "",
        "x": 4163.031005859375,
        "y": 5196.093138694763,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "56b1a60a.125158",
        "type": "set",
        "name": "calculation8",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.PRBPerImpactedCell' value='`$tmp.nrcelldu.totalPRBForSNSSAI / $tmp.cellDUList_length`' />\n",
        "comments": "",
        "x": 4134.031005859375,
        "y": 5260.092162132263,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "7ffd0028.c9025",
        "type": "set",
        "name": "calculation9",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU1' value='`$tmp.nrcelldu.PRBPerImpactedCell * 100`' />\n",
        "comments": "",
        "x": 4122.031555175781,
        "y": 5311.092040061951,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "6025ca93.72ca44",
        "type": "set",
        "name": "calculation10",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU' value='`$tmp.rRMPolicyDedicatedRatio.CellDU1 / $prop.nrcelldu.TotalPRBsPerCell`' />\n",
        "comments": "",
        "x": 4097.4898681640625,
        "y": 5377.072508811951,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "1caba807.ca2ee8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio for CellDU \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>\n<parameter name=\"field3\" value=\"tmp.nearRTRIC.trafficCapacity1 \"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.trafficCapacity1`\"/>\n<parameter name=\"field5\" value=\"tmp.nearRTRIC.trafficCapacity \"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.trafficCapacity`\"/>\n<parameter name=\"field7\" value=\"tmp.nearRTRIC.trafficCapacityBPS\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRIC.trafficCapacityBPS`\"/>\n<parameter name=\"field9\" value=\"tmp.nrcelldu.totalPRBForSNSSAI \"/>\n<parameter name=\"field10\" value=\"`$tmp.nrcelldu.totalPRBForSNSSAI`\"/>\n<parameter name=\"field11\" value=\"tmp.nrcelldu.PRBPerImpactedCell \"/>\n<parameter name=\"field12\" value=\"`$tmp.nrcelldu.PRBPerImpactedCell`\"/>\n<parameter name=\"field13\" value=\"tmp.rRMPolicyDedicatedRatio.CellDU1 \"/>\n<parameter name=\"field14\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU1`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3923.4997940063477,
        "y": 5389.193815231323,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "b1cc099a.d2de88",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='iddu-rrm' start='0' end='`$tmp.rrmPolicyRatioDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3143.75,
        "y": 5578.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "cb350ecc.dabe8"
            ]
        ]
    },
    {
        "id": "cb350ecc.dabe8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3364.75,
        "y": 5598.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d4d4b15c.8641d",
                "b270ec39.8bf7f",
                "c76301b1.3e00c",
                "221bd729.31ff48",
                "4416db8.9e54424",
                "8c22b1e3.6e53b",
                "ca9403ef.7c439",
                "3f4b18f4.bbc808",
                "303a9f8c.9bc24",
                "fe28d7e2.b48578"
            ]
        ]
    },
    {
        "id": "d4d4b15c.8641d",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellDU_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_cellDU-old + $tmp.rRMPolicyDedicatedRatio.CellDU`\" />",
        "comments": "",
        "x": 3691.178512573242,
        "y": 5538.607490062714,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "c76301b1.3e00c",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3636.321762084961,
        "y": 5582.464266777039,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "753eaa04.0d5c64",
                "af2eb1a1.5bcc7"
            ]
        ]
    },
    {
        "id": "753eaa04.0d5c64",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3832.035758972168,
        "y": 5573.749752998352,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "aaaee28c.49d48"
            ]
        ]
    },
    {
        "id": "aaaee28c.49d48",
        "type": "execute",
        "name": "patchRRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4149.750217437744,
        "y": 5543.036689758301,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "4416db8.9e54424",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`$tmp.RRMPolicyMembersDU_Length+1`\" />",
        "comments": "",
        "x": 3621.321533203125,
        "y": 5750.3213901519775,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "b270ec39.8bf7f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioid - \"/>\n<parameter name=\"field2\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyMemberid- \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field5\" value=\"Updated RRMPolicyRatio for CellDU is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.rrmPolicyDedicatedRatio_CellDU_updated`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3596.893051147461,
        "y": 5790.036268234253,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "221bd729.31ff48",
        "type": "execute",
        "name": "patch NRCellDU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3681.0357971191406,
        "y": 5826.321493148804,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ef07b3e.271fa5",
                "f4fff9b3.63df98"
            ]
        ]
    },
    {
        "id": "ef07b3e.271fa5",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3958.75,
        "y": 5789.749771118164,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f30a848.a6f3978"
            ]
        ]
    },
    {
        "id": "f30a848.a6f3978",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4149.75,
        "y": 5789.749771118164,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "77783aed.fa5aa4"
            ]
        ]
    },
    {
        "id": "77783aed.fa5aa4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4334.749755859375,
        "y": 5790.750015258789,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "5e9e764e.4f1338",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4416.75,
        "y": 5833.749771118164,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "30b77633.71a56a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating RRMPolicyRatio for NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4421.7498779296875,
        "y": 5928.74983215332,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "1de4f6e8.7d9e09",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4154.2502784729,
        "y": 5831.500413417816,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "30b77633.71a56a",
                "5e9e764e.4f1338",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "f4fff9b3.63df98",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3967.7500915527344,
        "y": 5837.750413894653,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "1de4f6e8.7d9e09"
            ]
        ]
    },
    {
        "id": "2c5cd38b.62f3fc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2879.2500915527344,
        "y": 5882.75009727478,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "6ec5836d.5ec48c",
                "8ed5b07e.77931",
                "4e2b0f1e.b37e9",
                "72141d66.6370b4",
                "92b3075d.856338",
                "ebe8ed9f.8997a",
                "29d9774b.8f3d88",
                "4950ccfb.7f5304",
                "76a99db7.945c84"
            ]
        ]
    },
    {
        "id": "6ec5836d.5ec48c",
        "type": "execute",
        "name": "Update cellDU for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBDU`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBDU.json\n'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3342.25,
        "y": 5890.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "352c40f0.35367",
                "3ad8cb1.8518034"
            ]
        ]
    },
    {
        "id": "352c40f0.35367",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3629.25,
        "y": 5861.750244140625,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f3743569.6fdd58"
            ]
        ]
    },
    {
        "id": "3ad8cb1.8518034",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3629.500213623047,
        "y": 5900.250413894653,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "446832e6.8f63bc"
            ]
        ]
    },
    {
        "id": "446832e6.8f63bc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3803.000026702881,
        "y": 5921.250171661377,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "5233981b.9501f8"
            ]
        ]
    },
    {
        "id": "f3743569.6fdd58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3822.5000915527344,
        "y": 5884.000415802002,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f9b6dc0f.688f8",
                "ac341836.a453f8",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "ac341836.a453f8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4025.999912261963,
        "y": 5887.000292137265,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "5233981b.9501f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4015.750274658203,
        "y": 5958.500537872314,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "f9b6dc0f.688f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4040.999725341797,
        "y": 5926.250171661377,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "4efa09cb.af3638",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4040.249786376953,
        "y": 6187.250538825989,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "94f46847.dcd7f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4060.249912261963,
        "y": 6228.500539779663,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "f570545f.074188",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3850.500274658203,
        "y": 6220.000173568726,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "94f46847.dcd7f8",
                "4efa09cb.af3638",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "eecd011e.a34ef",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3664.500217437744,
        "y": 6314.25009059906,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f570545f.074188"
            ]
        ]
    },
    {
        "id": "725d04d4.4e5bdc",
        "type": "execute",
        "name": "Update RRMPolicy for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-DU.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3442.250701904297,
        "y": 6335.74996805191,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "eecd011e.a34ef",
                "e6239cf5.818b3"
            ]
        ]
    },
    {
        "id": "e6239cf5.818b3",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3674.250156402588,
        "y": 6356.749479293823,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "cecca2b5.96148"
            ]
        ]
    },
    {
        "id": "cecca2b5.96148",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3843.500213623047,
        "y": 6280.750296592712,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "79d598a2.fb8fa8"
            ]
        ]
    },
    {
        "id": "79d598a2.fb8fa8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellDU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4008.250274658203,
        "y": 6285.500052452087,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "5ce931d8.83b77",
        "type": "block",
        "name": "block : SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4501.234375,
        "y": 2782.7500026226044,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "2247000f.d530e",
                "3d33a487.fe205c",
                "aa18816b.2e3c2",
                "616adbcb.acfbc4",
                "736e2c41.e3fa04"
            ]
        ]
    },
    {
        "id": "2247000f.d530e",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.so.callbackURL\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiateRANSlice-input.common-header.request-id`\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiateRANSlice-input.action`\"/>\n",
        "comments": "",
        "x": 5154.2354736328125,
        "y": 2606.6497535705566,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "3d33a487.fe205c",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$tmp.so.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />",
        "comments": "",
        "outputs": 1,
        "x": 5138.234237670898,
        "y": 2671.7503383159637,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "aa18816b.2e3c2",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$tmp.so.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-modify-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />\n<parameter name=\"convertResponse\" value=\"true\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.restapi.so.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.restapi.so.password`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 5053.23424911499,
        "y": 2768.7502162456512,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d9756a9c.e29428",
                "77f80c09.b3c4e4"
            ]
        ]
    },
    {
        "id": "d9756a9c.e29428",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5279.234257698059,
        "y": 2745.750185251236,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "cb20b966.f37f68"
            ]
        ]
    },
    {
        "id": "77f80c09.b3c4e4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5269.234111785889,
        "y": 2853.750124692917,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f87d943.0649368"
            ]
        ]
    },
    {
        "id": "f87d943.0649368",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5419.233898162842,
        "y": 2872.750185728073,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "8e6ddf8f.810f8"
            ]
        ]
    },
    {
        "id": "cb20b966.f37f68",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5430.234127044678,
        "y": 2740.7503073215485,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "82cafc8d.59329"
            ]
        ]
    },
    {
        "id": "82cafc8d.59329",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 5596.233806610107,
        "y": 2743.750124692917,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "8e6ddf8f.810f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 5583.233913421631,
        "y": 2878.750124692917,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "af8420d.b3d6ae",
        "type": "block",
        "name": "SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 583.234375,
        "y": 4464.750002622604,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "32c6c7c5.88db48",
                "df0dac6f.7138e",
                "da633cbe.1363a",
                "28f9e42.79b921c",
                "5ae16c1.eea2c94",
                "c627552.6535aa8"
            ]
        ]
    },
    {
        "id": "da633cbe.1363a",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiate-r-a-n-slice-input.common-header.request-id `\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiate-r-a-n-slice-input.action`\"/>\n",
        "comments": "",
        "x": 860.2355804443359,
        "y": 4412.64953994751,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "32c6c7c5.88db48",
        "type": "record",
        "name": "record SO reply parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$payloadJson.input.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />\n<parameter name='field7' value=\"`$prop.restapi.so.user`\" />\n<parameter name='field8' value=\"`$prop.restapi.so.password`\" />",
        "comments": "",
        "outputs": 1,
        "x": 858.2344131469727,
        "y": 4504.75018787384,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "df0dac6f.7138e",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />\n<parameter name=\"restapiUser\" value=\"`$prop.restapi.so.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.restapi.so.password`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 729.2344512939453,
        "y": 4585.749890089035,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "806ec4db.cb4478",
                "41322c3d.61a404"
            ]
        ]
    },
    {
        "id": "806ec4db.cb4478",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 894.2344512939453,
        "y": 4565.749889135361,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "7e065ae1.ba2ad4"
            ]
        ]
    },
    {
        "id": "41322c3d.61a404",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 886.2343444824219,
        "y": 4638.749839544296,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "4fa8691e.9a1a18"
            ]
        ]
    },
    {
        "id": "4fa8691e.9a1a18",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1032.234188079834,
        "y": 4643.749948263168,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "df62ad82.59771"
            ]
        ]
    },
    {
        "id": "7e065ae1.ba2ad4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1043.2343521118164,
        "y": 4561.750024557114,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "607894a4.4d068c",
                "fd530684.956d28"
            ]
        ]
    },
    {
        "id": "607894a4.4d068c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 1190.2339706420898,
        "y": 4572.749766111374,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "df62ad82.59771",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1193.2341079711914,
        "y": 4649.749840497971,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "fd530684.956d28",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error sending SO response. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1177.7445793151855,
        "y": 4476.739257574081,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "28f9e42.79b921c",
        "type": "execute",
        "name": "generate URL for SO Callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.so.callbackURL`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.so.callbackURL\"/>\n    <parameter name=\"target\" value=\"{requestId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.requestID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 880.5740203857422,
        "y": 4458.735600471497,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "d6529a53.46a858",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2284.75,
        "y": 1779.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f115f64b.a01a08"
            ]
        ]
    },
    {
        "id": "f115f64b.a01a08",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2477.739658355713,
        "y": 1779.7501220703125,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "d3d345e9.54a188",
                "93011563.fc6e08"
            ]
        ]
    },
    {
        "id": "d3d345e9.54a188",
        "type": "execute",
        "name": "generate fetchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2784.739845275879,
        "y": 1746.75022315979,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "93011563.fc6e08",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2728.740245819092,
        "y": 1799.7504167556763,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "62c4ee44.ca781",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2712.25,
        "y": 1163.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "8a454647.15b438",
                "cbce0074.4b395"
            ]
        ]
    },
    {
        "id": "cbce0074.4b395",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2963.250431060791,
        "y": 1186.75013256073,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "8a454647.15b438",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3019.250030517578,
        "y": 1133.7499389648438,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "4e08041f.b8bd8c",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3200.806022644043,
        "y": 2169.638886451721,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "274a25c6.e6c12a",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3259.0279998779297,
        "y": 2126.638976097107,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "7c1eade.003d654",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2975.3607330322266,
        "y": 2128.527322769165,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "274a25c6.e6c12a",
                "4e08041f.b8bd8c"
            ]
        ]
    },
    {
        "id": "c33d8fc7.a963a",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2811.2601470947266,
        "y": 2128.527945995331,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "7c1eade.003d654"
            ]
        ]
    },
    {
        "id": "9c7d0cb1.659ab",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2251.75,
        "y": 2816.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "76dd6a53.c4afd4",
        "type": "execute",
        "name": "generate patchPLMNInfoList.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2307.749599456787,
        "y": 2763.7498064041138,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "ee6e501d.a4065",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1989.082950592041,
        "y": 2759.305585861206,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "76dd6a53.c4afd4",
                "9c7d0cb1.659ab"
            ]
        ]
    },
    {
        "id": "f8bdd708.c8be58",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2031.75,
        "y": 3160.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "37d82242.df83de",
                "227ebbdb.13d394"
            ]
        ]
    },
    {
        "id": "37d82242.df83de",
        "type": "execute",
        "name": "fetch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2333.7499351501465,
        "y": 3120.7500610351562,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "227ebbdb.13d394",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2277.7503356933594,
        "y": 3173.7502546310425,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "e0a753ea.22da",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1804.25,
        "y": 3169.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f8bdd708.c8be58"
            ]
        ]
    },
    {
        "id": "161693aa.881efc",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2349.0279502868652,
        "y": 3593.5277280807495,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a9a074be.79fec8"
            ]
        ]
    },
    {
        "id": "a9a074be.79fec8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2564.305606842041,
        "y": 3571.194456100464,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "e0f89abe.bb4c18",
                "c82c5103.210ad"
            ]
        ]
    },
    {
        "id": "e0f89abe.bb4c18",
        "type": "execute",
        "name": "patch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2870.7499351501465,
        "y": 3566.7500610351562,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "c82c5103.210ad",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2814.7503356933594,
        "y": 3619.7502546310425,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "afcc150e.81c9b8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3454.25,
        "y": 4598.75,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "809411cf.68382",
                "729f6ebc.1c5c7"
            ]
        ]
    },
    {
        "id": "809411cf.68382",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3761.250030517578,
        "y": 4568.749938964844,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "729f6ebc.1c5c7",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3705.250431060791,
        "y": 4621.75013256073,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "50882b45.b5d224",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3392.4287185668945,
        "y": 5267.464422225952,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a9c3f917.ff97e8"
            ]
        ]
    },
    {
        "id": "a9c3f917.ff97e8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3523.714797973633,
        "y": 5294.285120010376,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "c851e662.6c3f88",
                "b7fa15ad.187a28"
            ]
        ]
    },
    {
        "id": "c851e662.6c3f88",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3765.0000495910645,
        "y": 5186.9995975494385,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "b7fa15ad.187a28",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3708.0005378723145,
        "y": 5247.999963760376,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "af2eb1a1.5bcc7",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3826.7144165039062,
        "y": 5613.8931674957275,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "769a6add.26eab4"
            ]
        ]
    },
    {
        "id": "769a6add.26eab4",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3985.1436729431152,
        "y": 5625.000014305115,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "67986b7c.f22114",
                "15761409.d2c44c"
            ]
        ]
    },
    {
        "id": "67986b7c.f22114",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4234.999771118164,
        "y": 5587.714666366577,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "15761409.d2c44c",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4173.714820861816,
        "y": 5637.2857456207275,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "139944c3.da6c3b",
        "type": "comment",
        "name": "instantiateRANSlice-ModifyAllocate",
        "info": "",
        "comments": "",
        "x": 721.4999847412109,
        "y": 50.00000286102295,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "4524ca88.520da4",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"SUCCESSFUL Execution\" />",
        "comments": "",
        "x": 231.77081298828125,
        "y": 1466.1041259765625,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "da9a6518.74e5b8",
        "type": "execute",
        "name": "set  sNSSAI & PLMN id",
        "xml": "<set>\n\n<parameter name='tmp.payload.sNSSAI' value='`$payloadJson.input.sliceProfile.snssaiList[0]`'/>\n<parameter name='tmp.payload.pLMNId' value='`$payloadJson.input.sliceProfile.pLMNIdList[0]`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 665.4999694824219,
        "y": 194.0000123977661,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a2c6e87b.4d4928",
        "type": "set",
        "name": "Calculate maxNumberOfConnsPercellCU * 100",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellCU1' value='`$tmp.maxNumberOfConnsPercellCU * 100`' />\n",
        "comments": "",
        "x": 2148.250078201294,
        "y": 1655.2500162124634,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "c8227d61.35758",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio_SliceProfile' value='`$tmp.rRMPolicyDedicatedRatio.CellCU1 / $prop.nrcellcu.maxNumberOfConnsPerCell`' />",
        "comments": "",
        "x": 2100.250078201294,
        "y": 1693.2500162124634,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "df4c3d6b.71ee2",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioList_length' value='`$get-rrmpolicyratio-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 2134.4999866485596,
        "y": 1982.2501420974731,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "f5ecffc5.0f7b9",
        "type": "execute",
        "name": "read rrmPolicyDedicatedRatio_cellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatiocellCU_old' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2600.4999866485596,
        "y": 2055.000084877014,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "e06ed195.bb9dd",
        "type": "block",
        "name": "Get Cells List in TA",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 671.7499618530273,
        "y": 492.00020933151245,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "6640e6e8.1f43a8",
                "4c18f395.20f6dc",
                "7bde48a3.90b388"
            ]
        ]
    },
    {
        "id": "6640e6e8.1f43a8",
        "type": "execute",
        "name": "generate getListOfCells URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getListOfCells`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getListOfCells.url\"/>\n    <parameter name=\"target\" value=\"{trackingArea}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.trackingArea`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 937.2501754760742,
        "y": 417.50010108947754,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "4c18f395.20f6dc",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for configDB Get getListOfCells for tracking area\"/>\n<parameter name='field2' value=\"`$prop.configdb.url + $tmp.configdb.getListOfCells.url`\" />\n<parameter name='field3' value=\"`$tmp.payload.trackingArea`\" />",
        "comments": "",
        "outputs": 1,
        "x": 937.2501983642578,
        "y": 459.2503752708435,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "7bde48a3.90b388",
        "type": "execute",
        "name": "Get ListOfCells for TrackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getListOfCells.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getListofCells-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 927.7502059936523,
        "y": 535.0001788139343,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "3c61468.fda32ba",
                "826f2ff5.6c2f3"
            ]
        ]
    },
    {
        "id": "3c61468.fda32ba",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1166.749984741211,
        "y": 475.00018429756165,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "dd217353.07446"
            ]
        ]
    },
    {
        "id": "826f2ff5.6c2f3",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1156.4998016357422,
        "y": 536.000168800354,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "1b40bf36.b847f1"
            ]
        ]
    },
    {
        "id": "1b40bf36.b847f1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1321.7495498657227,
        "y": 519.0002336502075,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f50d14d8.5083f8",
                "631dafc6.b9cac",
                "751e8f37.3188f"
            ]
        ]
    },
    {
        "id": "f50d14d8.5083f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained List of Cells from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getListofCells-configdb-response._length`\"/>\n<parameter name=\"field3\" value=\"List of Cells in the Tracking Area Relevant for RAN Slice Instantiation \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1512.7495651245117,
        "y": 479.00018644332886,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "751e8f37.3188f",
        "type": "for",
        "name": "For list of cells",
        "xml": "<for index='idx' start='0' end='`$getListofCells-configdb-response._length `' >",
        "comments": "",
        "outputs": 1,
        "x": 1513.770679473877,
        "y": 534.6663851737976,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "dde88397.f9687",
                "a9bbf82e.f35a68"
            ]
        ]
    },
    {
        "id": "631dafc6.b9cac",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1492.5279541015625,
        "y": 573.0001406669617,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "dde88397.f9687",
        "type": "execute",
        "name": "Cells in TrackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.trackingarea.cell' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $idx + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1727.7705841064453,
        "y": 494.33290433883667,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a9bbf82e.f35a68",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.trackingarea.cell`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1683.7706184387207,
        "y": 531.6662631034851,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "dd217353.07446",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1327.7498626708984,
        "y": 445.00010895729065,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "cfb227e0.e92678",
                "e2cf272c.c85d28",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "e2cf272c.c85d28",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1564.7500762939453,
        "y": 403.11123847961426,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "cfb227e0.e92678",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1544.7497634887695,
        "y": 445.00011825561523,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "6096b89c.76c6f8",
        "type": "for",
        "name": "foreach TACell",
        "xml": "<for index='id-ta' start='0' end='`$getListofCells-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2022.833381652832,
        "y": 931.3612127304077,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "c8204962.b9b558"
            ]
        ]
    },
    {
        "id": "3e25a122.c4adfe",
        "type": "switchNode",
        "name": "is cellCU applicable for NSSAI",
        "xml": "<switch test='`$tmp.cellCULocalId == $tmp.cellCU2`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2271.75,
        "y": 866.5,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "47453e34.a4cc7"
            ]
        ]
    },
    {
        "id": "47453e34.a4cc7",
        "type": "outcome",
        "name": "Applicable",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2212.75,
        "y": 939.5,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "49d2b0dd.f470a"
            ]
        ]
    },
    {
        "id": "c8204962.b9b558",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2064.75,
        "y": 766.5,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "3e25a122.c4adfe",
                "49662f8c.bcd88",
                "684301d2.a20c1"
            ]
        ]
    },
    {
        "id": "49662f8c.bcd88",
        "type": "execute",
        "name": "read Cell from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].cellCUList['+ $idcu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2390.75,
        "y": 709.5,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "684301d2.a20c1",
        "type": "execute",
        "name": "read cellCU from getListofCells-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCU2' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $id-ta + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2400.75,
        "y": 774.5,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "ef21539c.19b94",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio_id is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyMember_id - \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyRatio update URL is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2545.944496154785,
        "y": 2299.61114692688,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a721c040.e0814",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2830.666549682617,
        "y": 2165.444314956665,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "727f8e75.8bf37",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2825.222007751465,
        "y": 2195.444555282593,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "8db65cb2.433a",
        "type": "execute",
        "name": "read rrmPolicyMemberListLength",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyMembers' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2835.944625854492,
        "y": 2228.777898788452,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "3ccfe786.cfc518",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.cellLocalId' value='`$tmp.cellCULocalId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n<parameter name='tmp.gNBCUCPList.gNBCUName' value='`$tmp.CUCPName`'/>\n<parameter name='tmp.gNBCUCPList.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.gNBCUCPList.nFType' value='RRC Connected Users'/>\n    ",
        "comments": "",
        "x": 1923.4723320007324,
        "y": 2230.4444856643677,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "d1830cc2.245b7",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"cellLocalId\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellLocalId`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field6\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"gNBCUName\"/>\n<parameter name=\"field8\" value=\"`$tmp.gNBCUCPList.gNBCUName`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBCUCPList.gNBId`\"/>\n<parameter name=\"field11\" value=\"nFType\"/>\n<parameter name=\"field12\" value=\"`$tmp.gNBCUCPList.nFType`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1909.9721794128418,
        "y": 2272.666624069214,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "91ed6cf9.b1f4e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Config DB update\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1893.6875,
        "y": 2187.25,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "8ae4e7a8.66a468",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellCU' value='`$tmp.rrmPolicyDedicatedRatio_CellCU_new`'/>\n<parameter name='tmp.resourceID' value='`$tmp.cellCULocalId`'/>",
        "comments": "",
        "x": 2110.312759399414,
        "y": 2614.063021659851,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "75cd172c.0f47a8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellCU`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.payload.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2039.5627059936523,
        "y": 2645.035129547119,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "d036625e.6fa45",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"RRC Connected Users\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2007.7222137451172,
        "y": 2349.055627822876,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "448a23c3.9d7ecc",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfo-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 2010.1109161376953,
        "y": 2453.222101211548,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "25f5099c.8fa316",
                "3c1b796b.5b30c6"
            ]
        ]
    },
    {
        "id": "aca59270.868db",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1963.2776947021484,
        "y": 2378.2222414016724,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "25f5099c.8fa316",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2313.833251953125,
        "y": 2504.055419921875,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b25dfb57.b4b0b8"
            ]
        ]
    },
    {
        "id": "3c1b796b.5b30c6",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2317.9443130493164,
        "y": 2549.2777228355408,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "c40348b.2bd41b8"
            ]
        ]
    },
    {
        "id": "b25dfb57.b4b0b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2465.833543777466,
        "y": 2502.0553998947144,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "41ef315c.d4e56",
                "5db9d7a8.a06b48"
            ]
        ]
    },
    {
        "id": "5db9d7a8.a06b48",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2631.833299636841,
        "y": 2468.0553998947144,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "41ef315c.d4e56",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2660.166763305664,
        "y": 2500.833417892456,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "1b14460f.6a494a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2635.7222442626953,
        "y": 2532.0557708740234,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "52485c12.13c414",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2733.9444122314453,
        "y": 2558.3888664245605,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "c40348b.2bd41b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2472.4999084472656,
        "y": 2552.9441986083984,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "1b14460f.6a494a",
                "52485c12.13c414"
            ]
        ]
    },
    {
        "id": "5ec3aa02.391784",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1947.7221908569336,
        "y": 2413.3887045383453,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "7db7d25e.eb132c",
        "type": "set",
        "name": "Calculate maxNumberOfDRBsPerNSSAI",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfDRBsPerNSSAI' value='`$tmp.payload.maxNumberofConns*4`' />",
        "comments": "",
        "x": 1695.222183227539,
        "y": 2972.666868209839,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "a029e507.1af008",
        "type": "set",
        "name": "Calculate maxNumberOfDRBsPerCUUP",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfDRBsPerCUUP' value='`$tmp.maxNumberOfDRBsPerNSSAI /$tmp.CUUPList_length`' />",
        "comments": "",
        "x": 1704.1110382080078,
        "y": 3007.110860824585,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "1379639e.bafadc",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio-CUUP' value='`$tmp.rRMPolicyDedicatedRatio1/$prop.cuupfunction.maxNumberOfDRBsPerCUUP`' />",
        "comments": "",
        "x": 1655.2221755981445,
        "y": 3078.2222595214844,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "86e8886b.e9c628",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 1641.611083984375,
        "y": 2823.499755859375,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "d905da99.4ff128",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1650.5000762939453,
        "y": 2859.722234725952,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "56fea612.d0b798",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch CUUP NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n<parameter name=\"field4\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1653.3890838623047,
        "y": 2895.7222290039062,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "69da97cc.d97eb8",
        "type": "execute",
        "name": "read existing rrmPolicyDedicatedRatio ",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatio_CUUP' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2177.4442749023438,
        "y": 3477.9442176818848,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "6fb99ea1.cba84",
        "type": "execute",
        "name": "read rrmPolicyMemberListLength",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyMembers-CUUP' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2178.0000762939453,
        "y": 3677.9441680908203,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "1beb410.b9bddbf",
        "type": "execute",
        "name": "prepare idGNBCUUPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2181.055419921875,
        "y": 3607.9443359375,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "babeecc.4e3ad1",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioList_CUUP_length' value='`$get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 1638.4999542236328,
        "y": 3388.9444999694824,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "34b9c13.ba3c13e",
        "type": "execute",
        "name": "read RRMPolicyRatio_id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+'].id'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2160.2222061157227,
        "y": 3644.6107501983643,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "e0e65fd0.2b6c9",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Config DB update\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1827.0625,
        "y": 3724.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "d1229865.4d31f8",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.gNBCUUPList.gNBCUUPId' value='`$tmp.idGNBCUUPFunction`'/>\n<parameter name='tmp.gNBCUUPList.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n    ",
        "comments": "",
        "x": 1856.8473320007324,
        "y": 3767.9444856643677,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "f88ad792.a38708",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"sNSSAI\"/>\n<parameter name=\"field2\" value=\"`$payloadJson.input.sliceProfile.sNSSAI`\"/>\n<parameter name=\"field3\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field4\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field5\" value=\"gNBCUUPId\"/>\n<parameter name=\"field6\" value=\"`$tmp.gNBCUUPList.gNBCUUPId`\"/>\n<parameter name=\"field7\" value=\"pLMNId\"/>\n<parameter name=\"field8\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBCUUPList.gNBId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1843.3471794128418,
        "y": 3810.166624069214,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "339be435.33e26c",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"DRB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1923.1388397216797,
        "y": 3918.9514331817627,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "23fd15d2.b48aca",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1875.360939025879,
        "y": 3962.5623893737793,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "8ad1032.8f26c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1838.694480895996,
        "y": 4000.0623989105225,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "4e9b0acc.4799f4",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfo-cuup-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 1902.1944427490234,
        "y": 4029.7846632003784,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "df044a91.413ae8",
                "b598582.9d371a8"
            ]
        ]
    },
    {
        "id": "f381d76b.7c5b58",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CUUP' value='`$tmp.rrmPolicyDedicatedRatio_CUUP_updated`'/>\n<parameter name='tmp.resourceID' value='`$tmp.idGNBCUUPFunction`'/>",
        "comments": "",
        "x": 1965.3963203430176,
        "y": 4175.291501998901,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "6415c9b2.ba7f78",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CUUP`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1916.4236907958984,
        "y": 4210.041502952576,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "df044a91.413ae8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2225.3611946105957,
        "y": 3988.8123054504395,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "420965f2.ef6d6c"
            ]
        ]
    },
    {
        "id": "420965f2.ef6d6c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2373.61141204834,
        "y": 3996.812488555908,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b13d442b.0110f8",
                "e66d54f6.d9fca8"
            ]
        ]
    },
    {
        "id": "e66d54f6.d9fca8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2560.8612308502197,
        "y": 3976.56254863739,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "b13d442b.0110f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2579.1946334838867,
        "y": 4019.340564727783,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "aef557f3.9be3f8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2642.9722213745117,
        "y": 4083.1458024978638,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "65e1b8f4.ed6808",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2584.750087738037,
        "y": 4049.3127937316895,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "ae6c10cb.42c8a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2389.027671813965,
        "y": 4077.7014665603638,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "65e1b8f4.ed6808",
                "aef557f3.9be3f8"
            ]
        ]
    },
    {
        "id": "b598582.9d371a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2218.9168090820312,
        "y": 4060.284743309021,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ae6c10cb.42c8a"
            ]
        ]
    },
    {
        "id": "7f4d91b5.715f3",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1995.4998168945312,
        "y": 4432.944145202637,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "7669ca05.855e74"
            ]
        ]
    },
    {
        "id": "7669ca05.855e74",
        "type": "for",
        "name": "foreach TACell",
        "xml": "<for index='id-ta' start='0' end='`$getListofCells-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2181.47225189209,
        "y": 4432.889133453369,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "e0981bd3.97f1b8"
            ]
        ]
    },
    {
        "id": "e0981bd3.97f1b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2382.277557373047,
        "y": 4434.694358825684,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "9a34dae9.059d88",
                "e9235cff.bc697",
                "758181e.bf5f88"
            ]
        ]
    },
    {
        "id": "e9235cff.bc697",
        "type": "execute",
        "name": "read Cell from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2663.833282470703,
        "y": 4261.0275675058365,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "758181e.bf5f88",
        "type": "execute",
        "name": "read cellCU from getListofCells-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCU2' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $id-ta + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2667.1666107177734,
        "y": 4302.694236755371,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "9a34dae9.059d88",
        "type": "switchNode",
        "name": "is cellCU applicable for NSSAI",
        "xml": "<switch test='`$tmp.cellCULocalId == $tmp.cellCU2`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2627.0553665161133,
        "y": 4345.805636242032,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "c340bcbc.9520f"
            ]
        ]
    },
    {
        "id": "c340bcbc.9520f",
        "type": "outcome",
        "name": "Applicable",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2864.722137451172,
        "y": 4349.916248321533,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "44e21983.ec86f8"
            ]
        ]
    },
    {
        "id": "cc4a732a.b0297",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated RRMPolicyRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3160.142822265625,
        "y": 5130.64306640625,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "b115c77c.8d08e8",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioDUList_length' value='`$get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 3174.428810119629,
        "y": 5474.57123374939,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "8c22b1e3.6e53b",
        "type": "execute",
        "name": "Set existing RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatio_cellDU-old' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n\t\n\t",
        "comments": "",
        "outputs": 1,
        "x": 3681.9288177490234,
        "y": 5499.2141456604,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "ca9403ef.7c439",
        "type": "execute",
        "name": "Read  RRMPolicyRatioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+'].id'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3645.143264770508,
        "y": 5622.785711288452,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "3f4b18f4.bbc808",
        "type": "execute",
        "name": "Read  RRMPolicyMembers Length",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyMembersDU_Length' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3650.857208251953,
        "y": 5715.285484313965,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "303a9f8c.9bc24",
        "type": "execute",
        "name": "set gNBDUId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3817.642822265625,
        "y": 5654.9287109375,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "fe28d7e2.b48578",
        "type": "execute",
        "name": "set NRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3810.5,
        "y": 5686.35693359375,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "4ffe0b04.884aa4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"idNRCellDU\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellDULocalId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3141.25,
        "y": 5363,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "8ed5b07e.77931",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.cellLocalId' value='`$tmp.cellDULocalId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n<parameter name='tmp.dLThptPerSlice' value='`$tmp.payload.dLThptPerSlice`'/>\n<parameter name='tmp.uLThptPerSlice' value='`$tmp.payload.uLThptPerSlice`'/>\n<parameter name='tmp.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.gNBDUList.gNBDUId' value='`$tmp.GNBDUId`'/>\n<parameter name='tmp.pLMNId' value='`$tmp.payload.pLMNId`'/>\n    ",
        "comments": "",
        "x": 3260.875,
        "y": 5796.5625,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "4e2b0f1e.b37e9",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"PRB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3328.375,
        "y": 5930.9375,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "72141d66.6370b4",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3286.9305114746094,
        "y": 5970.10396194458,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "92b3075d.856338",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3268.374954223633,
        "y": 6004.270544052124,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "ebe8ed9f.8997a",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfoDU-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 3330.763702392578,
        "y": 6035.103973388672,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "621f0caa.46eec4",
                "8271af0.7ff665"
            ]
        ]
    },
    {
        "id": "621f0caa.46eec4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3634.486038208008,
        "y": 6085.937292098999,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "4b8c7785.ac1828"
            ]
        ]
    },
    {
        "id": "4b8c7785.ac1828",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3786.4863300323486,
        "y": 6083.937272071838,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "6e6d7027.f0f57",
                "364e8840.858108"
            ]
        ]
    },
    {
        "id": "364e8840.858108",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3952.4860858917236,
        "y": 6049.937272071838,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "6e6d7027.f0f57",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3980.819549560547,
        "y": 6082.71529006958,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "5d0b280a.f4ed08",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3956.375030517578,
        "y": 6113.9376430511475,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "eef58bbb.389ed8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4054.597198486328,
        "y": 6140.270738601685,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "9116a046.3f9dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3793.1526947021484,
        "y": 6134.8260707855225,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "5d0b280a.f4ed08",
                "eef58bbb.389ed8"
            ]
        ]
    },
    {
        "id": "8271af0.7ff665",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3638.597099304199,
        "y": 6131.159595012665,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "9116a046.3f9dc"
            ]
        ]
    },
    {
        "id": "40b98db3.d03d74",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.resourceID' value='`$tmp.cellDULocalId`'/>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU' value='`$tmp.rrmPolicyDedicatedRatio_CellDU_updated`'/>",
        "comments": "",
        "x": 3449.9662857055664,
        "y": 6253.944792747498,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "cc3c3709.78cbd8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3412.2155532836914,
        "y": 6289.91696023941,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "29d9774b.8f3d88",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"cellLocalId\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellLocalId`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.pLMNId`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field6\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"GNBDUId\"/>\n<parameter name=\"field8\" value=\"`$tmp.gNBDUList.gNBDUId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"dLThptPerSlice\"/>\n<parameter name=\"field12\" value=\"`$tmp.dLThptPerSlice`\"/>\n<parameter name=\"field13\" value=\"uLThptPerSlice\"/>\n<parameter name=\"field14\" value=\"`$tmp.uLThptPerSlice`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3247.3748474121094,
        "y": 5838.784638404846,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "34a437e1.c05138",
        "type": "execute",
        "name": "set  globalCustomerId",
        "xml": "<set>\n<parameter name='tmp.payload.globalCustomerId' value='`$payloadJson.input.globalSubscriberId`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 660.7500228881836,
        "y": 106.74999713897705,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "117699dc.ff55a6",
        "type": "execute",
        "name": "set  serviceType",
        "xml": "<set>\n<parameter name='tmp.serviceType' value='`$payloadJson.input.subscriptionServiceType`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 664.75,
        "y": 145.75000095367432,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a145c709.8db1e8",
        "type": "execute",
        "name": "Update RAN Inventory ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRANSliceInventory`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRANSliceInventory.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-inventory-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 817,
        "y": 4191.25,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "cd2b5d7d.1cc6f",
                "800474bb.349208"
            ]
        ]
    },
    {
        "id": "d21a5ac4.809de8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Update inventory in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 786.2499885559082,
        "y": 3972.749991416931,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "cd2b5d7d.1cc6f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1053.0006580352783,
        "y": 4145.250358581543,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "2ac8026c.c74cee"
            ]
        ]
    },
    {
        "id": "2ac8026c.c74cee",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1193.0009765625,
        "y": 4153.2502365112305,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "c7f82ee9.7dabb",
                "9992a4fd.497d78"
            ]
        ]
    },
    {
        "id": "9992a4fd.497d78",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1328.0006713867188,
        "y": 4119.361747741699,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "c7f82ee9.7dabb",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating inventory in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1382.0003967285156,
        "y": 4156.250297546387,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "ebf47d6b.51bc7",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Updated inventory in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1401.0006484985352,
        "y": 4208.250485420227,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "36aa2c36.1628e4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1215.000400543213,
        "y": 4224.250241279602,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "ebf47d6b.51bc7",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "800474bb.349208",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1057.0006103515625,
        "y": 4225.249996185303,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "36aa2c36.1628e4"
            ]
        ]
    },
    {
        "id": "78a0519c.a4047",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.dLThptPerSlice' value='`$tmp.payload.dLThptPerSlice`'/>\n<parameter name='tmp.payload.pLMNId' value='`$tmp.pLMNId`'/>\n<parameter name='tmp.payload.sNSSAI' value='`$tmp.sNSSAI`'/>\n<parameter name='tmp.uLThptPerSlice' value='`$tmp.payload.uLThptPerSlice`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberOfConns`'/>",
        "comments": "",
        "x": 777,
        "y": 4060.5,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "90ebd0d1.0e27a",
        "type": "execute",
        "name": "prepare gNBDUList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.DUList.response' />\n\t<parameter name='keyName' value='gNBDUId' />\n\t<parameter name='keyValue' value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3133.75,
        "y": 5021.5,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "4f487da.79f0984",
        "type": "execute",
        "name": "prepare gNBCUUPList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.CUUPList.response' />\n\t<parameter name='keyName' value='gNBCUUPId' />\n\t<parameter name='keyValue' value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1688,
        "y": 3247.25,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "176c3707.cee7c9",
        "type": "execute",
        "name": "prepare gNBCUCPList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.CUCPList.response' />\n\t<parameter name='keyName' value='gNBCUName' />\n\t<parameter name='keyValue' value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2213,
        "y": 1571.5,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "61db22e5.255cbc",
        "type": "for",
        "name": "For coverageAreaTAList",
        "xml": "<for index='ta' start='0' end='`$tmp.trackingAreaListEntries`'>",
        "comments": "",
        "outputs": 1,
        "x": 423.69445037841797,
        "y": 485.6667203903198,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "c1b6536e.41454"
            ]
        ]
    },
    {
        "id": "c1b6536e.41454",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 396.8816909790039,
        "y": 560.989305973053,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "11096942.0fe4b7",
                "e06ed195.bb9dd",
                "67a21af6.c45f74",
                "f3b4b5a6.06c428",
                "22aedb0e.d1c1f4",
                "f23f4f55.9af9e"
            ]
        ]
    },
    {
        "id": "11096942.0fe4b7",
        "type": "execute",
        "name": "read trackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.payload.trackingArea' />\n\t<parameter name='source' value=\"`'payloadJson.input.sliceProfile.coverageAreaTAList['+ $ta+']'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 721.8056297302246,
        "y": 392.9445219039917,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "67a21af6.c45f74",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"trackingArea \"/>\n<parameter name=\"field2\" value=\"`$tmp.payload.trackingArea`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 665.6944808959961,
        "y": 439.27770471572876,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "e698a0cf.99018",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcuup-rrm1' start='0' end='`$tmp.rrmPolicyRatio_configdb_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1828.0001678466797,
        "y": 4090.750666618347,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "8acb1ef3.7bf75"
            ]
        ]
    },
    {
        "id": "15d0a6a8.2844c9",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatio_configdb_length' value='`$getrrmpolicyratioinfo-cuup-configdb-response._length`'/>\n\n    ",
        "comments": "",
        "x": 1889,
        "y": 4058.750002861023,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "8acb1ef3.7bf75",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2036,
        "y": 4090.750002861023,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "23354179.3a37be",
                "f381d76b.7c5b58",
                "6415c9b2.ba7f78",
                "fb71fd5c.63b5a"
            ]
        ]
    },
    {
        "id": "23354179.3a37be",
        "type": "set",
        "name": "set rrmpolicyratioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='prop.configDB.rrmPolicyID' />\n\t<parameter name='source' value=\"`'getrrmpolicyratioinfo-cuup-configdb-response.['+$idcuup-rrm1+'].rrmPolicyID'`\" />\n\n    ",
        "comments": "",
        "x": 2053.000015258789,
        "y": 4142.75018119812,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "4eca6bcf.19f6f4",
        "type": "set",
        "name": "set rrmpolicyratioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='prop.configDB.rrmPolicyID' />\n\t<parameter name='source' value=\"`'getrrmpolicyratioinfo-configdb-response.['+$idcu-rrm1+'].rrmPolicyID'`\" />\n",
        "comments": "",
        "x": 2128.2502059936523,
        "y": 2577.75070476532,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "a5d5d190.afc5c",
        "type": "set",
        "name": "set rrmpolicyratioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='prop.configDB.rrmPolicyID' />\n\t<parameter name='source' value=\"`'getrrmpolicyratioinfoDU-configdb-response.['+$iddu-rrm1+'].rrmPolicyID'`\" />\n",
        "comments": "",
        "x": 3463.25040435791,
        "y": 6216.750333786011,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "a7e4a69a.4eee18",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioConfigDB_length' value='`$getrrmpolicyratioinfo-configdb-response._length`'/>\n\n    ",
        "comments": "",
        "x": 2004.5,
        "y": 2487.2500038146973,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "d04803e9.e9861",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcu-rrm1' start='0' end='`$tmp.rrmPolicyRatioConfigDB_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1821.500114440918,
        "y": 2527.2500953674316,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "e47c84dd.df4ad8"
            ]
        ]
    },
    {
        "id": "e47c84dd.df4ad8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2013.5000228881836,
        "y": 2529.250308036804,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "4eca6bcf.19f6f4",
                "8ae4e7a8.66a468",
                "75cd172c.0f47a8",
                "5a4e2c1e.f4b764"
            ]
        ]
    },
    {
        "id": "4950ccfb.7f5304",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioDUList_length' value='`$getrrmpolicyratioinfoDU-configdb-response._length`'/>\n\n    ",
        "comments": "",
        "x": 3318.000099182129,
        "y": 6073.25020980835,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "76a99db7.945c84",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='iddu-rrm1' start='0' end='`$tmp.rrmPolicyRatioDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3300,
        "y": 6117.250003814697,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "57e004d0.dab4ec"
            ]
        ]
    },
    {
        "id": "57e004d0.dab4ec",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3484.25,
        "y": 6152.250003814697,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a5d5d190.afc5c",
                "40b98db3.d03d74",
                "cc3c3709.78cbd8",
                "725d04d4.4e5bdc"
            ]
        ]
    },
    {
        "id": "f3b4b5a6.06c428",
        "type": "execute",
        "name": "set params",
        "xml": "<set>\n<parameter name='tmp.RICEntries' value=\"`$getNFNSSIRIC-configdb-response._length`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 326.75,
        "y": 1273.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "22aedb0e.d1c1f4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated uLThptPerSlice for nearRTRIC \"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field3\" value=\"dLThptPerSlice for nearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConn for nearRTRIC\"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"nearRTRICId\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"RANNFNSSI\"/>\n<parameter name=\"field12\" value=\"`$tmp.ranNFNSSIListEntry`\"/>\n<parameter name=\"field13\" value=\"NSSAI\"/>\n<parameter name=\"field14\" value=\"`$tmp.payload.sNSSAI`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 306.75,
        "y": 1323.75,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "cd6c9239.1fbb9",
        "type": "execute",
        "name": "set trackingArea size",
        "xml": "<set>\n\t<parameter name='tmp.trackingAreaListEntries' value=\"`$payloadJson.input.sliceProfile.coverageAreaTAList_length`\"/>\n\t",
        "comments": "",
        "outputs": 1,
        "x": 424.75001525878906,
        "y": 390.7500104904175,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "69b6790d.7ed958",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Tracking Area size\"/>\n<parameter name=\"field2\" value=\"`$tmp.trackingAreaListEntries`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 370.75001525878906,
        "y": 429.75001764297485,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "c627552.6535aa8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Response code\"/>\n<parameter name=\"field2\" value=\"`$error-code`\" />",
        "comments": "",
        "outputs": 1,
        "x": 749.5,
        "y": 4288.250002861023,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "5ae16c1.eea2c94",
        "type": "switchNode",
        "name": "check status",
        "xml": "<switch test='`$error-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 774.4999961853027,
        "y": 4341.99997651577,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "3604dc80.5b7134",
                "8b24277.286fdd8"
            ]
        ]
    },
    {
        "id": "3604dc80.5b7134",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='200'>\n",
        "comments": "",
        "outputs": 1,
        "x": 957.5000114440918,
        "y": 4299.0000985860825,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a4463736.3d2688"
            ]
        ]
    },
    {
        "id": "8b24277.286fdd8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 973.4999961853027,
        "y": 4350.99997651577,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "f78386b6.f7c7b8"
            ]
        ]
    },
    {
        "id": "a4463736.3d2688",
        "type": "set",
        "name": "status",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"success\"/>",
        "comments": "",
        "x": 1133.5000114440918,
        "y": 4302.000251173973,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "f78386b6.f7c7b8",
        "type": "set",
        "name": "failure status",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>",
        "comments": "",
        "x": 1134.4999961853027,
        "y": 4345.99997651577,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "736e2c41.e3fa04",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Response code\"/>\n<parameter name=\"field2\" value=\"`$error-code`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4719.000240325928,
        "y": 2553.7500052452087,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "616adbcb.acfbc4",
        "type": "switchNode",
        "name": "check status",
        "xml": "<switch test='`$error-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4735.000240325928,
        "y": 2609.5000052452087,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "4ce246be.808e08",
                "1f7a9770.1dfa99"
            ]
        ]
    },
    {
        "id": "4ce246be.808e08",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='200'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4906.000011444092,
        "y": 2481.5000985860825,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "1cd5a063.9d81e"
            ]
        ]
    },
    {
        "id": "1cd5a063.9d81e",
        "type": "set",
        "name": "status",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"success\"/>",
        "comments": "",
        "x": 5082.000011444092,
        "y": 2484.500251173973,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "b431d9c8.57fc38",
        "type": "set",
        "name": "failure status",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>",
        "comments": "",
        "x": 5082.999996185303,
        "y": 2528.49997651577,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "1f7a9770.1dfa99",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4921.999996185303,
        "y": 2533.49997651577,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "b431d9c8.57fc38"
            ]
        ]
    },
    {
        "id": "36b7a424.f750bc",
        "type": "block",
        "name": "Add sliceprofile NRTRIC",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 858.000057220459,
        "y": 895.7500228881836,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a12c1cfd.73b37",
                "d70d2511.ad9c88",
                "543de6b3.4c8428",
                "d3f68f4b.db24a"
            ]
        ]
    },
    {
        "id": "543de6b3.4c8428",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1021.0005836486816,
        "y": 800.4063949584961,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a1dcdb87.0b73a8",
                "8ab39c7.22fc86"
            ]
        ]
    },
    {
        "id": "a1dcdb87.0b73a8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1211.0002365112305,
        "y": 766.4060344696045,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "86a6aee7.092b6"
            ]
        ]
    },
    {
        "id": "86a6aee7.092b6",
        "type": "block",
        "name": "URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1372.2016677856445,
        "y": 775.0051879882812,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "85658d44.ba71e",
                "f0de89e6.4a7878"
            ]
        ]
    },
    {
        "id": "85658d44.ba71e",
        "type": "execute",
        "name": "generate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addSliceProfile.ToNearRTRIC`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1672.0000610351562,
        "y": 724.4063549041748,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "f0de89e6.4a7878",
        "type": "execute",
        "name": "Populate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{sliceProfileId}\"/>\n    <parameter name=\"replacement\" value=\"`$payloadJson.input.sliceProfile.sliceProfileId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1668.5349044799805,
        "y": 761.0053405761719,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a1ecbfa9.0d171",
        "type": "execute",
        "name": "generate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addSliceProfile.ToNearRTRIC.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1738.5348434448242,
        "y": 803.0053863525391,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "1fe85c9e.949c63",
        "type": "execute",
        "name": "Populate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{sliceProfileId}\"/>\n    <parameter name=\"replacement\" value=\"`$payloadJson.input.sliceProfile.sliceProfileId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1750.069725036621,
        "y": 847.6041946411133,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "bcdaf805.ffad68",
        "type": "execute",
        "name": "Populate MOUNT NAME",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1769.5351028442383,
        "y": 888.0052156150341,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "576467e9.55c118",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1404.9899368286133,
        "y": 877.4060802459717,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "a1ecbfa9.0d171",
                "1fe85c9e.949c63",
                "bcdaf805.ffad68"
            ]
        ]
    },
    {
        "id": "8ab39c7.22fc86",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1200.0001983642578,
        "y": 852.4061050415039,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "576467e9.55c118"
            ]
        ]
    },
    {
        "id": "d70d2511.ad9c88",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Add SliceProfile ToNearRTRIC url:\"/>\n<parameter name=\"field2\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1097.0003509521484,
        "y": 900.7500839233398,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "a12c1cfd.73b37",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Setting variables for ADD SliceProfile ToNearRTRIC\"/>\n<parameter name=\"field2\" value=\"`$prop.controller.url + $tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n<parameter name=\"field3\" value=\"`$payloadJson.input.sliceProfile.sliceProfileId`\"/>\n<parameter name=\"field4\" value=\"`$payloadJson.input.sliceProfile.sNSSAI`\"/>\n<parameter name=\"field5\" value=\"`$payloadJson.input.sliceProfile.maxNumberofUEs`\"/>\n<parameter name=\"field6\" value=\"`$payloadJson.input.sliceProfile.latency`\"/>\n<parameter name=\"field7\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field9\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field10\" value=\"`$payloadJson.input.sliceProfile.uEMobilityLevel`\"/>\n<parameter name=\"field11\" value=\"`$tmp.trackingArea`\"/>\n<parameter name=\"field12\" value=\"`$payloadJson.input.sliceProfile.resourceSharingLevel`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1096.0008101463318,
        "y": 945.7394647598267,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "d3f68f4b.db24a",
        "type": "execute",
        "name": "add addSliceProfile.ToNearRTRIC using PUT",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-add-sliceProfile-NRRIC.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"addSliceProfile-NRTRIC-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 1173.0011444091797,
        "y": 1023.7500839233398,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "73b3a50d.387b7c",
                "3a51e291.dc3f0e"
            ]
        ]
    },
    {
        "id": "3a51e291.dc3f0e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1488.0012168884277,
        "y": 972.739336013794,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "47b0a15c.e7c01"
            ]
        ]
    },
    {
        "id": "47b0a15c.e7c01",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1652.9998588562012,
        "y": 991.7393572330475,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "61b81239.51260c"
            ]
        ]
    },
    {
        "id": "61b81239.51260c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"PLMNInfo List Entry Add to NRCELLCU Executed Successfully \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1817.0006523132324,
        "y": 984.7398464679718,
        "z": "851f20d0.cecb9",
        "wires": [
            []
        ]
    },
    {
        "id": "8a0b6b58.7d8ad8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error adding slice proficle to NearRTRIC\" />",
        "comments": "",
        "x": 1799.000789642334,
        "y": 927.7396411895752,
        "z": "851f20d0.cecb9",
        "wires": []
    },
    {
        "id": "7feea329.3b70bc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1659.423885345459,
        "y": 926.5607318878174,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "8a0b6b58.7d8ad8",
                "5ce931d8.83b77"
            ]
        ]
    },
    {
        "id": "73b3a50d.387b7c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1543.0003623962402,
        "y": 920.7394123077393,
        "z": "851f20d0.cecb9",
        "wires": [
            [
                "7feea329.3b70bc"
            ]
        ]
    }
]