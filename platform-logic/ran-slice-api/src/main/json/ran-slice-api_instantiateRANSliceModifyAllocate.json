[
    {
        "id": "cdce3934.f2aa38",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 215.27777099609375,
        "y": 114.74999332427979,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "ffd03bbd.6b30f8"
            ]
        ]
    },
    {
        "id": "ffd03bbd.6b30f8",
        "type": "service-logic",
        "name": "ran-slice-api ${project.version}",
        "module": "ran-slice-api",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='ran-slice-api' version='${project.version}'>",
        "outputs": 1,
        "x": 300.27779388427734,
        "y": 181.74996280670166,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2dcf0e40.745bf2"
            ]
        ]
    },
    {
        "id": "2dcf0e40.745bf2",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='instantiateRANSliceModifyAllocate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 234.27777099609375,
        "y": 241.74992847442627,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "3c5a09dd.4e50a6"
            ]
        ]
    },
    {
        "id": "3c5a09dd.4e50a6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 230.27776336669922,
        "y": 302.7499647140503,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "a604076f.7c0c88",
                "df01ad79.7438a",
                "1801c640.1eb6aa",
                "ed3c9a78.956f38",
                "51b41b66.216574",
                "ade269f7.3d78c8",
                "d0d24863.8121f8"
            ]
        ]
    },
    {
        "id": "a604076f.7c0c88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 488.2777557373047,
        "y": 304.74998569488525,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "1ea6b30a.d33abd",
                "eb434aa7.d801d8",
                "3d6aa191.e0db3e",
                "2fed7838.3e4478",
                "ea194ca9.b5136",
                "38665c6f.b68994"
            ]
        ]
    },
    {
        "id": "1ea6b30a.d33abd",
        "type": "execute",
        "name": "generate getNearRTRICsFromRANNFNSSI URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getNearRTRICByNSSI`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getNearRTRICByNSSI.url\"/>\n    <parameter name=\"target\" value=\"{ranNFNSSIId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.RANNFNSSIId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 832.7777709960938,
        "y": 257.7500066757202,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "eb434aa7.d801d8",
        "type": "record",
        "name": "record configdb RestAPI params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for configDB to Get NearRTRIC for RANNFNSSI\"/>\n<parameter name='field2' value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\" />\n<parameter name='field3' value=\"`$tmp.payload.RANNFNSSIId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 791.7777786254883,
        "y": 297.49999141693115,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "3d6aa191.e0db3e",
        "type": "execute",
        "name": "Get nearRTRIC for RANNFNSSIId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getNFNSSIRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 802.7778472900391,
        "y": 340.99999713897705,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "41141f2f.3a29e",
                "f867a9f7.6835f8"
            ]
        ]
    },
    {
        "id": "41141f2f.3a29e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1053.0960083007812,
        "y": 369.5680932998657,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "30af1a9a.7284f6"
            ]
        ]
    },
    {
        "id": "30af1a9a.7284f6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1226.0958099365234,
        "y": 358.56816577911377,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "23c782a5.d5b7fe",
                "20106467.d1db5c"
            ]
        ]
    },
    {
        "id": "23c782a5.d5b7fe",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained NearRT RIC info from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getNFNSSIRIC-configdb-response._length`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1426.8455390930176,
        "y": 358.318190574646,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "20106467.d1db5c",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1462.6237525939941,
        "y": 401.56819915771484,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "f867a9f7.6835f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1063.5958671569824,
        "y": 318.06813526153564,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "9ee1ca8d.8df468"
            ]
        ]
    },
    {
        "id": "9ee1ca8d.8df468",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1222.345947265625,
        "y": 292.0682067871094,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "fd49cb37.a1ec88",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "fd49cb37.a1ec88",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1395.0955848693848,
        "y": 304.6792325973511,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "df01ad79.7438a",
        "type": "for",
        "name": "foreach NearRTRIC",
        "xml": "<for index='idy' start='0' end='`$getNFNSSIRIC-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 357.2778091430664,
        "y": 1403.5682625174522,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "fd4b53be.08fe7",
                "792d179c.cbe1f8",
                "eda7021e.42543",
                "ea01a433.33d248",
                "7d0cab41.5d62e4",
                "759313f.9d96dec",
                "b2bbe86b.51d5b8"
            ]
        ]
    },
    {
        "id": "fd4b53be.08fe7",
        "type": "block",
        "name": "Process NearRTRIC",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 683.1868362426758,
        "y": 1197.4773273468018,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "bcd60b3d.7cf3b8",
                "946fa1ac.5143f",
                "321a0c36.154ba4",
                "a3aa3e0c.1bd7",
                "ef603cfd.b12c2",
                "b84025f8.34bc78"
            ]
        ]
    },
    {
        "id": "bcd60b3d.7cf3b8",
        "type": "execute",
        "name": "read nearRTRICId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.nearRTRICId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].nearRTRICId'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1136.8232879638672,
        "y": 1028.4772987365723,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "946fa1ac.5143f",
        "type": "execute",
        "name": "read gNBId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.gNBId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy + '].gNBId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1107.8232727050781,
        "y": 1071.4773597717285,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "321a0c36.154ba4",
        "type": "set",
        "name": "Calculate uLThptPerSlice dLThptPerSlice maxNumberOfConns",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.uLThptPerSlice1' value='`$payloadJson.input.sliceProfile.uLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.uLThptPerSlice' value='`$tmp.nearRTRIC.uLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice1' value='`$payloadJson.input.sliceProfile.dLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice' value='`$tmp.nearRTRIC.dLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns1' value='`$payloadJson.input.sliceProfile.maxNumberofConns * 1.1`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns' value='`$tmp.nearRTRIC.maxNumberOfConns1 / $getNFNSSIRIC-configdb-response._length`' />",
        "comments": "",
        "x": 1238.1869049072266,
        "y": 1146.295461654663,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "a3aa3e0c.1bd7",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated uLThptPerSlice for nearRTRIC \"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field3\" value=\"dLThptPerSlice for nearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConn for nearRTRIC\"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"nearRTRICId\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"RANNFNSSI\"/>\n<parameter name=\"field12\" value=\"`$tmp.ranNFNSSIListEntry`\"/>\n<parameter name=\"field13\" value=\"NSSAI\"/>\n<parameter name=\"field14\" value=\"`$tmp.payload.sNSSAI`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1084.0959014892578,
        "y": 1187.2955379486084,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "ef603cfd.b12c2",
        "type": "execute",
        "name": "Update nearRT RIC Details in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updatenearRTRIC`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updatenearRTRIC.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"modify-allocate-nearRTRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1190.0959930419922,
        "y": 1233.204626083374,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "85a5cf93.5a30a",
                "39b8aa37.8591b6"
            ]
        ]
    },
    {
        "id": "85a5cf93.5a30a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1546.0958862304688,
        "y": 1158.0226373672485,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "9ff7d9ea.c447a8"
            ]
        ]
    },
    {
        "id": "9ff7d9ea.c447a8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1678.0960083007812,
        "y": 1120.0226373672485,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "aa0fd77a.778858",
                "88e8c925.ecbbd8"
            ]
        ]
    },
    {
        "id": "88e8c925.ecbbd8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1867.0957641601562,
        "y": 1067.1336603164673,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "aa0fd77a.778858",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1875.0957641601562,
        "y": 1167.0226984024048,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "39b8aa37.8591b6",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1543.9140014648438,
        "y": 1257.9317560195923,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c50b6ead.b3a8f"
            ]
        ]
    },
    {
        "id": "c50b6ead.b3a8f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1707.9138793945312,
        "y": 1258.9318780899048,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "86bd14f4.969ee8"
            ]
        ]
    },
    {
        "id": "86bd14f4.969ee8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Updated NearRT RIC info in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1857.9138793945312,
        "y": 1253.9320001602173,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "b84025f8.34bc78",
        "type": "execute",
        "name": "set params",
        "xml": "<set>\n<parameter name='tmp.ranNFNSSIListEntry' value=\"`$payloadJson.input.RANNFNSSIId`\"/>\n<parameter name='tmp.payload.pLMNId' value=\"`$tmp.pLMNId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1140.2777862548828,
        "y": 1109.750020980835,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "f4fee64.5630718",
        "type": "execute",
        "name": "read CUCP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1061.2777709960938,
        "y": 1301.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "792d179c.cbe1f8",
        "type": "block",
        "name": "Process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 661.2777709960938,
        "y": 1285.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "f4fee64.5630718",
                "b895d39e.358cc",
                "9a95f4b6.c00a88"
            ]
        ]
    },
    {
        "id": "b895d39e.358cc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUCP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1033.2777709960938,
        "y": 1366.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "9a95f4b6.c00a88",
        "type": "for",
        "name": "foreach CUCP",
        "xml": "<for index='idz' start='0' end='`$tmp.CUCPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1061.2777709960938,
        "y": 1441.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "4a8ecad1.d36ae4"
            ]
        ]
    },
    {
        "id": "4a8ecad1.d36ae4",
        "type": "block",
        "name": "block : process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1282.2777709960938,
        "y": 1448.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "41f7da9.0438224",
                "111964c0.00cfab",
                "e128ba2b.0271c8",
                "8889a908.a7eeb8"
            ]
        ]
    },
    {
        "id": "41f7da9.0438224",
        "type": "execute",
        "name": "read CUCP name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPName' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].gNBCUName'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1633.2777709960938,
        "y": 1301.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "111964c0.00cfab",
        "type": "for",
        "name": "for cellCUList",
        "xml": "<for index='idcu' start='0' end='`$tmp.cellCUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1637.2777709960938,
        "y": 1445.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "a7b5e345.afac6"
            ]
        ]
    },
    {
        "id": "33dfc44e.7fcfec",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2286.2777709960938,
        "y": 1469.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "a0230d06.2b562",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2315.277786254883,
        "y": 1544.7500414848328,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "1611afed.23ffc",
                "c6160ccd.43539"
            ]
        ]
    },
    {
        "id": "6822adf8.543824",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.CUCPName`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellCULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2280.2778549194336,
        "y": 1506.750102519989,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "882e7a80.d74e58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2151.2777709960938,
        "y": 1052.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "33dfc44e.7fcfec",
                "6822adf8.543824",
                "a0230d06.2b562",
                "4724cb0f.9daf64",
                "19e0241b.9cd70c",
                "edb92967.0e18f8",
                "a7b6d79c.8829b8",
                "8901584a.ca65c8",
                "52873cd.a7928c4",
                "e6011289.53a58",
                "2cf8049f.4b337c"
            ]
        ]
    },
    {
        "id": "1611afed.23ffc",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2571.2778854370117,
        "y": 1594.750210762024,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8555826b.8073e"
            ]
        ]
    },
    {
        "id": "8555826b.8073e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2744.277671813965,
        "y": 1593.7502717971802,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "25c76a36.46adf6"
            ]
        ]
    },
    {
        "id": "25c76a36.46adf6",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2942.277732849121,
        "y": 1590.7503938674927,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "c6160ccd.43539",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2536.2778549194336,
        "y": 1477.749966621399,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "a2dd1082.75323"
            ]
        ]
    },
    {
        "id": "a2dd1082.75323",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2686.2781295776367,
        "y": 1436.7501497268677,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "93c97fee.70da5",
                "539fbec5.c3f24",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "93c97fee.70da5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRcellCU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2857.277763366699,
        "y": 1497.750210762024,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "539fbec5.c3f24",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2852.2778854370117,
        "y": 1402.7501497268677,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "4724cb0f.9daf64",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2368.2777709960938,
        "y": 1279.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "19e0241b.9cd70c",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2329.2777709960938,
        "y": 1347.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "edb92967.0e18f8",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 2296.2777709960938,
        "y": 1405.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "e128ba2b.0271c8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUCPName \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPName`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1606.2777709960938,
        "y": 1352.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "8889a908.a7eeb8",
        "type": "execute",
        "name": "read cellCU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList[' + $idz +'].cellCUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1647.2777709960938,
        "y": 1401.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "a7b6d79c.8829b8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2374.2777709960938,
        "y": 1115.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "b37bf738.d5c038",
                "4af07c3f.5bcf94"
            ]
        ]
    },
    {
        "id": "b37bf738.d5c038",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2582.2777709960938,
        "y": 1080.7497491836548,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "e6d8c1e4.44fd5"
            ]
        ]
    },
    {
        "id": "e6d8c1e4.44fd5",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2902.2777709960938,
        "y": 1095.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "4af07c3f.5bcf94",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2570.2777709960938,
        "y": 1182.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "b5b52336.410c8"
            ]
        ]
    },
    {
        "id": "8901584a.ca65c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1929.2777709960938,
        "y": 1866.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "9caed6bf.227748",
                "bfa7bf54.50cee",
                "e9b83795.78e768",
                "859856d2.8ff3d8",
                "ee648713.59eb88",
                "199042fe.6ade4d",
                "24fc98b8.40ad88",
                "44cbbc9e.66bad4",
                "c7cf6a0a.7602d8",
                "1a62fde5.66d4f2",
                "286ddbec.57d7c4"
            ]
        ]
    },
    {
        "id": "9caed6bf.227748",
        "type": "set",
        "name": "Calculate maxNumberOfConnsPercellCU",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConnsPercellCU' value='`$tmp.payload.maxNumberofConns / $tmp.cellCUList_length`' />\n",
        "comments": "",
        "x": 2185.277910232544,
        "y": 1637.7501010894775,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "bfa7bf54.50cee",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio temp1 - \"/>\n<parameter name=\"field2\" value=\"`$tmp.maxNumberOfConnsPercellCU`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyRatio temp2 - \"/>\n<parameter name=\"field4\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellCU1`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.rRMPolicyDedicatedRatio_SliceProfile`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2128.2778453826904,
        "y": 1765.7500705718994,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "e9b83795.78e768",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2149.2778453826904,
        "y": 1801.7500400543213,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "eca2cb2.9c54538",
                "7f6e77c.a8aac88"
            ]
        ]
    },
    {
        "id": "eca2cb2.9c54538",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2329.2777709960938,
        "y": 1739.7497491836548,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "e258ca0a.72ec58"
            ]
        ]
    },
    {
        "id": "e258ca0a.72ec58",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2607.2777709960938,
        "y": 1731.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "859856d2.8ff3d8",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2186.2777709960938,
        "y": 1844.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "ee648713.59eb88",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2185.277811050415,
        "y": 1884.7500133514404,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "874a9bd9.e5b518",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2442.277750015259,
        "y": 1987.7501049041748,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "9d7eb3e9.03b87"
            ]
        ]
    },
    {
        "id": "9d7eb3e9.03b87",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2601.2776489257812,
        "y": 2024.7501153945923,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "162e9419.1f338c",
                "66de30e8.1abc9"
            ]
        ]
    },
    {
        "id": "162e9419.1f338c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2752.2777576446533,
        "y": 1992.7503190040588,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "1e4cd16.6779c2f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2439.277723312378,
        "y": 1894.7500133514404,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "9d6caf15.b08f4"
            ]
        ]
    },
    {
        "id": "9d6caf15.b08f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2591.2780151367188,
        "y": 1892.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "6bdcf3ef.3de21c",
                "c8eb5f5.7095da",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "6bdcf3ef.3de21c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2762.2776489257812,
        "y": 1953.750054359436,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "c8eb5f5.7095da",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2757.2777709960938,
        "y": 1858.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "199042fe.6ade4d",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2218.277841567993,
        "y": 1939.7500133514404,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "1e4cd16.6779c2f",
                "874a9bd9.e5b518"
            ]
        ]
    },
    {
        "id": "66de30e8.1abc9",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2778.277696609497,
        "y": 2025.7500438690186,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "24fc98b8.40ad88",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcu-rrm' start='0' end='`$tmp.rrmPolicyRatioList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2121.2777709960938,
        "y": 2129.7502222061157,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "44a4d00d.c80db"
            ]
        ]
    },
    {
        "id": "44a4d00d.c80db",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2342.2777709960938,
        "y": 2149.7502222061157,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "e78a4f0f.bce4c",
                "e6c4828b.edd3c",
                "27dba04e.02ff",
                "36b8da14.33d876",
                "8be06558.e14bf8",
                "ba00bd4a.546d6",
                "cb603df3.12a5a",
                "c282a260.9d8de",
                "b3c3cf99.6f492",
                "8f54fffc.9c001",
                "148d5e51.205352"
            ]
        ]
    },
    {
        "id": "e78a4f0f.bce4c",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellCU_new' value='`$tmp.rrmPolicyDedicatedRatiocellCU_old + $tmp.rRMPolicyDedicatedRatio_SliceProfile`' />",
        "comments": "",
        "x": 2660.2777881622314,
        "y": 2109.7502908706665,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "e6c4828b.edd3c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Existing RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatiocellCU_old`\"/>\n<parameter name=\"field3\" value=\"Updated RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field4\" value=\"`$tmp.rrmPolicyDedicatedRatio_CellCU_new`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2585.2778186798096,
        "y": 2143.7499866485596,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "27dba04e.02ff",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2635.2777709960938,
        "y": 2177.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "48924713.d17858",
                "e3bb4f1.511c9b"
            ]
        ]
    },
    {
        "id": "48924713.d17858",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2916.388816833496,
        "y": 2105.8610315322876,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "779fca32.3495e4"
            ]
        ]
    },
    {
        "id": "779fca32.3495e4",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3161.278175354004,
        "y": 2107.638882637024,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "36b8da14.33d876",
        "type": "execute",
        "name": "patch NRCellCU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2673.166549682617,
        "y": 2355.416706085205,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "19a156b1.f32ab9",
                "257d1061.7fc23"
            ]
        ]
    },
    {
        "id": "19a156b1.f32ab9",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2936.2777709960938,
        "y": 2340.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "9b9c1569.6f8068"
            ]
        ]
    },
    {
        "id": "9b9c1569.6f8068",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3127.2777709960938,
        "y": 2340.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8eb39019.8e726"
            ]
        ]
    },
    {
        "id": "8eb39019.8e726",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3312.2775268554688,
        "y": 2341.750237464905,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "257d1061.7fc23",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2935.2777709960938,
        "y": 2428.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "39629f26.1f32c"
            ]
        ]
    },
    {
        "id": "39629f26.1f32c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3154.2780151367188,
        "y": 2433.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "4bcb96b0.5c6438",
                "41d5ec67.b7e364",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "4bcb96b0.5c6438",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU - RRMPolicyRAtio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3399.2776489257812,
        "y": 2479.750054359436,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "41d5ec67.b7e364",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3394.2777709960938,
        "y": 2384.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "44cbbc9e.66bad4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2105.2777709960938,
        "y": 2079.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "a7b5e345.afac6",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1857.2777709960938,
        "y": 1354.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "3fcfd799.26f778"
            ]
        ]
    },
    {
        "id": "52873cd.a7928c4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.cellCULocalId`\"/>\n<parameter name=\"field2\" value=\"CellCU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2346.2777709960938,
        "y": 1047.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "e6011289.53a58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1746.2777252197266,
        "y": 2331.7500047683716,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "cab0c653.68fca8",
                "1031436d.d4c14d",
                "8f418c29.a17f4",
                "ca3912f.d1798f",
                "29ac3d55.731702",
                "295dcd8f.d34882",
                "e67c1235.a668b",
                "4639f97.7feb608",
                "79add8fe.1d3c58",
                "30531c3.32959e4",
                "5b1ca906.eba328"
            ]
        ]
    },
    {
        "id": "cab0c653.68fca8",
        "type": "execute",
        "name": "Update cellCU for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUCP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBCUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2029.2777252197266,
        "y": 2331.7500047683716,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "31364e32.2027c2",
                "e32e339f.5cb42"
            ]
        ]
    },
    {
        "id": "e32e339f.5cb42",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2303.2778549194336,
        "y": 2388.750114440918,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "db869b45.96ea18"
            ]
        ]
    },
    {
        "id": "31364e32.2027c2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2300.7222900390625,
        "y": 2350.5280332565308,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "b1f9e8c8.11fee8"
            ]
        ]
    },
    {
        "id": "b1f9e8c8.11fee8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2508.2777252197266,
        "y": 2418.7500047683716,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "4fa6deb.8eba52",
                "404a2781.cb3848",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "404a2781.cb3848",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2675.388687133789,
        "y": 2393.416693687439,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "4fa6deb.8eba52",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2732.6106872558594,
        "y": 2454.1943731307983,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "7dc5f273.6d6e8c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2576.3889389038086,
        "y": 2462.972159385681,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "db869b45.96ea18",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2435.722270965576,
        "y": 2460.3055124282837,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "7dc5f273.6d6e8c"
            ]
        ]
    },
    {
        "id": "1031436d.d4c14d",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2050.2777709960938,
        "y": 2617.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "460b691c.339e68",
                "c97bdf3e.ba40a"
            ]
        ]
    },
    {
        "id": "460b691c.339e68",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2350.500072479248,
        "y": 2628.861020088196,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "4a0eb18.9b9485"
            ]
        ]
    },
    {
        "id": "c97bdf3e.ba40a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2348.2777709960938,
        "y": 2677.749749183655,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "f0f38d2d.ffe45"
            ]
        ]
    },
    {
        "id": "4a0eb18.9b9485",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2691.277717590332,
        "y": 2624.7499866485596,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "18dbad94.def5b2",
                "d4da7a32.2d7768",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "d4da7a32.2d7768",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2872.8330154418945,
        "y": 2618.527932167053,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "18dbad94.def5b2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2867.832862854004,
        "y": 2656.8612146377563,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "f0f38d2d.ffe45",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2529.2777709960938,
        "y": 2671.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "124303f5.c46bbc"
            ]
        ]
    },
    {
        "id": "124303f5.c46bbc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2695.2777709960938,
        "y": 2672.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "eda7021e.42543",
        "type": "block",
        "name": "Process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 642.2777709960938,
        "y": 1511.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c6b13c72.e3d36",
                "25c8461e.97134a",
                "fea4da3b.bcfee8"
            ]
        ]
    },
    {
        "id": "c6b13c72.e3d36",
        "type": "execute",
        "name": "read CUUP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUUPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUUPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 973.2777709960938,
        "y": 1521.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "25c8461e.97134a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUUP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUUPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 945.2777709960938,
        "y": 1586.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "fea4da3b.bcfee8",
        "type": "for",
        "name": "foreach CUUP",
        "xml": "<for index='id-cuup' start='0' end='`$tmp.CUUPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 973.2777709960938,
        "y": 1661.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "40823d38.9d16f4"
            ]
        ]
    },
    {
        "id": "40823d38.9d16f4",
        "type": "block",
        "name": "block : process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1194.2777709960938,
        "y": 1668.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "3528e116.e7894e",
                "e7bc5124.45b36",
                "342badce.4abd62"
            ]
        ]
    },
    {
        "id": "3528e116.e7894e",
        "type": "execute",
        "name": "read CUUP id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.idGNBCUUPFunction' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUUPList['+ $id-cuup +'].gNBCUUPId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1448.2777786254883,
        "y": 1490.5277490615845,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "e7bc5124.45b36",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"idGNBCUUPFunction \"/>\n<parameter name=\"field2\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1427.6111221313477,
        "y": 1542.3055491447449,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "342badce.4abd62",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1427.2777709960938,
        "y": 2752.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "21f29aee.0eff86",
                "94e7e0a7.b58c3",
                "c27a2824.18ffe8",
                "821dc568.77ed88",
                "48166ee0.cdff5",
                "c9836807.47c9b8",
                "1ba6a41f.c38c2c",
                "43557902.4f4158",
                "b151ef4e.63d69",
                "157cf93d.767517",
                "11b56769.6027f9",
                "69ec533e.600d9c",
                "14b3dc4d.71ca44",
                "d4cbbf53.53515",
                "a36cc0c6.861ae",
                "2ff98ab1.8da426",
                "46dc7d95.4c06c4",
                "304737db.ae6f58",
                "bbd1f9a3.442938"
            ]
        ]
    },
    {
        "id": "c27a2824.18ffe8",
        "type": "execute",
        "name": "patch PLMNInfoListEntry gNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoList-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-gNBCUUP-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 1741.9445495605469,
        "y": 2955.194511413574,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "17c00fc4.0c225",
                "828b843e.8f20a8"
            ]
        ]
    },
    {
        "id": "17c00fc4.0c225",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2038.3890190124512,
        "y": 2986.0835132598877,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "ac880ef2.b7ff8"
            ]
        ]
    },
    {
        "id": "ac880ef2.b7ff8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2227.6112899780273,
        "y": 2972.861393928528,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "b619434f.2071",
                "bdfa000d.a6bf6",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "bdfa000d.a6bf6",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2458.611301422119,
        "y": 2934.639319419861,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "b619434f.2071",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2485.8337936401367,
        "y": 2975.3060750961304,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "48625087.b9c9e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - gNBCUUP PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2400.944194793701,
        "y": 3016.9724130630493,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d5e14c57.5e601",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2214.611011505127,
        "y": 3022.5279817581177,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "48625087.b9c9e"
            ]
        ]
    },
    {
        "id": "828b843e.8f20a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2029.055519104004,
        "y": 3026.4169912338257,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "d5e14c57.5e601"
            ]
        ]
    },
    {
        "id": "21f29aee.0eff86",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1694.2777709960938,
        "y": 2754.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c4866ad0.39c4e8",
                "7473b922.9a0358"
            ]
        ]
    },
    {
        "id": "c4866ad0.39c4e8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1902.2777709960938,
        "y": 2719.749749183655,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "b3310007.d5e61"
            ]
        ]
    },
    {
        "id": "7473b922.9a0358",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1885.8334350585938,
        "y": 2770.6389875411987,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "3e7fc5f2.be339a"
            ]
        ]
    },
    {
        "id": "b3310007.d5e61",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry CUUP URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2222.2777709960938,
        "y": 2734.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "94e7e0a7.b58c3",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1705.9443969726562,
        "y": 2799.3057079315186,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "8be06558.e14bf8",
        "type": "set",
        "name": "RRMPolicyRatio id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+'].id'`\" />\n",
        "comments": "",
        "x": 2637.055938720703,
        "y": 2253.5274801254272,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "ba00bd4a.546d6",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value='`$tmp.rrmPolicyMembers+1`'/>\n",
        "comments": "",
        "x": 2648.055679321289,
        "y": 2289.4170446395874,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "821dc568.77ed88",
        "type": "set",
        "name": "Calculate rRMPolicyDedicatedRatio Temp",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio1' value='`$tmp.maxNumberOfDRBsPerCUUP*100`' />\n",
        "comments": "",
        "x": 1763.8335723876953,
        "y": 3064.973126411438,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "48166ee0.cdff5",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio-CUUP`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1667.6113014221191,
        "y": 3129.1949515342712,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "c9836807.47c9b8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1685.2777709960938,
        "y": 3169.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "ccf3c09b.00194",
                "daec73d6.40c28"
            ]
        ]
    },
    {
        "id": "ccf3c09b.00194",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1863.2777709960938,
        "y": 3136.749749183655,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "d83af7ba.bc8058"
            ]
        ]
    },
    {
        "id": "d83af7ba.bc8058",
        "type": "execute",
        "name": "fetch RRMPolicyRatio CUUP - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2158.277801513672,
        "y": 3082.7500495910645,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "1ba6a41f.c38c2c",
        "type": "execute",
        "name": "prepare idGNBCUUPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1722.2778549194336,
        "y": 3224.75000667572,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "43557902.4f4158",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - CUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-cuup-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1711.278091430664,
        "y": 3330.7500352859497,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "bf4d51cf.bdf42",
                "3a68aacb.1f5256"
            ]
        ]
    },
    {
        "id": "bf4d51cf.bdf42",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1968.2778663635254,
        "y": 3271.750171661377,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "de80ac45.5374a"
            ]
        ]
    },
    {
        "id": "de80ac45.5374a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2129.2780151367188,
        "y": 3290.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "5d79f9c5.14c278",
                "61c01400.b9f29c",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "61c01400.b9f29c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2295.2777709960938,
        "y": 3256.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "5d79f9c5.14c278",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in fetching RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2351.3885803222656,
        "y": 3300.639016151428,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "2ffa2827.57bd28",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2336.4998779296875,
        "y": 3396.3055725097656,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "73778204.755dcc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2331.499687194824,
        "y": 3339.972331047058,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "2c33dae2.508956",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2138.833236694336,
        "y": 3338.194640159607,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "73778204.755dcc",
                "2ffa2827.57bd28"
            ]
        ]
    },
    {
        "id": "3a68aacb.1f5256",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1959.2778663635254,
        "y": 3341.7501745224,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2c33dae2.508956"
            ]
        ]
    },
    {
        "id": "b151ef4e.63d69",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUUP - RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_CUUP_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1646.2779998779297,
        "y": 3466.750096321106,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "157cf93d.767517",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcuup-rrm' start='0' end='`$tmp.rrmPolicyRatioList_CUUP_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1683.9444427490234,
        "y": 3538.083430290222,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8c2cee50.77277"
            ]
        ]
    },
    {
        "id": "8c2cee50.77277",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1901.9443969726562,
        "y": 3565.083245277405,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "e6f36cff.5f7ac",
                "994124a.6a81ed8",
                "e93d3907.dbe0b8",
                "5971d0a9.8775a",
                "495b7e0.94ea084",
                "323b9ab7.0a7686",
                "4c95d3de.dafcac",
                "91bdd1cb.225b5",
                "74f76f8.3409a9"
            ]
        ]
    },
    {
        "id": "e6f36cff.5f7ac",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CUUP_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP + $tmp.rRMPolicyDedicatedRatio-CUUP`\" />",
        "comments": "",
        "x": 2226.9443969726562,
        "y": 3542.083245277405,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "e93d3907.dbe0b8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2194.9443740844727,
        "y": 3584.1944813728333,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c2e2c59a.964ca8",
                "70e9bf72.db75d"
            ]
        ]
    },
    {
        "id": "c2e2c59a.964ca8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2411.944496154785,
        "y": 3580.083065032959,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "29bbb805.9ee6c8"
            ]
        ]
    },
    {
        "id": "29bbb805.9ee6c8",
        "type": "execute",
        "name": "patch RRMPolicyRatio CUUP- URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2684.944366455078,
        "y": 3550.0836153030396,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "495b7e0.94ea084",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`$tmp.rrmPolicyMembers-CUUP+1`\" />",
        "comments": "",
        "x": 2198.833297729492,
        "y": 3735.8612957000732,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "994124a.6a81ed8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Updated RRMPolicyRatio for CUUP is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP_updated`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyRatio_id is - \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyMember_id CUUP is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field7\" value=\"Existing RRMPolicyMembers Length\"/>\n<parameter name=\"field8\" value=\"`$tmp.rrmPolicyMembers-CUUP`\"/>\n<parameter name=\"field9\" value=\"Update RRMPolicyRatio URL - \"/>\n<parameter name=\"field10\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2160.2780380249023,
        "y": 3768.7502479553223,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "5971d0a9.8775a",
        "type": "execute",
        "name": "patch CUUP- RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-CUUP-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2222.8333053588867,
        "y": 3805.1942443847656,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "e3174968.023078",
                "2c3ec3b8.faaecc"
            ]
        ]
    },
    {
        "id": "e3174968.023078",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2495.9443969726562,
        "y": 3756.083245277405,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "f53b4c9e.c5d56"
            ]
        ]
    },
    {
        "id": "f53b4c9e.c5d56",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2686.9443969726562,
        "y": 3756.083245277405,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2851387d.d21c18"
            ]
        ]
    },
    {
        "id": "2851387d.d21c18",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2871.9441528320312,
        "y": 3757.08348941803,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "a57054f0.8f2cf8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2953.9443969726562,
        "y": 3800.083245277405,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "799ed5ea.0660dc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2958.9442749023438,
        "y": 3895.083306312561,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "89b318ab.323c98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2713.9446411132812,
        "y": 3849.083245277405,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "799ed5ea.0660dc",
                "a57054f0.8f2cf8",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "2c3ec3b8.faaecc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2494.9443969726562,
        "y": 3844.083245277405,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "89b318ab.323c98"
            ]
        ]
    },
    {
        "id": "11b56769.6027f9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1640.6111907958984,
        "y": 3877.4168548583984,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "432a8afd.ff3744",
                "369fee46.9ff212",
                "e0eae9af.e47b18",
                "aaab029a.73315",
                "197ebca7.656673",
                "d0d818c6.4b2608",
                "27aaafdc.f134",
                "28f0e3bf.db6d3c",
                "7153e6fc.a20688",
                "3d2034c9.c91a4c",
                "4a3e020d.51ae0c"
            ]
        ]
    },
    {
        "id": "432a8afd.ff3744",
        "type": "execute",
        "name": "Update gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUUP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBCUUP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1944.8611907958984,
        "y": 3889.666790008545,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "f6e87948.f89288",
                "ab3317f.d87cee8"
            ]
        ]
    },
    {
        "id": "f6e87948.f89288",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2260.6111450195312,
        "y": 3849.41698551178,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "ba24cd75.0dfab"
            ]
        ]
    },
    {
        "id": "ab3317f.d87cee8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2247.111225128174,
        "y": 3899.166910171509,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "af3f3ee.4697ec"
            ]
        ]
    },
    {
        "id": "af3f3ee.4697ec",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2405.6110458374023,
        "y": 3927.666972398758,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "45a699a5.339a98"
            ]
        ]
    },
    {
        "id": "ba24cd75.0dfab",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2448.86141204834,
        "y": 3886.666910171509,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2988f3b4.0cd97c",
                "c023d158.5af6d",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "45a699a5.339a98",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2542.1112899780273,
        "y": 3941.16703414917,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "2988f3b4.0cd97c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating CUUP-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2707.3608932495117,
        "y": 3930.1669726371765,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "c023d158.5af6d",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - CUUP. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2616.1110763549805,
        "y": 3895.9167881011963,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "1ea853ee.e7636c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - CUUP. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2670.361110687256,
        "y": 4131.167035102844,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "cb3cd22b.a342e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating CUUP-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2666.610824584961,
        "y": 4172.416790962219,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "cc430433.e39b08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2486.8612899780273,
        "y": 4165.166974067688,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "cb3cd22b.a342e",
                "1ea853ee.e7636c",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "6184c0ce.94a5f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - CUUP RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2639.6111907958984,
        "y": 4219.416729927063,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "3600b138.5845ae",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2473.6111907958984,
        "y": 4218.416729927063,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "6184c0ce.94a5f"
            ]
        ]
    },
    {
        "id": "d164770d.eef5f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2292.6111907958984,
        "y": 4224.416485786438,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "3600b138.5845ae"
            ]
        ]
    },
    {
        "id": "c510da45.23cf18",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2286.3613204956055,
        "y": 4176.9168519973755,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "cc430433.e39b08"
            ]
        ]
    },
    {
        "id": "369fee46.9ff212",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUUP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1968.3612823486328,
        "y": 4218.16685295105,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c510da45.23cf18",
                "d164770d.eef5f8"
            ]
        ]
    },
    {
        "id": "ea01a433.33d248",
        "type": "block",
        "name": "Process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1106.0279922485352,
        "y": 3840.500594139099,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8ac3f0ad.30e56",
                "2b669098.1e82",
                "dd3d3af9.52d6f8"
            ]
        ]
    },
    {
        "id": "8ac3f0ad.30e56",
        "type": "execute",
        "name": "read DUlist size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.DUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1359.027931213379,
        "y": 3930.5006551742554,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "2b669098.1e82",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of DU List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.DUList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1327.0278816223145,
        "y": 3980.5007190704346,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "dd3d3af9.52d6f8",
        "type": "for",
        "name": "foreach DU",
        "xml": "<for index='id-du' start='0' end='`$tmp.DUList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1328.0280685424805,
        "y": 4023.500720024109,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "5091954e.43f6dc"
            ]
        ]
    },
    {
        "id": "5091954e.43f6dc",
        "type": "block",
        "name": "block : process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1590.0279273986816,
        "y": 4129.500475883484,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "ad634841.f1df18",
                "d1a41858.dbd2e8",
                "5b5b644f.dcb89c",
                "693e7bc8.1946f4"
            ]
        ]
    },
    {
        "id": "ad634841.f1df18",
        "type": "execute",
        "name": "read DU id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.GNBDUId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].gNBDUId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1864.0277709960938,
        "y": 4308.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d1a41858.dbd2e8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"GNBDUId \"/>\n<parameter name=\"field2\" value=\"`$tmp.GNBDUId`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1837.0277709960938,
        "y": 4359.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "5b5b644f.dcb89c",
        "type": "execute",
        "name": "read cellDU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList[' + $id-du +'].cellDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1878.0277709960938,
        "y": 4408.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "693e7bc8.1946f4",
        "type": "for",
        "name": "for cellDUList",
        "xml": "<for index='id-celldu' start='0' end='`$tmp.cellDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1868.0277709960938,
        "y": 4452.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2e61752a.3c32aa"
            ]
        ]
    },
    {
        "id": "8ca9297e.0bb688",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2894.7777709960938,
        "y": 4506.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "854a9c7d.7606",
                "6818c49e.7be4ac",
                "dccf3b3f.871b98",
                "90de618b.cad",
                "d8f0231.2a5b4e",
                "2b662b6d.42a6c4",
                "12ff3e46.f96772",
                "bd503cb1.d0e98",
                "de0d36d5.d71918",
                "63c4b3a7.33644c",
                "42884319.8bf8dc",
                "d815d930.ba6bb8"
            ]
        ]
    },
    {
        "id": "bd503cb1.d0e98",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CellDU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3089.7777709960938,
        "y": 4501.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "12ff3e46.f96772",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3117.7777709960938,
        "y": 4569.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "96175473.d9eb48",
                "6b0e69e0.617508"
            ]
        ]
    },
    {
        "id": "96175473.d9eb48",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3325.7777709960938,
        "y": 4534.499749183655,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "d039005a.704dc"
            ]
        ]
    },
    {
        "id": "6b0e69e0.617508",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3320.777820587158,
        "y": 4603.500317573547,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "21313198.fd408e"
            ]
        ]
    },
    {
        "id": "d039005a.704dc",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3645.7777709960938,
        "y": 4549.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "854a9c7d.7606",
        "type": "execute",
        "name": "read cellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3114.7779235839844,
        "y": 4657.500237464905,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "90de618b.cad",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3169.7779846191406,
        "y": 4722.500175476074,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d8f0231.2a5b4e",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3142.7781677246094,
        "y": 4777.500177383423,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "2b662b6d.42a6c4",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 3122.777862548828,
        "y": 4840.500483512878,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "6818c49e.7be4ac",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3124.778106689453,
        "y": 4898.500116348267,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "dccf3b3f.871b98",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.GNBDUId`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellDULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3128.7779846191406,
        "y": 4944.500733375549,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "de0d36d5.d71918",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3183.7779846191406,
        "y": 4990.7500014305115,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "218c5ac9.adcf96",
                "9be6e332.adf83"
            ]
        ]
    },
    {
        "id": "9be6e332.adf83",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3432.3493366241455,
        "y": 4831.750117301941,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "bec61c09.9b2b7"
            ]
        ]
    },
    {
        "id": "218c5ac9.adcf96",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3438.492027282715,
        "y": 4887.892823219299,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "7408d31.0dc862c"
            ]
        ]
    },
    {
        "id": "bec61c09.9b2b7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3608.920944213867,
        "y": 4831.178339958191,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "13752f4e.dc57d1",
                "a3fa5004.f668b",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "7408d31.0dc862c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3592.206329345703,
        "y": 4887.749948501587,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "b2c21e16.d6e5b"
            ]
        ]
    },
    {
        "id": "b2c21e16.d6e5b",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3629.635021209717,
        "y": 4953.892745018005,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "13752f4e.dc57d1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NECellDU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3795.6347579956055,
        "y": 4907.892684936523,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "a3fa5004.f668b",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3777.7777709960938,
        "y": 4855.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "63c4b3a7.33644c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2988.0277709960938,
        "y": 5314.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "1f3099be.fd0396",
                "428380a3.2e5c6",
                "77470c30.7ccea4",
                "1ad44e5f.06dc02",
                "54740594.78e32c",
                "e7a02896.74e638",
                "36f9af95.9beb7",
                "517677f0.6d4018",
                "9f04c1f2.bf256",
                "8e869cc0.cfb58"
            ]
        ]
    },
    {
        "id": "1f3099be.fd0396",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3210.0277709960938,
        "y": 5220.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8c2e0cd.722b2f",
                "3185509b.b104a"
            ]
        ]
    },
    {
        "id": "3185509b.b104a",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3458.742477416992,
        "y": 5233.036768913269,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "223eb619.f4921a"
            ]
        ]
    },
    {
        "id": "223eb619.f4921a",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3653.0276794433594,
        "y": 5171.179366111755,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "428380a3.2e5c6",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3245.0277709960938,
        "y": 5292.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "77470c30.7ccea4",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3210.0277709960938,
        "y": 5344.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "1ad44e5f.06dc02",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-du-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3245.0277709960938,
        "y": 5419.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "77060035.b3e31",
                "8c4eb3c3.ad48"
            ]
        ]
    },
    {
        "id": "77060035.b3e31",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3492.0277709960938,
        "y": 5392.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "38aa7b88.8cc164"
            ]
        ]
    },
    {
        "id": "8c4eb3c3.ad48",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3496.0277709960938,
        "y": 5471.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "af08c4f9.c8c558"
            ]
        ]
    },
    {
        "id": "38aa7b88.8cc164",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3660.0282440185547,
        "y": 5403.607346534729,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "85bd27d6.ac5078",
                "560e6dc6.7ff184",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "560e6dc6.7ff184",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3816.0277709960938,
        "y": 5306.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "85bd27d6.ac5078",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3821.0276489257812,
        "y": 5401.750054359436,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "af08c4f9.c8c558",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3660.0276489257812,
        "y": 5472.750115394592,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "6568d8a0.54f4a8",
                "f8fa3865.3b8818"
            ]
        ]
    },
    {
        "id": "6568d8a0.54f4a8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3817.1708221435547,
        "y": 5444.892781257629,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "f8fa3865.3b8818",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3825.027862548828,
        "y": 5482.17870426178,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "54740594.78e32c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioDUList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3182.5991821289062,
        "y": 5552.035391807556,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "e7a02896.74e638",
        "type": "block",
        "name": "rrmPolicyDedicatedRatio",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3244.741867542267,
        "y": 5099.035620689392,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c8f8181b.bc8a58",
                "3468bb65.a0fb14",
                "cfb5acf8.f3faa",
                "b50cab3a.7d6a28",
                "54ff605d.37b67",
                "ab9b5495.2642d8",
                "f5338014.ba63",
                "aff055e3.016bb8",
                "7ed07848.a83168",
                "77504964.a2aa18",
                "f15200d5.f48dd"
            ]
        ]
    },
    {
        "id": "cfb5acf8.f3faa",
        "type": "set",
        "name": "Calculate RRM Parms1",
        "xml": "<set>\n<parameter name='tmp.uLThptPerSlice' value='`$payloadJson.input.sliceProfile.uLThptPerSlice`' />\n",
        "comments": "",
        "x": 4213.017578125,
        "y": 4885.0727462768555,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "b50cab3a.7d6a28",
        "type": "set",
        "name": "Calculate RRM Parms2",
        "xml": "<set>\n<parameter name='tmp.dLThptPerSlice' value='`$payloadJson.input.sliceProfile.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4221.558837890625,
        "y": 4930.092765748501,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "54ff605d.37b67",
        "type": "set",
        "name": "Calculate RRM Parms3",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConns' value='`$payloadJson.input.sliceProfile.maxNumberOfConns`' />",
        "comments": "",
        "x": 4211.5589599609375,
        "y": 4985.092643678188,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "ab9b5495.2642d8",
        "type": "set",
        "name": "Calculate RRM Parms4",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity1' value='`$tmp.uLThptPerSlice + $tmp.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4211.558837890625,
        "y": 5036.092643737793,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "f5338014.ba63",
        "type": "set",
        "name": "Calculate RRM Parms5",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity' value='`$tmp.nearRTRIC.trafficCapacity1 / 2`' />",
        "comments": "",
        "x": 4199.5589599609375,
        "y": 5096.092765748501,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "aff055e3.016bb8",
        "type": "set",
        "name": "Calculate RRM Parms6",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacityBPS' value='`$tmp.nearRTRIC.trafficCapacity * 1000000`' />",
        "comments": "",
        "x": 4237.558837890625,
        "y": 5146.092765748501,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "7ed07848.a83168",
        "type": "set",
        "name": "Calculate RRM Parms7",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.totalPRBForSNSSAI' value='`$tmp.nearRTRIC.trafficCapacityBPS / 1008000`' />\n",
        "comments": "",
        "x": 4224.558776855469,
        "y": 5216.093132019043,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "77504964.a2aa18",
        "type": "set",
        "name": "calculation8",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.PRBPerImpactedCell' value='`$tmp.nrcelldu.totalPRBForSNSSAI / $tmp.cellDUList_length`' />\n",
        "comments": "",
        "x": 4195.558776855469,
        "y": 5280.092155456543,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "f15200d5.f48dd",
        "type": "set",
        "name": "calculation9",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU1' value='`$tmp.nrcelldu.PRBPerImpactedCell * 100`' />\n",
        "comments": "",
        "x": 4183.559326171875,
        "y": 5331.0920333862305,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "3468bb65.a0fb14",
        "type": "set",
        "name": "calculation10",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU' value='`$tmp.rRMPolicyDedicatedRatio.CellDU1 / $prop.nrcelldu.TotalPRBsPerCell`' />\n",
        "comments": "",
        "x": 4159.017639160156,
        "y": 5397.0725021362305,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "c8f8181b.bc8a58",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio for CellDU \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>\n<parameter name=\"field3\" value=\"tmp.nearRTRIC.trafficCapacity1 \"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.trafficCapacity1`\"/>\n<parameter name=\"field5\" value=\"tmp.nearRTRIC.trafficCapacity \"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.trafficCapacity`\"/>\n<parameter name=\"field7\" value=\"tmp.nearRTRIC.trafficCapacityBPS\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRIC.trafficCapacityBPS`\"/>\n<parameter name=\"field9\" value=\"tmp.nrcelldu.totalPRBForSNSSAI \"/>\n<parameter name=\"field10\" value=\"`$tmp.nrcelldu.totalPRBForSNSSAI`\"/>\n<parameter name=\"field11\" value=\"tmp.nrcelldu.PRBPerImpactedCell \"/>\n<parameter name=\"field12\" value=\"`$tmp.nrcelldu.PRBPerImpactedCell`\"/>\n<parameter name=\"field13\" value=\"tmp.rRMPolicyDedicatedRatio.CellDU1 \"/>\n<parameter name=\"field14\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU1`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3985.0275650024414,
        "y": 5409.193808555603,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "36f9af95.9beb7",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='iddu-rrm' start='0' end='`$tmp.rrmPolicyRatioDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3205.2777709960938,
        "y": 5598.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "d26b6e59.02e24"
            ]
        ]
    },
    {
        "id": "d26b6e59.02e24",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3426.2777709960938,
        "y": 5618.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c4eda641.393e38",
                "895911c8.825af",
                "1c77de16.c5c312",
                "51620ac7.2631e4",
                "bb00cbfa.ae7d18",
                "16cb87b2.5be1d8",
                "52ba99b7.987b88",
                "4ff78ad7.0a8bd4",
                "8d0864dd.8c8528",
                "63a19143.589a9"
            ]
        ]
    },
    {
        "id": "c4eda641.393e38",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellDU_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_cellDU-old + $tmp.rRMPolicyDedicatedRatio.CellDU`\" />",
        "comments": "",
        "x": 3752.706283569336,
        "y": 5558.607483386993,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "1c77de16.c5c312",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3697.8495330810547,
        "y": 5602.464260101318,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "90686092.5480b",
                "f3ac1470.9f0a28"
            ]
        ]
    },
    {
        "id": "90686092.5480b",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3893.5635299682617,
        "y": 5593.749746322632,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "d65c36b4.b13ff8"
            ]
        ]
    },
    {
        "id": "d65c36b4.b13ff8",
        "type": "execute",
        "name": "patchRRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4211.277988433838,
        "y": 5563.036683082581,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "bb00cbfa.ae7d18",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`$tmp.RRMPolicyMembersDU_Length+1`\" />",
        "comments": "",
        "x": 3682.8493041992188,
        "y": 5770.321383476257,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "895911c8.825af",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioid - \"/>\n<parameter name=\"field2\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyMemberid- \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field5\" value=\"Updated RRMPolicyRatio for CellDU is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.rrmPolicyDedicatedRatio_CellDU_updated`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3658.4208221435547,
        "y": 5810.036261558533,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "51620ac7.2631e4",
        "type": "execute",
        "name": "patch NRCellDU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3742.5635681152344,
        "y": 5846.3214864730835,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "fa066444.802018",
                "867f45b5.2aa548"
            ]
        ]
    },
    {
        "id": "fa066444.802018",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4020.2777709960938,
        "y": 5809.749764442444,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "e6fdee9b.4cad3"
            ]
        ]
    },
    {
        "id": "e6fdee9b.4cad3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4211.277770996094,
        "y": 5809.749764442444,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "b5661953.85d578"
            ]
        ]
    },
    {
        "id": "b5661953.85d578",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4396.277526855469,
        "y": 5810.750008583069,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "ebe1df71.0820d",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4478.277770996094,
        "y": 5853.749764442444,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "14b7d895.4babb7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating RRMPolicyRatio for NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4483.277648925781,
        "y": 5948.7498254776,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "48902170.44222",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4215.778049468994,
        "y": 5851.500406742096,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "14b7d895.4babb7",
                "ebe1df71.0820d",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "867f45b5.2aa548",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4029.277862548828,
        "y": 5857.750407218933,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "48902170.44222"
            ]
        ]
    },
    {
        "id": "42884319.8bf8dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2940.777862548828,
        "y": 5902.75009059906,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "16890fa5.e64db",
                "aec15b06.02fe68",
                "e4ce6413.ed6fd8",
                "8e49b3c8.74b25",
                "ee5b9b09.ca97c8",
                "176390ef.cbac9f",
                "48796b63.39bec4",
                "3087ba3a.ed4566",
                "68990179.2bf66",
                "89e3c3a4.70c62"
            ]
        ]
    },
    {
        "id": "16890fa5.e64db",
        "type": "execute",
        "name": "Update cellDU for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBDU`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBDU.json\n'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3403.7777709960938,
        "y": 5910.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2d8902f3.e33f8e",
                "7e64488b.4a4c58"
            ]
        ]
    },
    {
        "id": "2d8902f3.e33f8e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3690.7777709960938,
        "y": 5881.750237464905,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "a2b007bf.eb5648"
            ]
        ]
    },
    {
        "id": "7e64488b.4a4c58",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3691.0279846191406,
        "y": 5920.250407218933,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "31372a2.f90eed6"
            ]
        ]
    },
    {
        "id": "31372a2.f90eed6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3864.5277976989746,
        "y": 5941.250164985657,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "9c01d7e3.c1cee8"
            ]
        ]
    },
    {
        "id": "a2b007bf.eb5648",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3884.027862548828,
        "y": 5904.000409126282,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2516ca3.9ce6f36",
                "cf1f0edd.a9376",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "cf1f0edd.a9376",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4087.5276832580566,
        "y": 5907.000285461545,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "9c01d7e3.c1cee8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4077.278045654297,
        "y": 5978.500531196594,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "2516ca3.9ce6f36",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4102.527496337891,
        "y": 5946.250164985657,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "6de737e8.019fd8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4101.777557373047,
        "y": 6207.250532150269,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "39b9f4ac.e5765c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4121.777683258057,
        "y": 6248.500533103943,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "351456c3.606afa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3912.028045654297,
        "y": 6240.000166893005,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "39b9f4ac.e5765c",
                "6de737e8.019fd8",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "190dc42c.27b26c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3719.0279235839844,
        "y": 6214.250044822693,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "351456c3.606afa"
            ]
        ]
    },
    {
        "id": "aec15b06.02fe68",
        "type": "execute",
        "name": "Update RRMPolicy for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-DU.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3424.777816772461,
        "y": 6196.749981880188,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "190dc42c.27b26c",
                "ee3128b4.0da778"
            ]
        ]
    },
    {
        "id": "ee3128b4.0da778",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3722.777816772461,
        "y": 6256.749737739563,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "57dc382f.00fb78"
            ]
        ]
    },
    {
        "id": "57dc382f.00fb78",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3905.0279846191406,
        "y": 6300.750289916992,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "1f81d34d.b9bc8d"
            ]
        ]
    },
    {
        "id": "1f81d34d.b9bc8d",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellDU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4069.778045654297,
        "y": 6305.500045776367,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "dd5a532a.31de7",
        "type": "block",
        "name": "block : SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4562.762145996094,
        "y": 2802.749995946884,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "4993a717.46f8a8",
                "a189426a.e06f",
                "407cd551.8c0b3c"
            ]
        ]
    },
    {
        "id": "4993a717.46f8a8",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.so.callbackURL\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiateRANSlice-input.common-header.request-id`\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiateRANSlice-input.action`\"/>\n",
        "comments": "",
        "x": 5224.763122558594,
        "y": 2594.649654150009,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "a189426a.e06f",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$tmp.so.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />",
        "comments": "",
        "outputs": 1,
        "x": 5199.762008666992,
        "y": 2691.7503316402435,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "407cd551.8c0b3c",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$tmp.so.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-modify-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 5114.762020111084,
        "y": 2788.750209569931,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "5c35317c.25782",
                "406c58b9.0af8e8"
            ]
        ]
    },
    {
        "id": "5c35317c.25782",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5340.762028694153,
        "y": 2765.7501785755157,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "e738ce4d.3ec9a"
            ]
        ]
    },
    {
        "id": "406c58b9.0af8e8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5330.761882781982,
        "y": 2873.7501180171967,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "81c7f73b.bb5988"
            ]
        ]
    },
    {
        "id": "81c7f73b.bb5988",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5480.761669158936,
        "y": 2892.750179052353,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "685257c1.dbd598"
            ]
        ]
    },
    {
        "id": "e738ce4d.3ec9a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5491.7618980407715,
        "y": 2760.7503006458282,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "6fc8ce12.ffbf7"
            ]
        ]
    },
    {
        "id": "6fc8ce12.ffbf7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 5657.761577606201,
        "y": 2763.7501180171967,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "685257c1.dbd598",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 5644.761684417725,
        "y": 2898.7501180171967,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "1801c640.1eb6aa",
        "type": "block",
        "name": "SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 644.7621459960938,
        "y": 4484.749995946884,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2c6206d.6de70fa",
                "1ddffe68.aee752",
                "2cffaaba.2b0726",
                "d4ac5731.8f4448"
            ]
        ]
    },
    {
        "id": "2cffaaba.2b0726",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiate-r-a-n-slice-input.common-header.request-id `\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiate-r-a-n-slice-input.action`\"/>\n",
        "comments": "",
        "x": 924.7632904052734,
        "y": 4334.649480581284,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "2c6206d.6de70fa",
        "type": "record",
        "name": "record SO reply parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$payloadJson.input.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />",
        "comments": "",
        "outputs": 1,
        "x": 921.7621231079102,
        "y": 4488.750179052353,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "1ddffe68.aee752",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />\n<parameter name=\"restapiUser\" value=\"`$prop.restapi.so.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.restapi.so.password`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 790.7622222900391,
        "y": 4605.749883413315,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "a55efb74.e8f6e8",
                "48bc51e1.3154e"
            ]
        ]
    },
    {
        "id": "a55efb74.e8f6e8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 955.7622222900391,
        "y": 4585.7498824596405,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "d66ff12f.16632"
            ]
        ]
    },
    {
        "id": "48bc51e1.3154e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 947.7621154785156,
        "y": 4658.749832868576,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "9a5e9c9.84c586"
            ]
        ]
    },
    {
        "id": "9a5e9c9.84c586",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1093.7619590759277,
        "y": 4663.749941587448,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "229f34c3.38d9cc"
            ]
        ]
    },
    {
        "id": "d66ff12f.16632",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1104.7621231079102,
        "y": 4581.750017881393,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "95dd5894.9881e8",
                "6e82bdb4.1291d4"
            ]
        ]
    },
    {
        "id": "95dd5894.9881e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 1251.7617416381836,
        "y": 4592.749759435654,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "229f34c3.38d9cc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1254.7618789672852,
        "y": 4669.74983382225,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "6e82bdb4.1291d4",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error sending SO response. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1239.2723503112793,
        "y": 4496.739250898361,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "d4ac5731.8f4448",
        "type": "execute",
        "name": "generate URL for SO Callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.so.callbackURL`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.so.callbackURL\"/>\n    <parameter name=\"target\" value=\"{requestId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.requestID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 944.1017456054688,
        "y": 4424.735333204269,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "7f6e77c.a8aac88",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2346.2777709960938,
        "y": 1799.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "d8f59417.85a648"
            ]
        ]
    },
    {
        "id": "d8f59417.85a648",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2539.2674293518066,
        "y": 1799.7501153945923,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "d6105a5.b6d1ea8",
                "222f51f0.5525ce"
            ]
        ]
    },
    {
        "id": "d6105a5.b6d1ea8",
        "type": "execute",
        "name": "generate fetchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2846.2676162719727,
        "y": 1766.7502164840698,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "222f51f0.5525ce",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2790.2680168151855,
        "y": 1819.750410079956,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "b5b52336.410c8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2773.7777709960938,
        "y": 1183.7499933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c34315fa.1db498",
                "6d09e853.849f08"
            ]
        ]
    },
    {
        "id": "6d09e853.849f08",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3024.7782020568848,
        "y": 1206.7501258850098,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "c34315fa.1db498",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3080.777801513672,
        "y": 1153.7499322891235,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "af2d8803.1f17e8",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3262.3337936401367,
        "y": 2189.638879776001,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "5834fa69.5c6e14",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3320.5557708740234,
        "y": 2146.6389694213867,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "2e20d9b3.457fa6",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3036.8885040283203,
        "y": 2148.527316093445,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "5834fa69.5c6e14",
                "af2d8803.1f17e8"
            ]
        ]
    },
    {
        "id": "e3bb4f1.511c9b",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2872.7879180908203,
        "y": 2148.5279393196106,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2e20d9b3.457fa6"
            ]
        ]
    },
    {
        "id": "7e48e4bd.28eafc",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2313.2777709960938,
        "y": 2836.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "b8c91b91.bc1ed8",
        "type": "execute",
        "name": "generate patchPLMNInfoList.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2369.277370452881,
        "y": 2783.7497997283936,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "3e7fc5f2.be339a",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2050.6107215881348,
        "y": 2779.305579185486,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "b8c91b91.bc1ed8",
                "7e48e4bd.28eafc"
            ]
        ]
    },
    {
        "id": "ec1ec2d5.64a1",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2093.2777709960938,
        "y": 3180.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "22c23be2.23e954",
                "132387bc.eb1048"
            ]
        ]
    },
    {
        "id": "22c23be2.23e954",
        "type": "execute",
        "name": "fetch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2395.2777061462402,
        "y": 3140.750054359436,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "132387bc.eb1048",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2339.278106689453,
        "y": 3193.7502479553223,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "daec73d6.40c28",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1865.7777709960938,
        "y": 3189.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "ec1ec2d5.64a1"
            ]
        ]
    },
    {
        "id": "70e9bf72.db75d",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2410.555721282959,
        "y": 3613.5277214050293,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8f68384b.4bdba8"
            ]
        ]
    },
    {
        "id": "8f68384b.4bdba8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2625.8333778381348,
        "y": 3591.1944494247437,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "7f8b4700.95f468",
                "92b538c5.19ca88"
            ]
        ]
    },
    {
        "id": "7f8b4700.95f468",
        "type": "execute",
        "name": "patch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2932.2777061462402,
        "y": 3586.750054359436,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "92b538c5.19ca88",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2876.278106689453,
        "y": 3639.7502479553223,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "21313198.fd408e",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3515.7777709960938,
        "y": 4618.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "b8295417.a1dfa8",
                "d6d6f49f.c6e468"
            ]
        ]
    },
    {
        "id": "b8295417.a1dfa8",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3822.777801513672,
        "y": 4588.7499322891235,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d6d6f49f.c6e468",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3766.7782020568848,
        "y": 4641.75012588501,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "8c2e0cd.722b2f",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3453.9564895629883,
        "y": 5287.464415550232,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "5c6cdb05.94d3d4"
            ]
        ]
    },
    {
        "id": "5c6cdb05.94d3d4",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3585.2425689697266,
        "y": 5314.285113334656,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "9b4abfa0.2e116",
                "50af952f.c2746c"
            ]
        ]
    },
    {
        "id": "9b4abfa0.2e116",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3826.527820587158,
        "y": 5206.999590873718,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "50af952f.c2746c",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3769.528308868408,
        "y": 5267.999957084656,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "f3ac1470.9f0a28",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3888.2421875,
        "y": 5633.893160820007,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "568823eb.c15dec"
            ]
        ]
    },
    {
        "id": "568823eb.c15dec",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4046.671443939209,
        "y": 5645.0000076293945,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "808dce4b.d2c8d",
                "81b47bd.3567288"
            ]
        ]
    },
    {
        "id": "808dce4b.d2c8d",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4296.527542114258,
        "y": 5607.714659690857,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "81b47bd.3567288",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4235.24259185791,
        "y": 5657.285738945007,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d966e0a4.06f35",
        "type": "comment",
        "name": "instantiateRANSlice-ModifyAllocate",
        "info": "",
        "comments": "",
        "x": 783.0277557373047,
        "y": 69.99999618530273,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "ed3c9a78.956f38",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"SUCCESSFUL Execution\" />",
        "comments": "",
        "x": 293.298583984375,
        "y": 1486.1041193008423,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "2fed7838.3e4478",
        "type": "execute",
        "name": "set  sNSSAI",
        "xml": "<set>\n<parameter name='tmp.sNSSAI' value='`$tmp.payload.sNSSAI`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 727.0277404785156,
        "y": 214.0000057220459,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "c7cf6a0a.7602d8",
        "type": "set",
        "name": "Calculate maxNumberOfConnsPercellCU * 100",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellCU1' value='`$tmp.maxNumberOfConnsPercellCU * 100`' />\n",
        "comments": "",
        "x": 2209.7778491973877,
        "y": 1675.2500095367432,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "1a62fde5.66d4f2",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio_SliceProfile' value='`$tmp.rRMPolicyDedicatedRatio.CellCU1 / $prop.nrcellcu.maxNumberOfConnsPerCell`' />",
        "comments": "",
        "x": 2161.7778491973877,
        "y": 1713.2500095367432,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "286ddbec.57d7c4",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioList_length' value='`$get-rrmpolicyratio-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 2196.0277576446533,
        "y": 2002.250135421753,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "cb603df3.12a5a",
        "type": "execute",
        "name": "read rrmPolicyDedicatedRatio_cellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatiocellCU_old' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2662.0277576446533,
        "y": 2075.000078201294,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "51b41b66.216574",
        "type": "block",
        "name": "Get Cells List in TA",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 482.27777099609375,
        "y": 872.0000157356262,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "faf6dcc0.4a777",
                "d2bb3cf4.20a25",
                "3b9e8228.6b4d7e"
            ]
        ]
    },
    {
        "id": "faf6dcc0.4a777",
        "type": "execute",
        "name": "generate getListOfCells URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getListOfCells`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getListOfCells.url\"/>\n    <parameter name=\"target\" value=\"{trackingArea}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.trackingArea`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 758.7778930664062,
        "y": 1000.4999394416809,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d2bb3cf4.20a25",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for configDB Get getListOfCells for tracking area\"/>\n<parameter name='field2' value=\"`$prop.configdb.url + $tmp.configdb.getListOfCells.url`\" />\n<parameter name='field3' value=\"`$tmp.payload.trackingArea`\" />",
        "comments": "",
        "outputs": 1,
        "x": 758.7779159545898,
        "y": 1042.2502136230469,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "3b9e8228.6b4d7e",
        "type": "execute",
        "name": "Get ListOfCells for TrackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getListOfCells.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getListofCells-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 744.2778930664062,
        "y": 1094.0000925064087,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "822850d6.990ce",
                "b3f26a14.d5d5c8"
            ]
        ]
    },
    {
        "id": "822850d6.990ce",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1074.2776184082031,
        "y": 927.0001354217529,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "a262f43a.5283d8"
            ]
        ]
    },
    {
        "id": "b3f26a14.d5d5c8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1068.2775421142578,
        "y": 973.0001220703125,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "be9b511e.c44ae"
            ]
        ]
    },
    {
        "id": "be9b511e.c44ae",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1218.2772674560547,
        "y": 974.0001683235168,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "73fca4fd.b7362c",
                "e98da22b.3aff5",
                "8fe33e85.79785"
            ]
        ]
    },
    {
        "id": "73fca4fd.b7362c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained List of Cells from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getListofCells-configdb-response._length`\"/>\n<parameter name=\"field3\" value=\"List of Cells in the Tracking Area Relevant for RAN Slice Instantiation \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1407.277328491211,
        "y": 887.0001220703125,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "8fe33e85.79785",
        "type": "for",
        "name": "For list of cells",
        "xml": "<for index='idx' start='0' end='`$getListofCells-configdb-response._length `' >",
        "comments": "",
        "outputs": 1,
        "x": 1416.2984313964844,
        "y": 924.6663513183594,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2d309897.8f3dc8",
                "93a840ae.96884"
            ]
        ]
    },
    {
        "id": "e98da22b.3aff5",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1387.055648803711,
        "y": 972.0001373291016,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "2d309897.8f3dc8",
        "type": "execute",
        "name": "Cells in TrackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.trackingarea.cell' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $idx + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1621.2982788085938,
        "y": 874.3328857421875,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "93a840ae.96884",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.trackingarea.cell`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1574.2982788085938,
        "y": 917.6662607192993,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "a262f43a.5283d8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1235.2774963378906,
        "y": 897.0000600814819,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "796502a3.c2f65c",
                "8a99cf77.1c2c8"
            ]
        ]
    },
    {
        "id": "8a99cf77.1c2c8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1494.2777099609375,
        "y": 793.1111373901367,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "796502a3.c2f65c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1479.2773742675781,
        "y": 837.0001373291016,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "3fcfd799.26f778",
        "type": "for",
        "name": "foreach TACell",
        "xml": "<for index='id-ta' start='0' end='`$getListofCells-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2084.361152648926,
        "y": 951.3612060546875,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "fe79e9a1.bd9268"
            ]
        ]
    },
    {
        "id": "3adedaf9.ad7a56",
        "type": "switchNode",
        "name": "is cellCU applicable for NSSAI",
        "xml": "<switch test='`$tmp.cellCULocalId == $tmp.cellCU2`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2333.2777709960938,
        "y": 886.4999933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "14792223.bbe25e"
            ]
        ]
    },
    {
        "id": "14792223.bbe25e",
        "type": "outcome",
        "name": "Applicable",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2274.2777709960938,
        "y": 959.4999933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "882e7a80.d74e58"
            ]
        ]
    },
    {
        "id": "fe79e9a1.bd9268",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2126.2777709960938,
        "y": 786.4999933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "3adedaf9.ad7a56",
                "4f62074b.7611d8",
                "bdd0d419.d8f3f8"
            ]
        ]
    },
    {
        "id": "4f62074b.7611d8",
        "type": "execute",
        "name": "read Cell from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].cellCUList['+ $idcu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2452.2777709960938,
        "y": 729.4999933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "bdd0d419.d8f3f8",
        "type": "execute",
        "name": "read cellCU from getListofCells-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCU2' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $id-ta + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2462.2777709960938,
        "y": 794.4999933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "c282a260.9d8de",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio_id is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyMember_id - \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyRatio update URL is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2607.472267150879,
        "y": 2319.6111402511597,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "b3c3cf99.6f492",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2892.194320678711,
        "y": 2185.444308280945,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "8f54fffc.9c001",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2886.7497787475586,
        "y": 2215.4445486068726,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "148d5e51.205352",
        "type": "execute",
        "name": "read rrmPolicyMemberListLength",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyMembers' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2897.472396850586,
        "y": 2248.777892112732,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "8f418c29.a17f4",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.cellLocalId' value='`$tmp.cellCULocalId`'/>\n<parameter name='tmp.payload.pLMNId' value='`$tmp.pLMNId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n<parameter name='tmp.gNBCUCPList.gNBCUName' value='`$tmp.CUCPName`'/>\n<parameter name='tmp.gNBCUCPList.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.gNBCUCPList.nFType' value='RRC Connected Users'/>\n    ",
        "comments": "",
        "x": 1985.0001029968262,
        "y": 2250.4444789886475,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "ca3912f.d1798f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"cellLocalId\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellLocalId`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field6\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"gNBCUName\"/>\n<parameter name=\"field8\" value=\"`$tmp.gNBCUCPList.gNBCUName`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBCUCPList.gNBId`\"/>\n<parameter name=\"field11\" value=\"nFType\"/>\n<parameter name=\"field12\" value=\"`$tmp.gNBCUCPList.nFType`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1971.4999504089355,
        "y": 2292.6666173934937,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "29ac3d55.731702",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Config DB update\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1955.2152709960938,
        "y": 2207.24999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "ecf0eb94.11b9d8",
        "type": "execute",
        "name": "get PLMNId URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getplmn`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getPLMNId.url\"/>\n    <parameter name=\"target\" value=\"{sliceProfileId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.sliceProfileId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 761.4652709960938,
        "y": 393.1874933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "83908c36.67ca7",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Get PLMN from SliceProfileId URL: \"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getPLMNId.url`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 734.9653396606445,
        "y": 436.1875276565552,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "af70e055.a55d3",
        "type": "execute",
        "name": "Get PLMN from Sliceprofile id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getPLMNId.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getPLMN-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 802.7152709960938,
        "y": 479.1874809265137,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "16b504ec.cfbb6b",
                "787f632a.4559bc"
            ]
        ]
    },
    {
        "id": "1b3d2270.9f737e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.pLMNId`\"/>\n<parameter name=\"field2\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field3\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 748.2088241577148,
        "y": 638.6809701919556,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "6c2905b1.5d124c",
        "type": "execute",
        "name": "find MCC",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='substring'>\n    <parameter name=\"string\" value=\"`$tmp.pLMNId`\" />\n    <parameter name=\"result\" value=\"tmp.mcc\"/>\n    <parameter name=\"begin-index\" value=\"0\" />\n    <parameter name=\"end-index\" value=\"3\" />",
        "comments": "",
        "outputs": 1,
        "x": 743.7152709960938,
        "y": 559.4376137256622,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "3abeea9c.1b2eb6",
        "type": "execute",
        "name": "find MNC",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='substring'>\n    <parameter name=\"string\" value=\"`$tmp.pLMNId`\" />\n    <parameter name=\"result\" value=\"tmp.mnc\"/>\n    <parameter name=\"begin-index\" value=\"4\" />",
        "comments": "",
        "outputs": 1,
        "x": 747.4653472900391,
        "y": 596.6874465942383,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "ade269f7.3d78c8",
        "type": "block",
        "name": "get PLMNId",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 496.4652786254883,
        "y": 503.1874990463257,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "ecf0eb94.11b9d8",
                "83908c36.67ca7",
                "af70e055.a55d3",
                "6c2905b1.5d124c",
                "3abeea9c.1b2eb6",
                "1b3d2270.9f737e",
                "cea464b4.22b448"
            ]
        ]
    },
    {
        "id": "cea464b4.22b448",
        "type": "set",
        "name": "set PLMNId",
        "xml": "<set>\n<parameter name='tmp.pLMNId' value='`$getPLMN-configdb-response.plmnId`'/>",
        "comments": "",
        "x": 759.9028282165527,
        "y": 517.875,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "16b504ec.cfbb6b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1040.2152709960938,
        "y": 484.4374933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "29352de3.1f0e32"
            ]
        ]
    },
    {
        "id": "29352de3.1f0e32",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1213.215072631836,
        "y": 473.43756580352783,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "3bc43a09.4c5556",
                "d5e7d38e.57b25"
            ]
        ]
    },
    {
        "id": "3bc43a09.4c5556",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained PLMNId info from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getPLMN-configdb-response`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1413.96480178833,
        "y": 473.18759059906006,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d5e7d38e.57b25",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1449.7430152893066,
        "y": 516.4375991821289,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "295dcd8f.d34882",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellCU' value='`$tmp.rrmPolicyDedicatedRatio_CellCU_new`'/>\n<parameter name='tmp.payload.pLMNId' value='`$tmp.pLMNId`'/>\n<parameter name='tmp.payload.sNSSAI' value='`$tmp.sNSSAI`'/>\n<parameter name='prop.configDB.rrmPolicyID' value='`$getrrmpolicyratioinfo-configdb-response.rrmPolicyID`'/>\n<parameter name='tmp.resourceID' value='`$tmp.cellCULocalId`'/>",
        "comments": "",
        "x": 2020.8404083251953,
        "y": 2510.0625562667847,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "e67c1235.a668b",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellCU`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1986.0902366638184,
        "y": 2561.0345702171326,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "4639f97.7feb608",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"RRC Connected Users\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2069.249984741211,
        "y": 2369.0556211471558,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "30531c3.32959e4",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfo-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 2071.638687133789,
        "y": 2473.2220945358276,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "41528a78.b36974",
                "d30b0dd8.157b5"
            ]
        ]
    },
    {
        "id": "79add8fe.1d3c58",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2024.8054656982422,
        "y": 2398.222234725952,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "41528a78.b36974",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2375.3610229492188,
        "y": 2524.055413246155,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8c18dc3c.f60c2"
            ]
        ]
    },
    {
        "id": "d30b0dd8.157b5",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2379.47208404541,
        "y": 2569.2777161598206,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "ac147d54.4bfb7"
            ]
        ]
    },
    {
        "id": "8c18dc3c.f60c2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2527.3613147735596,
        "y": 2522.055393218994,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c1d90c31.c6d7f",
                "5505e414.d72ebc"
            ]
        ]
    },
    {
        "id": "5505e414.d72ebc",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2693.3610706329346,
        "y": 2488.055393218994,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "c1d90c31.c6d7f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2721.694534301758,
        "y": 2520.833411216736,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "71c39fca.ccb7c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2697.250015258789,
        "y": 2552.055764198303,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "742be788.ee2cd8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2795.472183227539,
        "y": 2578.3888597488403,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "ac147d54.4bfb7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2534.0276794433594,
        "y": 2572.944191932678,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "71c39fca.ccb7c",
                "742be788.ee2cd8"
            ]
        ]
    },
    {
        "id": "5b1ca906.eba328",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2009.2499389648438,
        "y": 2442.38866519928,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "69ec533e.600d9c",
        "type": "set",
        "name": "Calculate maxNumberOfDRBsPerNSSAI",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfDRBsPerNSSAI' value='`$tmp.payload.maxNumberofConns*4`' />",
        "comments": "",
        "x": 1756.7499542236328,
        "y": 2992.6668615341187,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "14b3dc4d.71ca44",
        "type": "set",
        "name": "Calculate maxNumberOfDRBsPerCUUP",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfDRBsPerCUUP' value='`$tmp.maxNumberOfDRBsPerNSSAI /$tmp.CUUPList_length`' />",
        "comments": "",
        "x": 1765.6388092041016,
        "y": 3027.1108541488647,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "d4cbbf53.53515",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio-CUUP' value='`$tmp.rRMPolicyDedicatedRatio1/$prop.cuupfunction.maxNumberOfDRBsPerCUUP`' />",
        "comments": "",
        "x": 1716.7499465942383,
        "y": 3098.222252845764,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "a36cc0c6.861ae",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 1703.1388549804688,
        "y": 2843.499749183655,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "2ff98ab1.8da426",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1712.027847290039,
        "y": 2879.722228050232,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "46dc7d95.4c06c4",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch CUUP NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n<parameter name=\"field4\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1714.9168548583984,
        "y": 2915.722222328186,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "323b9ab7.0a7686",
        "type": "execute",
        "name": "read existing rrmPolicyDedicatedRatio ",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatio_CUUP' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2238.9720458984375,
        "y": 3497.9442110061646,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "91bdd1cb.225b5",
        "type": "execute",
        "name": "read rrmPolicyMemberListLength",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyMembers-CUUP' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2239.527847290039,
        "y": 3697.9441614151,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "4c95d3de.dafcac",
        "type": "execute",
        "name": "prepare idGNBCUUPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2242.5831909179688,
        "y": 3627.94432926178,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "304737db.ae6f58",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioList_CUUP_length' value='`$get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 1700.0277252197266,
        "y": 3408.944493293762,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "74f76f8.3409a9",
        "type": "execute",
        "name": "read RRMPolicyRatio_id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+'].id'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2221.7499771118164,
        "y": 3664.610743522644,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "e0eae9af.e47b18",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Config DB update\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1888.5902709960938,
        "y": 3744.74999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "aaab029a.73315",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.gNBCUUPList.gNBCUUPId' value='`$tmp.idGNBCUUPFunction`'/>\n<parameter name='tmp.gNBCUUPList.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.payload.pLMNId' value='`$tmp.pLMNId`'/>\n<parameter name='payloadJson.input.sliceProfile.sNSSAI' value='`$tmp.sNSSAI`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n    ",
        "comments": "",
        "x": 1918.3751029968262,
        "y": 3787.9444789886475,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "197ebca7.656673",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"sNSSAI\"/>\n<parameter name=\"field2\" value=\"`$payloadJson.input.sliceProfile.sNSSAI`\"/>\n<parameter name=\"field3\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field4\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field5\" value=\"gNBCUUPId\"/>\n<parameter name=\"field6\" value=\"`$tmp.gNBCUUPList.gNBCUUPId`\"/>\n<parameter name=\"field7\" value=\"pLMNId\"/>\n<parameter name=\"field8\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBCUUPList.gNBId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1904.8749504089355,
        "y": 3830.1666173934937,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d0d818c6.4b2608",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"DRB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1984.6666107177734,
        "y": 3938.9514265060425,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "27aaafdc.f134",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1936.8887100219727,
        "y": 3982.562382698059,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "28f0e3bf.db6d3c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1900.2222518920898,
        "y": 4020.0623922348022,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "7153e6fc.a20688",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfo-cuup-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 1963.7220840454102,
        "y": 4059.784499168396,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "5d347054.f7c5a",
                "f89ac2d4.50c37"
            ]
        ]
    },
    {
        "id": "3d2034c9.c91a4c",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CUUP' value='`$tmp.rrmPolicyDedicatedRatio_CUUP_updated`'/>\n<parameter name='tmp.payload.pLMNId' value='`$tmp.pLMNId`'/>\n<parameter name='tmp.payload.sNSSAI' value='`$tmp.sNSSAI`'/>\n<parameter name='prop.configDB.rrmPolicyID' value='`$getrrmpolicyratioinfo-cuup-configdb-response.rrmPolicyID`'/>\n<parameter name='tmp.resourceID' value='`$tmp.idGNBCUUPFunction`'/>",
        "comments": "",
        "x": 1922.9238739013672,
        "y": 4103.291432380676,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "4a3e020d.51ae0c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CUUP`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1895.9513473510742,
        "y": 4162.041583061218,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "5d347054.f7c5a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2286.8889656066895,
        "y": 4008.8122987747192,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2173ce6d.d1fb72"
            ]
        ]
    },
    {
        "id": "2173ce6d.d1fb72",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2435.1391830444336,
        "y": 4016.812481880188,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "47c101.94aa2f",
                "a17e37ba.d1f118"
            ]
        ]
    },
    {
        "id": "a17e37ba.d1f118",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2622.3890018463135,
        "y": 3996.56254196167,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "47c101.94aa2f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2640.7224044799805,
        "y": 4039.340558052063,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "ce6218de.e91bd8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2704.4999923706055,
        "y": 4103.145795822144,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d0f0843d.d984f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2646.277858734131,
        "y": 4069.3127870559692,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "424ea0ba.7617a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2450.5554428100586,
        "y": 4097.701459884644,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "d0f0843d.d984f8",
                "ce6218de.e91bd8"
            ]
        ]
    },
    {
        "id": "f89ac2d4.50c37",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2280.444580078125,
        "y": 4080.284736633301,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "424ea0ba.7617a"
            ]
        ]
    },
    {
        "id": "2e61752a.3c32aa",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2057.027587890625,
        "y": 4452.9441385269165,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "2cd3b5f5.23ff3a"
            ]
        ]
    },
    {
        "id": "2cd3b5f5.23ff3a",
        "type": "for",
        "name": "foreach TACell",
        "xml": "<for index='id-ta' start='0' end='`$getListofCells-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2243.0000228881836,
        "y": 4452.889126777649,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c05eb786.188d58"
            ]
        ]
    },
    {
        "id": "c05eb786.188d58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2443.8053283691406,
        "y": 4454.694352149963,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "91f4eff5.01fd4",
                "c929fc4b.7fe69",
                "a294df58.248b4"
            ]
        ]
    },
    {
        "id": "c929fc4b.7fe69",
        "type": "execute",
        "name": "read Cell from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2725.361053466797,
        "y": 4281.027560830116,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "a294df58.248b4",
        "type": "execute",
        "name": "read cellCU from getListofCells-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCU2' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $id-ta + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2728.694381713867,
        "y": 4322.694230079651,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "91f4eff5.01fd4",
        "type": "switchNode",
        "name": "is cellCU applicable for NSSAI",
        "xml": "<switch test='`$tmp.cellCULocalId == $tmp.cellCU2`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2688.583137512207,
        "y": 4365.805629566312,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "375d9009.4414e"
            ]
        ]
    },
    {
        "id": "375d9009.4414e",
        "type": "outcome",
        "name": "Applicable",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2926.2499084472656,
        "y": 4369.916241645813,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8ca9297e.0bb688"
            ]
        ]
    },
    {
        "id": "517677f0.6d4018",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated RRMPolicyRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3221.6705932617188,
        "y": 5150.64305973053,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "9f04c1f2.bf256",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioDUList_length' value='`$get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 3235.9565811157227,
        "y": 5494.571227073669,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "16cb87b2.5be1d8",
        "type": "execute",
        "name": "Set existing RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatio_cellDU-old' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n\t\n\t",
        "comments": "",
        "outputs": 1,
        "x": 3743.456588745117,
        "y": 5519.21413898468,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "52ba99b7.987b88",
        "type": "execute",
        "name": "Read  RRMPolicyRatioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+'].id'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3706.6710357666016,
        "y": 5642.785704612732,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "4ff78ad7.0a8bd4",
        "type": "execute",
        "name": "Read  RRMPolicyMembers Length",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyMembersDU_Length' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3712.384979248047,
        "y": 5735.285477638245,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "8d0864dd.8c8528",
        "type": "execute",
        "name": "set gNBDUId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3879.1705932617188,
        "y": 5674.92870426178,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "63a19143.589a9",
        "type": "execute",
        "name": "set NRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3872.0277709960938,
        "y": 5706.35692691803,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "8e869cc0.cfb58",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"idNRCellDU\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellDULocalId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3202.7777709960938,
        "y": 5382.99999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "e4ce6413.ed6fd8",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.cellLocalId' value='`$tmp.cellDULocalId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n<parameter name='tmp.dLThptPerSlice' value='`$tmp.payload.dLThptPerSlice`'/>\n<parameter name='tmp.uLThptPerSlice' value='`$tmp.payload.uLThptPerSlice`'/>\n<parameter name='tmp.payload.sNSSAI' value='`$tmp.sNSSAI`'/>\n<parameter name='tmp.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.gNBDUList.gNBDUId' value='`$tmp.GNBDUId`'/>\n    ",
        "comments": "",
        "x": 3322.4027709960938,
        "y": 5816.56249332428,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "8e49b3c8.74b25",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"PRB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3389.9027709960938,
        "y": 5950.93749332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "ee5b9b09.ca97c8",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3348.458282470703,
        "y": 5990.10395526886,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "176390ef.cbac9f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3329.9027252197266,
        "y": 6024.270537376404,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "48796b63.39bec4",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfoDU-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 3392.291473388672,
        "y": 6055.103966712952,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "82eba9bc.600fa8",
                "e4549693.a57628"
            ]
        ]
    },
    {
        "id": "82eba9bc.600fa8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3696.0138092041016,
        "y": 6105.937285423279,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "4230df12.02c06"
            ]
        ]
    },
    {
        "id": "4230df12.02c06",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3848.0141010284424,
        "y": 6103.937265396118,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "4d5d2a4c.3e1c64",
                "2aa87dd5.bc2d82"
            ]
        ]
    },
    {
        "id": "2aa87dd5.bc2d82",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4014.0138568878174,
        "y": 6069.937265396118,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "4d5d2a4c.3e1c64",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4042.3473205566406,
        "y": 6102.71528339386,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "ccd58b56.7508b8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4017.902801513672,
        "y": 6133.937636375427,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "644df9cc.25e248",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4116.124969482422,
        "y": 6160.270731925964,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "c9dddcc2.c2163",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3854.680465698242,
        "y": 6154.826064109802,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "ccd58b56.7508b8",
                "644df9cc.25e248"
            ]
        ]
    },
    {
        "id": "e4549693.a57628",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3700.124870300293,
        "y": 6151.159588336945,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "c9dddcc2.c2163"
            ]
        ]
    },
    {
        "id": "3087ba3a.ed4566",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.payload.pLMNId' value='`$tmp.pLMNId`'/>\n<parameter name='tmp.payload.sNSSAI' value='`$tmp.sNSSAI`'/>\n<parameter name='prop.configDB.rrmPolicyID' value='`$getrrmpolicyratioinfoDU-configdb-response.rrmPolicyID`'/>\n<parameter name='tmp.resourceID' value='`$tmp.cellDULocalId`'/>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU' value='`$tmp.rrmPolicyDedicatedRatio_CellDU_updated`'/>",
        "comments": "",
        "x": 3341.493194580078,
        "y": 6091.944428443909,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "68990179.2bf66",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3306.743022918701,
        "y": 6142.916442394257,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "89e3c3a4.70c62",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"cellLocalId\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellLocalId`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.pLMNId`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field6\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"GNBDUId\"/>\n<parameter name=\"field8\" value=\"`$tmp.gNBDUList.gNBDUId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"dLThptPerSlice\"/>\n<parameter name=\"field12\" value=\"`$tmp.dLThptPerSlice`\"/>\n<parameter name=\"field13\" value=\"uLThptPerSlice\"/>\n<parameter name=\"field14\" value=\"`$tmp.uLThptPerSlice`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3308.902618408203,
        "y": 5858.784631729126,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "d0d24863.8121f8",
        "type": "block",
        "name": "get coverageAreaTAList",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 496.27777099609375,
        "y": 700.7499809265137,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "892d9ba0.af4bf8",
                "f123c975.195038",
                "19b64655.2401aa",
                "70150931.91cfa8",
                "c28b4d37.26d9",
                "b4a6eeb6.15b65",
                "e507ae6f.0ca78"
            ]
        ]
    },
    {
        "id": "892d9ba0.af4bf8",
        "type": "execute",
        "name": "prepare URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.aai.fetchSliceProfile`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.fetchSliceProfile.url\"/>\n    <parameter name=\"target\" value=\"{global-customer-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.globalCustomerId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 764.2777786254883,
        "y": 686.9999961853027,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "c28b4d37.26d9",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Get coverageAreaTAList URL: \"/>\n<parameter name=\"field2\" value=\"`$tmp.aai.fetchSliceProfile.url`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 788.77783203125,
        "y": 842.000165939331,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "f123c975.195038",
        "type": "execute",
        "name": "prepare serviceType",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.aai.fetchSliceProfile.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.fetchSliceProfile.url\"/>\n    <parameter name=\"target\" value=\"{service-type}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.serviceType`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 784.7777709960938,
        "y": 724.4999942779541,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "19b64655.2401aa",
        "type": "execute",
        "name": "prepare service-instance-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.aai.fetchSliceProfile.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.fetchSliceProfile.url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.RANNFNSSIId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 782.7777709960938,
        "y": 763.4999942779541,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "70150931.91cfa8",
        "type": "execute",
        "name": "prepare profile-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.aai.fetchSliceProfile.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.aai.fetchSliceProfile.url\"/>\n    <parameter name=\"target\" value=\"{profile-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.sliceProfileId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 787.7777709960938,
        "y": 801.4999942779541,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "efd6d90c.fb6e68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1444.7779235839844,
        "y": 585.0000038146973,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "7a9d2dcb.42c724",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1444.7782287597656,
        "y": 549.1110191345215,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "963cd407.589818",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1199.7778778076172,
        "y": 511.9999189376831,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "efd6d90c.fb6e68",
                "7a9d2dcb.42c724"
            ]
        ]
    },
    {
        "id": "787f632a.4559bc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1038.7780151367188,
        "y": 533.9999923706055,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "963cd407.589818"
            ]
        ]
    },
    {
        "id": "b4a6eeb6.15b65",
        "type": "execute",
        "name": "invoke API",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.org.onap.ccsdk.sli.adaptors.aai.uri + $tmp.aai.fetchSliceProfile.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-coverageAreaTAList-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 821.0277862548828,
        "y": 879.9999837875366,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "66ca8354.c0068c",
                "e508608e.0352f"
            ]
        ]
    },
    {
        "id": "66ca8354.c0068c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1058.5278015136719,
        "y": 673.2500448226929,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "5dfce11f.c3cec"
            ]
        ]
    },
    {
        "id": "5dfce11f.c3cec",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1226.5275421142578,
        "y": 665.2502279281616,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8de7df6e.15597",
                "3f2fbfdf.2aa34"
            ]
        ]
    },
    {
        "id": "8de7df6e.15597",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved coverageAreaTAList\"/>\n<parameter name=\"field2\" value=\"`$get-coverageAreaTAList-response`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1398.2772979736328,
        "y": 666.0001964569092,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "3f2fbfdf.2aa34",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1426.0554809570312,
        "y": 707.2501668930054,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "34fcf10d.3494ae",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from AAI. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1394.0907592773438,
        "y": 747.9235363006592,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "f822f9e7.eb42a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1340.0904235839844,
        "y": 792.8125143051147,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "5bdee52e.a5383c",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1217.0903778076172,
        "y": 719.8124837875366,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "f822f9e7.eb42a8",
                "34fcf10d.3494ae"
            ]
        ]
    },
    {
        "id": "e508608e.0352f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1068.0905456542969,
        "y": 718.8125286102295,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "5bdee52e.a5383c"
            ]
        ]
    },
    {
        "id": "ea194ca9.b5136",
        "type": "execute",
        "name": "set  globalCustomerId",
        "xml": "<set>\n<parameter name='tmp.payload.globalCustomerId' value='`$payloadJson.input.globalCustomerId`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 721.2777786254883,
        "y": 127.7499930858612,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "38665c6f.b68994",
        "type": "execute",
        "name": "set  serviceType",
        "xml": "<set>\n<parameter name='tmp.serviceType' value='`$payloadJson.input.serviceType`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 726.2777709960938,
        "y": 165.7499942779541,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "e507ae6f.0ca78",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.pLMNId`\"/>\n<parameter name=\"field2\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field3\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 782.2777709960938,
        "y": 929.4999942779541,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "7d0cab41.5d62e4",
        "type": "execute",
        "name": "Update RAN Inventory ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRANSliceInventory`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRANSliceInventory.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-inventory-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 878.5277709960938,
        "y": 4211.24999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "8dfc5bef.c5fd18",
                "f2e75191.d32ee"
            ]
        ]
    },
    {
        "id": "759313f.9d96dec",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Update inventory in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 847.777759552002,
        "y": 3992.749984741211,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "8dfc5bef.c5fd18",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1114.528429031372,
        "y": 4165.250351905823,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "bf86086a.86c988"
            ]
        ]
    },
    {
        "id": "bf86086a.86c988",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1254.5287475585938,
        "y": 4173.25022983551,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "7e19d8f9.fe3008",
                "bd21f51e.fa5d18"
            ]
        ]
    },
    {
        "id": "bd21f51e.fa5d18",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1389.5284423828125,
        "y": 4139.361741065979,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "7e19d8f9.fe3008",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating inventory in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1443.5281677246094,
        "y": 4176.2502908706665,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "4fdaf51a.7597fc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Updated inventory in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1462.528419494629,
        "y": 4228.250478744507,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "75deb288.c5307c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1276.5281715393066,
        "y": 4244.250234603882,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "4fdaf51a.7597fc",
                "dd5a532a.31de7"
            ]
        ]
    },
    {
        "id": "f2e75191.d32ee",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1118.5283813476562,
        "y": 4245.2499895095825,
        "z": "ecab9296.c8bb5",
        "wires": [
            [
                "75deb288.c5307c"
            ]
        ]
    },
    {
        "id": "b2bbe86b.51d5b8",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.dLThptPerSlice' value='`$tmp.payload.dLThptPerSlice`'/>\n<parameter name='tmp.payload.pLMNId' value='`$tmp.pLMNId`'/>\n<parameter name='tmp.payload.sNSSAI' value='`$tmp.sNSSAI`'/>\n<parameter name='tmp.uLThptPerSlice' value='`$tmp.payload.uLThptPerSlice`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberOfConns`'/>",
        "comments": "",
        "x": 838.5277709960938,
        "y": 4080.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": []
    },
    {
        "id": "d815d930.ba6bb8",
        "type": "execute",
        "name": "prepare gNBDUList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.DUList.response' />\n\t<parameter name='keyName' value='gNBDUId' />\n\t<parameter name='keyValue' value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3195.2777709960938,
        "y": 5041.49999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "bbd1f9a3.442938",
        "type": "execute",
        "name": "prepare gNBCUUPList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.CUUPList.response' />\n\t<parameter name='keyName' value='gNBCUUPId' />\n\t<parameter name='keyValue' value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1749.5277709960938,
        "y": 3267.24999332428,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    },
    {
        "id": "2cf8049f.4b337c",
        "type": "execute",
        "name": "prepare gNBCUCPList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.CUCPList.response' />\n\t<parameter name='keyName' value='gNBCUName' />\n\t<parameter name='keyValue' value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2274.5277709960938,
        "y": 1591.4999933242798,
        "z": "ecab9296.c8bb5",
        "wires": [
            []
        ]
    }
]