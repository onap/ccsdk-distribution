[
    {
        "id": "7fb9bcc1.06d634",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 195.9375,
        "y": 1869.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "31395fb0.ca37"
            ]
        ]
    },
    {
        "id": "31395fb0.ca37",
        "type": "service-logic",
        "name": "ran-slice-api ${project.version}",
        "module": "ran-slice-api",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='ran-slice-api' version='${project.version}'>",
        "outputs": 1,
        "x": 280.9375228881836,
        "y": 1936.6874694824219,
        "z": "455d609e.a0899",
        "wires": [
            [
                "29bf98cf.54fa38"
            ]
        ]
    },
    {
        "id": "29bf98cf.54fa38",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='instantiateRANSliceModifyAllocate-configDB' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 214.9375,
        "y": 1996.6874351501465,
        "z": "455d609e.a0899",
        "wires": [
            [
                "7c2496c9.c89728"
            ]
        ]
    },
    {
        "id": "7c2496c9.c89728",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 210.93749237060547,
        "y": 2057.6874713897705,
        "z": "455d609e.a0899",
        "wires": [
            [
                "61844268.dd492c",
                "7653896e.4827d8",
                "8a5ed2cd.9399e",
                "e29742c3.c3832",
                "c8ac7e7f.120d5",
                "34df32c2.9e490e",
                "3689f03e.e3722",
                "5f7aefea.1c651",
                "41103c48.4c57f4"
            ]
        ]
    },
    {
        "id": "61844268.dd492c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 477.9375,
        "y": 2048.6875097751617,
        "z": "455d609e.a0899",
        "wires": [
            [
                "8f783326.225a6",
                "26614b92.1439b4",
                "5ebfedef.eec3c4"
            ]
        ]
    },
    {
        "id": "8f783326.225a6",
        "type": "execute",
        "name": "generate getNearRTRICsFromRANNFNSSI URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getNearRTRICByNSSI`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getNearRTRICByNSSI.url\"/>\n    <parameter name=\"target\" value=\"{ranNFNSSIId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.RANNFNSSIId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 813.4375,
        "y": 2012.6875133514404,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "26614b92.1439b4",
        "type": "record",
        "name": "record configdb RestAPI params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for configDB to Get NearRTRIC for RANNFNSSI\"/>\n<parameter name='field2' value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\" />\n<parameter name='field3' value=\"`$tmp.payload.RANNFNSSIId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 772.4375076293945,
        "y": 2052.4374980926514,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "5ebfedef.eec3c4",
        "type": "execute",
        "name": "Get nearRTRIC for RANNFNSSIId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getNearRTRICByNSSI.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getNFNSSIRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 783.4375762939453,
        "y": 2095.9375038146973,
        "z": "455d609e.a0899",
        "wires": [
            [
                "580caa42.4c53d4",
                "74c110ef.452a4"
            ]
        ]
    },
    {
        "id": "580caa42.4c53d4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1033.7557373046875,
        "y": 2124.505599975586,
        "z": "455d609e.a0899",
        "wires": [
            [
                "37e6d863.735228"
            ]
        ]
    },
    {
        "id": "37e6d863.735228",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1206.7555389404297,
        "y": 2113.505672454834,
        "z": "455d609e.a0899",
        "wires": [
            [
                "1cc384e7.36beeb",
                "1f5e6069.d6f49"
            ]
        ]
    },
    {
        "id": "1cc384e7.36beeb",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained NearRT RIC info from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getNFNSSIRIC-configdb-response._length`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1407.5052680969238,
        "y": 2113.255697250366,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "1f5e6069.d6f49",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1443.2834815979004,
        "y": 2156.505705833435,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "74c110ef.452a4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1044.2555961608887,
        "y": 2073.005641937256,
        "z": "455d609e.a0899",
        "wires": [
            [
                "3ce16eaf.bf7682"
            ]
        ]
    },
    {
        "id": "3ce16eaf.bf7682",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1203.0056762695312,
        "y": 2047.0057134628296,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4ef2fe0e.5655a",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "4ef2fe0e.5655a",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1375.755313873291,
        "y": 2059.6167392730713,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "bc14979c.5267a8",
        "type": "for",
        "name": "foreach NearRTRIC",
        "xml": "<for index='idy' start='0' end='`$getNFNSSIRIC-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 337.93753814697266,
        "y": 3158.5057691931725,
        "z": "455d609e.a0899",
        "wires": [
            [
                "62de6b21.0e1964",
                "d5efbbe7.409748",
                "d228a891.e89d98",
                "23f097e.07a5e68"
            ]
        ]
    },
    {
        "id": "62de6b21.0e1964",
        "type": "block",
        "name": "Process NearRTRIC",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 663.846565246582,
        "y": 2952.414834022522,
        "z": "455d609e.a0899",
        "wires": [
            [
                "58672b0e.030a64",
                "5abbe2c0.aac35c",
                "73225ee4.8a0a4",
                "3a3bb628.0a01ea",
                "935a23b4.f485c",
                "1ea51bcc.010fc4",
                "296ccd1a.5f2632"
            ]
        ]
    },
    {
        "id": "58672b0e.030a64",
        "type": "execute",
        "name": "read nearRTRICId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.nearRTRICId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].nearRTRICId'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 838.4831314086914,
        "y": 2385.414885520935,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "5abbe2c0.aac35c",
        "type": "execute",
        "name": "read gNBId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.gNBId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy + '].gNBId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 848.4831161499023,
        "y": 2423.4150915145874,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "73225ee4.8a0a4",
        "type": "set",
        "name": "Calculate uLThptPerSlice dLThptPerSlice maxNumberOfConns",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.uLThptPerSlice1' value='`$payloadJson.input.sliceProfile.uLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.uLThptPerSlice' value='`$tmp.nearRTRIC.uLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice1' value='`$payloadJson.input.sliceProfile.dLThptPerSlice * 1.1`' />\n<parameter name='tmp.nearRTRIC.dLThptPerSlice' value='`$tmp.nearRTRIC.dLThptPerSlice1 / $getNFNSSIRIC-configdb-response._length`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns1' value='`$payloadJson.input.sliceProfile.maxNumberofConns * 1.1`' />\n<parameter name='tmp.nearRTRIC.maxNumberOfConns' value='`$tmp.nearRTRIC.maxNumberOfConns1 / $getNFNSSIRIC-configdb-response._length`' />",
        "comments": "",
        "x": 1025.846664428711,
        "y": 2503.2330236434937,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "3a3bb628.0a01ea",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated uLThptPerSlice for nearRTRIC \"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field3\" value=\"dLThptPerSlice for nearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConn for nearRTRIC\"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"nearRTRICId\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"RANNFNSSI\"/>\n<parameter name=\"field12\" value=\"`$tmp.ranNFNSSIListEntry`\"/>\n<parameter name=\"field13\" value=\"NSSAI\"/>\n<parameter name=\"field14\" value=\"`$tmp.payload.sNSSAI`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 869.755651473999,
        "y": 2539.233085632324,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "935a23b4.f485c",
        "type": "execute",
        "name": "Update nearRT RIC Details in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updatenearRTRIC`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updatenearRTRIC.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"modify-allocate-nearRTRIC-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1166.7557373046875,
        "y": 2945.14208316803,
        "z": "455d609e.a0899",
        "wires": [
            [
                "7c1535ab.6dd41c",
                "7f870bac.bef074"
            ]
        ]
    },
    {
        "id": "7c1535ab.6dd41c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1526.755615234375,
        "y": 2912.9601440429688,
        "z": "455d609e.a0899",
        "wires": [
            [
                "125c35fb.144c7a"
            ]
        ]
    },
    {
        "id": "125c35fb.144c7a",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1658.7557373046875,
        "y": 2874.9601440429688,
        "z": "455d609e.a0899",
        "wires": [
            [
                "762594fc.a549cc",
                "e9048d0e.b2706"
            ]
        ]
    },
    {
        "id": "e9048d0e.b2706",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1847.7554931640625,
        "y": 2822.0711669921875,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "762594fc.a549cc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1855.7554931640625,
        "y": 2921.960205078125,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "7f870bac.bef074",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1524.57373046875,
        "y": 3012.8692626953125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "962b513f.7d69f"
            ]
        ]
    },
    {
        "id": "962b513f.7d69f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1688.5736083984375,
        "y": 3013.869384765625,
        "z": "455d609e.a0899",
        "wires": [
            [
                "6d01ed09.ee84e4"
            ]
        ]
    },
    {
        "id": "6d01ed09.ee84e4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Updated NearRT RIC info in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1838.5736083984375,
        "y": 3008.8695068359375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "1ea51bcc.010fc4",
        "type": "execute",
        "name": "set params",
        "xml": "<set>\n<parameter name='tmp.ranNFNSSIListEntry' value=\"`$payloadJson.input.RANNFNSSIId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 871.9374923706055,
        "y": 2468.6875371932983,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "38c1f097.91bd1",
        "type": "execute",
        "name": "read CUCP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1041.9375,
        "y": 3056.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "d5efbbe7.409748",
        "type": "block",
        "name": "Process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 641.9375,
        "y": 3040.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "38c1f097.91bd1",
                "ce5b8247.1d23a",
                "1c2b6a10.229116"
            ]
        ]
    },
    {
        "id": "ce5b8247.1d23a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUCP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1013.9375,
        "y": 3121.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "1c2b6a10.229116",
        "type": "for",
        "name": "foreach CUCP",
        "xml": "<for index='idz' start='0' end='`$tmp.CUCPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1041.9375,
        "y": 3196.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "f3365042.9a6c1"
            ]
        ]
    },
    {
        "id": "f3365042.9a6c1",
        "type": "block",
        "name": "block : process CUCP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1262.9375,
        "y": 3203.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5679f773.72fb18",
                "8bff805d.d4ec3",
                "aa5d71b4.4d5c9",
                "7650ff64.5ba9"
            ]
        ]
    },
    {
        "id": "5679f773.72fb18",
        "type": "execute",
        "name": "read CUCP name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUCPName' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].gNBCUName'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1613.9375,
        "y": 3056.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "8bff805d.d4ec3",
        "type": "for",
        "name": "for cellCUList",
        "xml": "<for index='idcu' start='0' end='`$tmp.cellCUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1617.9375,
        "y": 3200.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "bb29a7ce.5454e8"
            ]
        ]
    },
    {
        "id": "5d069501.a412fc",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2266.9375,
        "y": 3224.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "e6c2d860.9089c8",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2295.937515258789,
        "y": 3299.687548160553,
        "z": "455d609e.a0899",
        "wires": [
            [
                "9b86c747.3e6738",
                "d91bc0dd.c07a5"
            ]
        ]
    },
    {
        "id": "752a0f9e.67143",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.CUCPName`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellCULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2260.93758392334,
        "y": 3261.6876091957092,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "4dc023bd.03bb2c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2131.9375,
        "y": 2807.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5d069501.a412fc",
                "752a0f9e.67143",
                "e6c2d860.9089c8",
                "62193ce5.a273d4",
                "1e43855c.fc473b",
                "6de51024.114a5",
                "276badf7.a52ec2",
                "a79ddeb0.de052",
                "328a2f82.bc29a",
                "3fe2cb6d.422d24",
                "ff9b33e3.7fe4c"
            ]
        ]
    },
    {
        "id": "9b86c747.3e6738",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2551.937614440918,
        "y": 3349.687717437744,
        "z": "455d609e.a0899",
        "wires": [
            [
                "ec86a275.93d47"
            ]
        ]
    },
    {
        "id": "ec86a275.93d47",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2724.937400817871,
        "y": 3348.6877784729004,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5b51f259.4807ac"
            ]
        ]
    },
    {
        "id": "5b51f259.4807ac",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2922.9374618530273,
        "y": 3345.687900543213,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "d91bc0dd.c07a5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2516.93758392334,
        "y": 3232.687473297119,
        "z": "455d609e.a0899",
        "wires": [
            [
                "628009c2.327498"
            ]
        ]
    },
    {
        "id": "628009c2.327498",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2666.937858581543,
        "y": 3191.687656402588,
        "z": "455d609e.a0899",
        "wires": [
            [
                "c2ccd6f2.ebb798",
                "d257a4e4.63ffd8",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "c2ccd6f2.ebb798",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRcellCU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2837.9374923706055,
        "y": 3252.687717437744,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "d257a4e4.63ffd8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2832.937614440918,
        "y": 3157.687656402588,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "62193ce5.a273d4",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2348.9375,
        "y": 3034.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "1e43855c.fc473b",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2309.9375,
        "y": 3102.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "6de51024.114a5",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 2276.9375,
        "y": 3160.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "aa5d71b4.4d5c9",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUCPName \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUCPName`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1586.9375,
        "y": 3107.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "7650ff64.5ba9",
        "type": "execute",
        "name": "read cellCU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUCPList[' + $idz +'].cellCUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1627.9375,
        "y": 3156.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "276badf7.a52ec2",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2354.9375,
        "y": 2870.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "bd9b7fd9.82703",
                "428d5685.459158"
            ]
        ]
    },
    {
        "id": "bd9b7fd9.82703",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2562.9375,
        "y": 2835.687255859375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "bd52264f.882038"
            ]
        ]
    },
    {
        "id": "bd52264f.882038",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2882.9375,
        "y": 2850.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "428d5685.459158",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2550.9375,
        "y": 2937.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "29904f95.67243"
            ]
        ]
    },
    {
        "id": "a79ddeb0.de052",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1909.9375,
        "y": 3621.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "98affafb.e550d8",
                "6152873.4811d78",
                "b8265e4d.8160d",
                "47193925.45e228",
                "f909374f.5ff6a8",
                "1ec927e8.20f768",
                "81740c32.469db",
                "4954a8b7.7bbc38",
                "fd98f39c.b2dbb",
                "bc8cd9f1.578858",
                "cd009318.5c331"
            ]
        ]
    },
    {
        "id": "98affafb.e550d8",
        "type": "set",
        "name": "Calculate maxNumberOfConnsPercellCU",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConnsPercellCU' value='`$tmp.payload.maxNumberofConns / $tmp.cellCUList_length`' />\n",
        "comments": "",
        "x": 2165.93763923645,
        "y": 3392.6876077651978,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "6152873.4811d78",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio temp1 - \"/>\n<parameter name=\"field2\" value=\"`$tmp.maxNumberOfConnsPercellCU`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyRatio temp2 - \"/>\n<parameter name=\"field4\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellCU1`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.rRMPolicyDedicatedRatio_SliceProfile`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2108.9375743865967,
        "y": 3520.6875772476196,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "b8265e4d.8160d",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2129.9375743865967,
        "y": 3556.6875467300415,
        "z": "455d609e.a0899",
        "wires": [
            [
                "cce370e5.d3d06",
                "76ba0995.b14568"
            ]
        ]
    },
    {
        "id": "cce370e5.d3d06",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2309.9375,
        "y": 3494.687255859375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "19bc5edb.d8d7e1"
            ]
        ]
    },
    {
        "id": "19bc5edb.d8d7e1",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2587.9375,
        "y": 3486.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "47193925.45e228",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2166.9375,
        "y": 3599.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "f909374f.5ff6a8",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2165.9375400543213,
        "y": 3639.6875200271606,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "f3cde29b.c799a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2422.937479019165,
        "y": 3742.687611579895,
        "z": "455d609e.a0899",
        "wires": [
            [
                "33770274.342eee"
            ]
        ]
    },
    {
        "id": "33770274.342eee",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2581.9373779296875,
        "y": 3779.6876220703125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "c8aef99.5453508",
                "87596fda.7787b"
            ]
        ]
    },
    {
        "id": "c8aef99.5453508",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2732.9374866485596,
        "y": 3747.687825679779,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "fa93978a.e23798",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2419.937452316284,
        "y": 3649.6875200271606,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5344b34b.681c1c"
            ]
        ]
    },
    {
        "id": "5344b34b.681c1c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2571.937744140625,
        "y": 3647.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "9839bc64.455ef",
                "756f0d7c.af6084",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "9839bc64.455ef",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2742.9373779296875,
        "y": 3708.6875610351562,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "756f0d7c.af6084",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2737.9375,
        "y": 3613.6875,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "1ec927e8.20f768",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2198.9375705718994,
        "y": 3694.6875200271606,
        "z": "455d609e.a0899",
        "wires": [
            [
                "fa93978a.e23798",
                "f3cde29b.c799a"
            ]
        ]
    },
    {
        "id": "87596fda.7787b",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2758.9374256134033,
        "y": 3780.6875505447388,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "81740c32.469db",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcu-rrm' start='0' end='`$tmp.rrmPolicyRatioList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2101.9375,
        "y": 3884.687728881836,
        "z": "455d609e.a0899",
        "wires": [
            [
                "496d2e9f.372f5"
            ]
        ]
    },
    {
        "id": "496d2e9f.372f5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2322.9375,
        "y": 3904.687728881836,
        "z": "455d609e.a0899",
        "wires": [
            [
                "1c79c9a9.a4a466",
                "d9b49b19.66f8a8",
                "b7f3e2e4.c5b12",
                "de085b90.fb7ae8",
                "abf796e.5d07468",
                "ceaf729f.dda35",
                "631af425.c9f17c",
                "bce9726.9ec009",
                "32d61635.c6254a",
                "d70d01dc.542b9",
                "8ac0e8de.ac5ae8"
            ]
        ]
    },
    {
        "id": "1c79c9a9.a4a466",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellCU_new' value='`$tmp.rrmPolicyDedicatedRatiocellCU_old + $tmp.rRMPolicyDedicatedRatio_SliceProfile`' />",
        "comments": "",
        "x": 2640.9375171661377,
        "y": 3864.6877975463867,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "d9b49b19.66f8a8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Existing RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatiocellCU_old`\"/>\n<parameter name=\"field3\" value=\"Updated RRMPolicyRatio for CellCU is - \"/>\n<parameter name=\"field4\" value=\"`$tmp.rrmPolicyDedicatedRatio_CellCU_new`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2565.937547683716,
        "y": 3898.68749332428,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "b7f3e2e4.c5b12",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2615.9375,
        "y": 3932.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "46da8a51.f4aeb4",
                "867ad2e1.9e6c6"
            ]
        ]
    },
    {
        "id": "46da8a51.f4aeb4",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2897.0485458374023,
        "y": 3860.798538208008,
        "z": "455d609e.a0899",
        "wires": [
            [
                "50be1b43.dd58c4"
            ]
        ]
    },
    {
        "id": "50be1b43.dd58c4",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellCU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3141.93790435791,
        "y": 3862.576389312744,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "de085b90.fb7ae8",
        "type": "execute",
        "name": "patch NRCellCU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellCU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2653.8262786865234,
        "y": 4110.354212760925,
        "z": "455d609e.a0899",
        "wires": [
            [
                "6d3729c7.9525c8",
                "360d6f5b.14f05"
            ]
        ]
    },
    {
        "id": "6d3729c7.9525c8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2916.9375,
        "y": 4095.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "48dc15f8.7da02c"
            ]
        ]
    },
    {
        "id": "48dc15f8.7da02c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3107.9375,
        "y": 4095.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d3f449ec.6ada28"
            ]
        ]
    },
    {
        "id": "d3f449ec.6ada28",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3292.937255859375,
        "y": 4096.687744140625,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "360d6f5b.14f05",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2915.9375,
        "y": 4183.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "3554b1a2.26770e"
            ]
        ]
    },
    {
        "id": "3554b1a2.26770e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3134.937744140625,
        "y": 4188.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "62cfc4c3.c9676c",
                "92b6758a.c79ff8",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "62cfc4c3.c9676c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU - RRMPolicyRAtio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3379.9373779296875,
        "y": 4234.687561035156,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "92b6758a.c79ff8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3374.9375,
        "y": 4139.6875,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "4954a8b7.7bbc38",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2085.9375,
        "y": 3834.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "bb29a7ce.5454e8",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1837.9375,
        "y": 3109.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "ace6606b.68005"
            ]
        ]
    },
    {
        "id": "328a2f82.bc29a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.cellCULocalId`\"/>\n<parameter name=\"field2\" value=\"CellCU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2326.9375,
        "y": 2802.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "3fe2cb6d.422d24",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1726.9374542236328,
        "y": 4086.687511444092,
        "z": "455d609e.a0899",
        "wires": [
            [
                "47cfb096.06d5d",
                "2b7dbaee.357c96",
                "ff0d7cbd.61ef3",
                "7e615554.a590ac",
                "fe0d776e.ad3888",
                "c7071d1a.29313",
                "b5f25390.28012",
                "17be12e0.6cf26d",
                "dea1a640.391c18",
                "9fd4d19e.92b4f"
            ]
        ]
    },
    {
        "id": "47cfb096.06d5d",
        "type": "execute",
        "name": "Update cellCU for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUCP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBCUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2009.9374542236328,
        "y": 4086.687511444092,
        "z": "455d609e.a0899",
        "wires": [
            [
                "23455550.b5343a",
                "c3669b76.d45278"
            ]
        ]
    },
    {
        "id": "c3669b76.d45278",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2283.93758392334,
        "y": 4143.687621116638,
        "z": "455d609e.a0899",
        "wires": [
            [
                "e73e92e0.99881"
            ]
        ]
    },
    {
        "id": "23455550.b5343a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2281.3820190429688,
        "y": 4105.465539932251,
        "z": "455d609e.a0899",
        "wires": [
            [
                "8cfdfcda.2f87f"
            ]
        ]
    },
    {
        "id": "8cfdfcda.2f87f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2488.937454223633,
        "y": 4173.687511444092,
        "z": "455d609e.a0899",
        "wires": [
            [
                "c46c7d5.9c9458",
                "6aef258b.44c89c",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "6aef258b.44c89c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2656.0484161376953,
        "y": 4148.354200363159,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "c46c7d5.9c9458",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2713.2704162597656,
        "y": 4209.131879806519,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "9b387dfb.88216",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2557.048667907715,
        "y": 4217.909666061401,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "e73e92e0.99881",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2416.3819999694824,
        "y": 4215.243019104004,
        "z": "455d609e.a0899",
        "wires": [
            [
                "9b387dfb.88216"
            ]
        ]
    },
    {
        "id": "30298499.2e81ec",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUCP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUCP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUCP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2150.9375610351562,
        "y": 4456.687656402588,
        "z": "455d609e.a0899",
        "wires": [
            [
                "fb8a4459.3ee8f8",
                "dc04ca2f.72d938"
            ]
        ]
    },
    {
        "id": "fb8a4459.3ee8f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2468.1599349975586,
        "y": 4378.798922538757,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d2a933ea.7cb3a"
            ]
        ]
    },
    {
        "id": "dc04ca2f.72d938",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2408.9375534057617,
        "y": 4437.68729019165,
        "z": "455d609e.a0899",
        "wires": [
            [
                "c8cb11a9.8eb5c"
            ]
        ]
    },
    {
        "id": "d2a933ea.7cb3a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2671.9374465942383,
        "y": 4379.68749332428,
        "z": "455d609e.a0899",
        "wires": [
            [
                "23e72f9e.6f4de",
                "3f87f063.14959",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "3f87f063.14959",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2853.492744445801,
        "y": 4373.465438842773,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "23e72f9e.6f4de",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellCU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2848.49259185791,
        "y": 4411.798721313477,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "c8cb11a9.8eb5c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2536.9374923706055,
        "y": 4435.687534332275,
        "z": "455d609e.a0899",
        "wires": [
            [
                "523e9772.d37b28"
            ]
        ]
    },
    {
        "id": "523e9772.d37b28",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2675.9375,
        "y": 4427.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "d228a891.e89d98",
        "type": "block",
        "name": "Process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 622.9375,
        "y": 3266.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "8165a203.66561",
                "362daccb.8af204",
                "fb04ea98.9e7b08"
            ]
        ]
    },
    {
        "id": "8165a203.66561",
        "type": "execute",
        "name": "read CUUP list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.CUUPList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBCUUPList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 953.9375,
        "y": 3276.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "362daccb.8af204",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of CUUP List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.CUUPList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 925.9375,
        "y": 3341.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "fb04ea98.9e7b08",
        "type": "for",
        "name": "foreach CUUP",
        "xml": "<for index='id-cuup' start='0' end='`$tmp.CUUPList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 953.9375,
        "y": 3416.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "aa5b390.0e812c8"
            ]
        ]
    },
    {
        "id": "aa5b390.0e812c8",
        "type": "block",
        "name": "block : process CUUP",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1174.9375,
        "y": 3423.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "dbb18a54.45a598",
                "4b784135.8ca86",
                "3574f54c.4577ba"
            ]
        ]
    },
    {
        "id": "dbb18a54.45a598",
        "type": "execute",
        "name": "read CUUP id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.idGNBCUUPFunction' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUUPList['+ $id-cuup +'].gNBCUUPId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1428.9375076293945,
        "y": 3245.4652557373047,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "4b784135.8ca86",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"idGNBCUUPFunction \"/>\n<parameter name=\"field2\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1408.270851135254,
        "y": 3297.243055820465,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "3574f54c.4577ba",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1407.9375,
        "y": 4507.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "2edc2c2d.7b55e4",
                "8bc6622b.887",
                "f32efe.fe57e1",
                "2242bfcd.83694",
                "9f0b18e8.2e3c78",
                "a7d056f.5f7c7a8",
                "52151930.6bd068",
                "3d38cceb.14ffb4",
                "39db7535.f656aa",
                "c6a26f23.c3a2e",
                "bb18551d.ec1468",
                "4d887bf4.abf894",
                "153b5a9f.050215",
                "57b0b41e.afc19c",
                "23344ac4.5bd5d6",
                "779e1406.be030c",
                "21aa00ea.df3ec",
                "89af4e2e.43cf",
                "7cdf3d8d.947174"
            ]
        ]
    },
    {
        "id": "f32efe.fe57e1",
        "type": "execute",
        "name": "patch PLMNInfoListEntry gNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoList-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-gNBCUUP-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 1722.6042785644531,
        "y": 4710.132018089294,
        "z": "455d609e.a0899",
        "wires": [
            [
                "21a2aa29.293406",
                "b1a7be18.544fa"
            ]
        ]
    },
    {
        "id": "21a2aa29.293406",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2019.0487480163574,
        "y": 4741.021019935608,
        "z": "455d609e.a0899",
        "wires": [
            [
                "719412a2.19798c"
            ]
        ]
    },
    {
        "id": "719412a2.19798c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2208.2710189819336,
        "y": 4727.798900604248,
        "z": "455d609e.a0899",
        "wires": [
            [
                "15865681.27ddb9",
                "240cdce9.508be4",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "240cdce9.508be4",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2439.2710304260254,
        "y": 4689.576826095581,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "15865681.27ddb9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching CUUP PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2466.493522644043,
        "y": 4730.243581771851,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "348b8c0a.cdb1b4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - gNBCUUP PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2381.6039237976074,
        "y": 4771.9099197387695,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "892e9750.bd8c08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2195.270740509033,
        "y": 4777.465488433838,
        "z": "455d609e.a0899",
        "wires": [
            [
                "348b8c0a.cdb1b4"
            ]
        ]
    },
    {
        "id": "b1a7be18.544fa",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2009.7152481079102,
        "y": 4781.354497909546,
        "z": "455d609e.a0899",
        "wires": [
            [
                "892e9750.bd8c08"
            ]
        ]
    },
    {
        "id": "2edc2c2d.7b55e4",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1674.9375,
        "y": 4509.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "9d529a04.b53c68",
                "a9869034.67796"
            ]
        ]
    },
    {
        "id": "9d529a04.b53c68",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1882.9375,
        "y": 4474.687255859375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "37caa607.05a23a"
            ]
        ]
    },
    {
        "id": "a9869034.67796",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1866.4931640625,
        "y": 4525.576494216919,
        "z": "455d609e.a0899",
        "wires": [
            [
                "33e4f427.04a2dc"
            ]
        ]
    },
    {
        "id": "37caa607.05a23a",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry CUUP URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2202.9375,
        "y": 4489.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "8bc6622b.887",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1686.6041259765625,
        "y": 4554.243214607239,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "abf796e.5d07468",
        "type": "set",
        "name": "RRMPolicyRatio id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+'].id'`\" />\n",
        "comments": "",
        "x": 2617.7156677246094,
        "y": 4008.4649868011475,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "ceaf729f.dda35",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value='`$tmp.rrmPolicyMembers+1`'/>\n",
        "comments": "",
        "x": 2628.7154083251953,
        "y": 4044.3545513153076,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "2242bfcd.83694",
        "type": "set",
        "name": "Calculate rRMPolicyDedicatedRatio Temp",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio1' value='`$tmp.maxNumberOfDRBsPerCUUP*100`' />\n",
        "comments": "",
        "x": 1744.4933013916016,
        "y": 4819.910633087158,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "9f0b18e8.2e3c78",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio for this profile is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio-CUUP`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1648.2710304260254,
        "y": 4884.1324582099915,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "a7d056f.5f7c7a8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1665.9375,
        "y": 4924.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "dfcf6495.9297d8",
                "fce4854e.dff928"
            ]
        ]
    },
    {
        "id": "dfcf6495.9297d8",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1843.9375,
        "y": 4891.687255859375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "1a04eda0.53c822"
            ]
        ]
    },
    {
        "id": "1a04eda0.53c822",
        "type": "execute",
        "name": "fetch RRMPolicyRatio CUUP - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2138.937530517578,
        "y": 4837.687556266785,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "52151930.6bd068",
        "type": "execute",
        "name": "prepare idGNBCUUPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1702.9375839233398,
        "y": 4979.68751335144,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "3d38cceb.14ffb4",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - CUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-cuup-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1691.9378204345703,
        "y": 5085.68754196167,
        "z": "455d609e.a0899",
        "wires": [
            [
                "45a44255.cd9bcc",
                "6ebc1303.78331c"
            ]
        ]
    },
    {
        "id": "45a44255.cd9bcc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1948.9375953674316,
        "y": 5026.687678337097,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4007efa.3597b1"
            ]
        ]
    },
    {
        "id": "4007efa.3597b1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2109.937744140625,
        "y": 5045.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "6b5efe25.58594",
                "7d3f6079.b9b8a",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "7d3f6079.b9b8a",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2275.9375,
        "y": 5011.6875,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "6b5efe25.58594",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in fetching RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2332.048309326172,
        "y": 5055.576522827148,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "a3d1376b.bd72f8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2317.1596069335938,
        "y": 5151.243079185486,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "22303dd6.5cf1a2",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2312.1594161987305,
        "y": 5094.909837722778,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "cdff2e98.6eca8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2119.492965698242,
        "y": 5093.132146835327,
        "z": "455d609e.a0899",
        "wires": [
            [
                "22303dd6.5cf1a2",
                "a3d1376b.bd72f8"
            ]
        ]
    },
    {
        "id": "6ebc1303.78331c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1939.9375953674316,
        "y": 5096.68768119812,
        "z": "455d609e.a0899",
        "wires": [
            [
                "cdff2e98.6eca8"
            ]
        ]
    },
    {
        "id": "39db7535.f656aa",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CUUP - RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioList_CUUP_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1626.937728881836,
        "y": 5221.687602996826,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "c6a26f23.c3a2e",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcuup-rrm' start='0' end='`$tmp.rrmPolicyRatioList_CUUP_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1666.6042175292969,
        "y": 5304.021101593971,
        "z": "455d609e.a0899",
        "wires": [
            [
                "6aaa352c.3bf72c"
            ]
        ]
    },
    {
        "id": "6aaa352c.3bf72c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1882.6041259765625,
        "y": 5320.020751953125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "293b3d0b.3d26f2",
                "84428633.f9df48",
                "d795d728.3267b8",
                "2556a887.bd26a8",
                "e265232d.cf85e",
                "14886486.642e8b",
                "7d7e1d18.05c494",
                "e237a3ae.4983",
                "825f02ed.99f83"
            ]
        ]
    },
    {
        "id": "293b3d0b.3d26f2",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CUUP_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP + $tmp.rRMPolicyDedicatedRatio-CUUP`\" />",
        "comments": "",
        "x": 2207.6041259765625,
        "y": 5297.020751953125,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "d795d728.3267b8",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2175.604103088379,
        "y": 5339.1319880485535,
        "z": "455d609e.a0899",
        "wires": [
            [
                "dfbdf042.470c1",
                "7d4a8733.447fe8"
            ]
        ]
    },
    {
        "id": "dfbdf042.470c1",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2392.6042251586914,
        "y": 5335.020571708679,
        "z": "455d609e.a0899",
        "wires": [
            [
                "7f98fb32.e0d5d4"
            ]
        ]
    },
    {
        "id": "7f98fb32.e0d5d4",
        "type": "execute",
        "name": "patch RRMPolicyRatio CUUP- URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2665.6040954589844,
        "y": 5305.02112197876,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "e265232d.cf85e",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`$tmp.rrmPolicyMembers-CUUP+1`\" />",
        "comments": "",
        "x": 2179.4930267333984,
        "y": 5490.7988023757935,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "84428633.f9df48",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Updated RRMPolicyRatio for CUUP is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyDedicatedRatio_CUUP_updated`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyRatio_id is - \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyMember_id CUUP is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field7\" value=\"Existing RRMPolicyMembers Length\"/>\n<parameter name=\"field8\" value=\"`$tmp.rrmPolicyMembers-CUUP`\"/>\n<parameter name=\"field9\" value=\"Update RRMPolicyRatio URL - \"/>\n<parameter name=\"field10\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2140.9377670288086,
        "y": 5523.6877546310425,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "2556a887.bd26a8",
        "type": "execute",
        "name": "patch CUUP- RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-CUUP.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-CUUP-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 2203.493034362793,
        "y": 5560.131751060486,
        "z": "455d609e.a0899",
        "wires": [
            [
                "ccd948db.cd9488",
                "3e091128.4e517e"
            ]
        ]
    },
    {
        "id": "ccd948db.cd9488",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2476.6041259765625,
        "y": 5511.020751953125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "23bb9f95.445ad"
            ]
        ]
    },
    {
        "id": "23bb9f95.445ad",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2667.6041259765625,
        "y": 5511.020751953125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4cded348.2c088c"
            ]
        ]
    },
    {
        "id": "4cded348.2c088c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellCU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2852.6038818359375,
        "y": 5512.02099609375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "f76c0530.1b9078",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellCU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2934.6041259765625,
        "y": 5555.020751953125,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "a60da23b.d845b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2939.60400390625,
        "y": 5650.020812988281,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "bc2c8b6.3acb778",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2694.6043701171875,
        "y": 5604.020751953125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "a60da23b.d845b",
                "f76c0530.1b9078",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "3e091128.4e517e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2475.6041259765625,
        "y": 5599.020751953125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "bc2c8b6.3acb778"
            ]
        ]
    },
    {
        "id": "bb18551d.ec1468",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1621.2709197998047,
        "y": 5632.354361534119,
        "z": "455d609e.a0899",
        "wires": [
            [
                "83d3d00e.01d95",
                "fc6bfbef.3af9e8",
                "8c4929e5.6f9658",
                "5dbb1c5b.d631a4",
                "5d16731a.6b461c",
                "c4ecb988.bec058",
                "e8707ee3.2d80f",
                "abd3770e.f378a8",
                "190635f0.8c176a",
                "75fbdd77.351a04"
            ]
        ]
    },
    {
        "id": "83d3d00e.01d95",
        "type": "execute",
        "name": "Update gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBCUUP`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBCUUP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1925.5209197998047,
        "y": 5644.604296684265,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4bb7b6e7.aca7a8",
                "20e8ffd1.f9113"
            ]
        ]
    },
    {
        "id": "4bb7b6e7.aca7a8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2241.2708740234375,
        "y": 5604.3544921875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "84cdde45.27806"
            ]
        ]
    },
    {
        "id": "20e8ffd1.f9113",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2227.77095413208,
        "y": 5654.104416847229,
        "z": "455d609e.a0899",
        "wires": [
            [
                "867355da.d1df38"
            ]
        ]
    },
    {
        "id": "867355da.d1df38",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2386.2707748413086,
        "y": 5682.604479074478,
        "z": "455d609e.a0899",
        "wires": [
            [
                "b22e0761.6eecf8"
            ]
        ]
    },
    {
        "id": "84cdde45.27806",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2429.521141052246,
        "y": 5641.604416847229,
        "z": "455d609e.a0899",
        "wires": [
            [
                "3168760f.e6006a",
                "56a577ac.6fe958",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "b22e0761.6eecf8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2522.7710189819336,
        "y": 5696.10454082489,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "3168760f.e6006a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating CUUP-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2688.020622253418,
        "y": 5685.104479312897,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "56a577ac.6fe958",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - CUUP. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2596.7708053588867,
        "y": 5650.8542947769165,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "4412ba48.7afd64",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - CUUP. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2651.020839691162,
        "y": 5886.104541778564,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "8b19f533.d14928",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating CUUP-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2647.270553588867,
        "y": 5927.354297637939,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "41045b1c.dde334",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2467.5210189819336,
        "y": 5920.104480743408,
        "z": "455d609e.a0899",
        "wires": [
            [
                "8b19f533.d14928",
                "4412ba48.7afd64",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "f2d80e71.98b27",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - CUUP RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2620.2709197998047,
        "y": 5974.354236602783,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "a8111437.f21ff8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2454.2709197998047,
        "y": 5973.354236602783,
        "z": "455d609e.a0899",
        "wires": [
            [
                "f2d80e71.98b27"
            ]
        ]
    },
    {
        "id": "68518a65.c92944",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2273.2709197998047,
        "y": 5979.353992462158,
        "z": "455d609e.a0899",
        "wires": [
            [
                "a8111437.f21ff8"
            ]
        ]
    },
    {
        "id": "b8f070f1.a82cc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2267.0210494995117,
        "y": 5931.854358673096,
        "z": "455d609e.a0899",
        "wires": [
            [
                "41045b1c.dde334"
            ]
        ]
    },
    {
        "id": "44bd5aa.d042aa4",
        "type": "execute",
        "name": "Update RRMPolicy for gNBCUUP in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-CUUP.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBCUUP-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2061.0211334228516,
        "y": 6025.104734420776,
        "z": "455d609e.a0899",
        "wires": [
            [
                "b8f070f1.a82cc",
                "68518a65.c92944"
            ]
        ]
    },
    {
        "id": "23f097e.07a5e68",
        "type": "block",
        "name": "Process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1086.6877212524414,
        "y": 5595.438100814819,
        "z": "455d609e.a0899",
        "wires": [
            [
                "3c007075.ad5ec",
                "ee6ef3a0.b4bc8",
                "813078a7.3bf478"
            ]
        ]
    },
    {
        "id": "3c007075.ad5ec",
        "type": "execute",
        "name": "read DUlist size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.DUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1339.6876602172852,
        "y": 5685.438161849976,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "ee6ef3a0.b4bc8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Number of DU List Entries \"/>\n<parameter name=\"field2\" value=\"`$tmp.DUList_length`\"/>\n<parameter name=\"field3\" value=\"for the NearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1307.6876106262207,
        "y": 5735.438225746155,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "813078a7.3bf478",
        "type": "for",
        "name": "foreach DU",
        "xml": "<for index='id-du' start='0' end='`$tmp.DUList_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1308.6877975463867,
        "y": 5778.438226699829,
        "z": "455d609e.a0899",
        "wires": [
            [
                "63cd5619.c407c8"
            ]
        ]
    },
    {
        "id": "63cd5619.c407c8",
        "type": "block",
        "name": "block : process gNBDU",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1570.687656402588,
        "y": 5884.437982559204,
        "z": "455d609e.a0899",
        "wires": [
            [
                "205c3b86.226c74",
                "297f52d6.b2bdbe",
                "c5fb8f99.ebc91",
                "f8b69c7.0ffa86"
            ]
        ]
    },
    {
        "id": "205c3b86.226c74",
        "type": "execute",
        "name": "read DU id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.GNBDUId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].gNBDUId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1844.6875,
        "y": 6063.4375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "297f52d6.b2bdbe",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"GNBDUId \"/>\n<parameter name=\"field2\" value=\"`$tmp.GNBDUId`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1817.6875,
        "y": 6114.4375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "c5fb8f99.ebc91",
        "type": "execute",
        "name": "read cellDU list size",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDUList_length' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.[' + $idy +'].gNBDUList[' + $id-du +'].cellDUList_length'`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1858.6875,
        "y": 6163.4375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "f8b69c7.0ffa86",
        "type": "for",
        "name": "for cellDUList",
        "xml": "<for index='id-celldu' start='0' end='`$tmp.cellDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1848.6875,
        "y": 6207.4375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "9ab23028.6e822"
            ]
        ]
    },
    {
        "id": "307d57f4.eb2bc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2875.4375,
        "y": 6261.4375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "1a119c23.1e2a64",
                "57f7f20b.ceaddc",
                "4d0d4ff0.2de28",
                "f1853590.f6d198",
                "bf231ea9.b062b",
                "ed479747.d5ee68",
                "f5fb75e4.cba008",
                "37e6ec10.e9b4b4",
                "68bf9ee5.219d3",
                "bd89f217.867f7",
                "885b653b.a80848",
                "72fbb69d.81f2a8"
            ]
        ]
    },
    {
        "id": "37e6ec10.e9b4b4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"CellDU is applicable for the NSSAI \"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3070.4375,
        "y": 6256.4375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "f5fb75e4.cba008",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3098.4375,
        "y": 6324.4375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "194d67b7.87f178",
                "28ed1989.8e0de6"
            ]
        ]
    },
    {
        "id": "194d67b7.87f178",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3306.4375,
        "y": 6289.437255859375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "23e09e25.5e10e2"
            ]
        ]
    },
    {
        "id": "28ed1989.8e0de6",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3301.4375495910645,
        "y": 6358.437824249268,
        "z": "455d609e.a0899",
        "wires": [
            [
                "ad1a7acb.845bc8"
            ]
        ]
    },
    {
        "id": "23e09e25.5e10e2",
        "type": "execute",
        "name": "generate patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3626.4375,
        "y": 6304.4375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "1a119c23.1e2a64",
        "type": "execute",
        "name": "read cellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellDULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3095.4376525878906,
        "y": 6412.437744140625,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "f1853590.f6d198",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3150.437713623047,
        "y": 6477.437682151794,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "bf231ea9.b062b",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3123.4378967285156,
        "y": 6532.437684059143,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "ed479747.d5ee68",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 3103.4375915527344,
        "y": 6595.437990188599,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "57f7f20b.ceaddc",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3105.4378356933594,
        "y": 6653.437623023987,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "4d0d4ff0.2de28",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch cellCU NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.GNBDUId`\"/>\n<parameter name=\"field4\" value=\"`$tmp.cellDULocalId`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field7\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3109.437713623047,
        "y": 6699.4382400512695,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "68bf9ee5.219d3",
        "type": "execute",
        "name": "patch PLMNInfoListEntry ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-sNSSAI-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-PLMNInfoList-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3164.437713623047,
        "y": 6745.687508106232,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d6d52a8c.a97a18",
                "f82adbbb.380608"
            ]
        ]
    },
    {
        "id": "f82adbbb.380608",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3413.0090656280518,
        "y": 6586.687623977661,
        "z": "455d609e.a0899",
        "wires": [
            [
                "ec11e385.effa1"
            ]
        ]
    },
    {
        "id": "d6d52a8c.a97a18",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3419.151756286621,
        "y": 6642.8303298950195,
        "z": "455d609e.a0899",
        "wires": [
            [
                "30c9e74.8d87a18"
            ]
        ]
    },
    {
        "id": "ec11e385.effa1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3589.5806732177734,
        "y": 6586.115846633911,
        "z": "455d609e.a0899",
        "wires": [
            [
                "76397f5b.89cfd",
                "c012d2dd.7cd29",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "30c9e74.8d87a18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3572.8660583496094,
        "y": 6642.687455177307,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d8b5886f.784e98"
            ]
        ]
    },
    {
        "id": "d8b5886f.784e98",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU PLMNInfo List\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3610.294750213623,
        "y": 6708.830251693726,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "76397f5b.89cfd",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NECellDU - PLMNInfo. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3776.2944869995117,
        "y": 6662.830191612244,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "c012d2dd.7cd29",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU PLMNInfoList. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3758.4375,
        "y": 6610.6875,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "bd89f217.867f7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2968.6875,
        "y": 7069.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "590f5c49.cf7564",
                "bf9edac.d17a328",
                "74cb7ec.3903b8",
                "157a9e34.8a09b2",
                "389a50ad.d03a4",
                "1b75437e.1311fd",
                "740d4492.9dfedc",
                "90d93b8b.372408",
                "8d80b679.3595c8",
                "b4ea4ccb.5053d"
            ]
        ]
    },
    {
        "id": "590f5c49.cf7564",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3190.6875,
        "y": 6975.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "1c0119ab.5c85d6",
                "27023387.e2dcdc"
            ]
        ]
    },
    {
        "id": "27023387.e2dcdc",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3439.4022064208984,
        "y": 6987.974275588989,
        "z": "455d609e.a0899",
        "wires": [
            [
                "f9150b0e.37a288"
            ]
        ]
    },
    {
        "id": "f9150b0e.37a288",
        "type": "execute",
        "name": "fetch RRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3633.6874084472656,
        "y": 6926.116872787476,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "bf9edac.d17a328",
        "type": "execute",
        "name": "prepare idGNBDUFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3225.6875,
        "y": 7047.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "74cb7ec.3903b8",
        "type": "execute",
        "name": "prepare idNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3190.6875,
        "y": 7099.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "157a9e34.8a09b2",
        "type": "execute",
        "name": "fetch RRMPolicyRatio - NRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"get-rrmpolicyratio-du-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3225.6875,
        "y": 7174.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "6221778b.7f5b58",
                "49b2c0ae.e702f"
            ]
        ]
    },
    {
        "id": "6221778b.7f5b58",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3472.6875,
        "y": 7147.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "e8b8e186.6dce1"
            ]
        ]
    },
    {
        "id": "49b2c0ae.e702f",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3476.6875,
        "y": 7226.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "282ab439.a8aa0c"
            ]
        ]
    },
    {
        "id": "e8b8e186.6dce1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3640.687973022461,
        "y": 7158.544853210449,
        "z": "455d609e.a0899",
        "wires": [
            [
                "795155ba.7b9cec",
                "4d1391d8.e6ad",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "4d1391d8.e6ad",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3796.6875,
        "y": 7061.6875,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "795155ba.7b9cec",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3801.6873779296875,
        "y": 7156.687561035156,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "282ab439.a8aa0c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3640.6873779296875,
        "y": 7227.6876220703125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "f3660f44.4826d",
                "9d78028c.cc30d"
            ]
        ]
    },
    {
        "id": "f3660f44.4826d",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3797.830551147461,
        "y": 7199.83028793335,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "9d78028c.cc30d",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3805.6875915527344,
        "y": 7237.1162109375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "389a50ad.d03a4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioList size\"/>\n<parameter name=\"field2\" value=\"`$tmp.rrmPolicyRatioDUList_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3163.2589111328125,
        "y": 7306.972898483276,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "1b75437e.1311fd",
        "type": "block",
        "name": "rrmPolicyDedicatedRatio",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3225.401596546173,
        "y": 6853.973127365112,
        "z": "455d609e.a0899",
        "wires": [
            [
                "1c9ed23b.4f193e",
                "219a8e3a.f72772",
                "dcfacbfe.4e98e8",
                "8655e484.2dc9f8",
                "71ba7a56.b93634",
                "db3c5259.cc327",
                "e0a6a694.611128",
                "9d329f4d.b3ba4",
                "5549b452.661d0c",
                "1ca771aa.9bd5be",
                "203180d4.9e923"
            ]
        ]
    },
    {
        "id": "dcfacbfe.4e98e8",
        "type": "set",
        "name": "Calculate RRM Parms1",
        "xml": "<set>\n<parameter name='tmp.uLThptPerSlice' value='`$payloadJson.input.sliceProfile.uLThptPerSlice`' />\n",
        "comments": "",
        "x": 4193.677307128906,
        "y": 6640.010252952576,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "8655e484.2dc9f8",
        "type": "set",
        "name": "Calculate RRM Parms2",
        "xml": "<set>\n<parameter name='tmp.dLThptPerSlice' value='`$payloadJson.input.sliceProfile.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4202.218566894531,
        "y": 6685.030272424221,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "71ba7a56.b93634",
        "type": "set",
        "name": "Calculate RRM Parms3",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfConns' value='`$payloadJson.input.sliceProfile.maxNumberOfConns`' />",
        "comments": "",
        "x": 4192.218688964844,
        "y": 6740.0301503539085,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "db3c5259.cc327",
        "type": "set",
        "name": "Calculate RRM Parms4",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity1' value='`$tmp.uLThptPerSlice + $tmp.dLThptPerSlice`' />\n",
        "comments": "",
        "x": 4192.218566894531,
        "y": 6791.030150413513,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "e0a6a694.611128",
        "type": "set",
        "name": "Calculate RRM Parms5",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacity' value='`$tmp.nearRTRIC.trafficCapacity1 / 2`' />",
        "comments": "",
        "x": 4180.218688964844,
        "y": 6851.030272424221,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "9d329f4d.b3ba4",
        "type": "set",
        "name": "Calculate RRM Parms6",
        "xml": "<set>\n<parameter name='tmp.nearRTRIC.trafficCapacityBPS' value='`$tmp.nearRTRIC.trafficCapacity * 1000`' />",
        "comments": "",
        "x": 4218.218566894531,
        "y": 6901.030272424221,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "5549b452.661d0c",
        "type": "set",
        "name": "Calculate RRM Parms7",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.totalPRBForSNSSAI' value='`$tmp.nearRTRIC.trafficCapacityBPS / 1008000`' />\n",
        "comments": "",
        "x": 4205.218505859375,
        "y": 6971.030638694763,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "1ca771aa.9bd5be",
        "type": "set",
        "name": "calculation8",
        "xml": "<set>\n<parameter name='tmp.nrcelldu.PRBPerImpactedCell' value='`$tmp.nrcelldu.totalPRBForSNSSAI / $tmp.cellDUList_length`' />\n",
        "comments": "",
        "x": 4176.218505859375,
        "y": 7035.029662132263,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "203180d4.9e923",
        "type": "set",
        "name": "calculation9",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU1' value='`$tmp.nrcelldu.PRBPerImpactedCell * 100`' />\n",
        "comments": "",
        "x": 4164.219055175781,
        "y": 7086.029540061951,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "219a8e3a.f72772",
        "type": "set",
        "name": "calculation10",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU' value='`$tmp.rRMPolicyDedicatedRatio.CellDU1 / $prop.nrcelldu.TotalPRBsPerCell`' />\n",
        "comments": "",
        "x": 4139.6773681640625,
        "y": 7152.010008811951,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "1c9ed23b.4f193e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio for CellDU \"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>\n<parameter name=\"field3\" value=\"tmp.nearRTRIC.trafficCapacity1 \"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.trafficCapacity1`\"/>\n<parameter name=\"field5\" value=\"tmp.nearRTRIC.trafficCapacity \"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.trafficCapacity`\"/>\n<parameter name=\"field7\" value=\"tmp.nearRTRIC.trafficCapacityBPS\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRIC.trafficCapacityBPS`\"/>\n<parameter name=\"field9\" value=\"tmp.nrcelldu.totalPRBForSNSSAI \"/>\n<parameter name=\"field10\" value=\"`$tmp.nrcelldu.totalPRBForSNSSAI`\"/>\n<parameter name=\"field11\" value=\"tmp.nrcelldu.PRBPerImpactedCell \"/>\n<parameter name=\"field12\" value=\"`$tmp.nrcelldu.PRBPerImpactedCell`\"/>\n<parameter name=\"field13\" value=\"tmp.rRMPolicyDedicatedRatio.CellDU1 \"/>\n<parameter name=\"field14\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU1`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3965.6872940063477,
        "y": 7164.131315231323,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "740d4492.9dfedc",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='iddu-rrm' start='0' end='`$tmp.rrmPolicyRatioDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3185.9375,
        "y": 7353.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "c631ef5d.7e695"
            ]
        ]
    },
    {
        "id": "c631ef5d.7e695",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3406.9375,
        "y": 7373.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "f88ebc95.6c0e2",
                "1094e78c.1a9e18",
                "7d907286.e0ebdc",
                "7c8636a2.5461a8",
                "3cfab4f0.c2cc2c",
                "83f77f3d.da01",
                "8022411d.2afc4",
                "af4fe13.388ef2",
                "e0f232d4.689f3",
                "319a89b8.06c606"
            ]
        ]
    },
    {
        "id": "f88ebc95.6c0e2",
        "type": "set",
        "name": "Calculate updated RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyDedicatedRatio_CellDU_updated' value=\"`$tmp.rrmPolicyDedicatedRatio_cellDU-old + $tmp.rRMPolicyDedicatedRatio.CellDU`\" />",
        "comments": "",
        "x": 3733.366012573242,
        "y": 7313.544990062714,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "7d907286.e0ebdc",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3678.509262084961,
        "y": 7357.401766777039,
        "z": "455d609e.a0899",
        "wires": [
            [
                "a2fed250.1dbec",
                "4669fa96.d13b64"
            ]
        ]
    },
    {
        "id": "a2fed250.1dbec",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3874.223258972168,
        "y": 7348.687252998352,
        "z": "455d609e.a0899",
        "wires": [
            [
                "e9fba06d.40e2d"
            ]
        ]
    },
    {
        "id": "e9fba06d.40e2d",
        "type": "execute",
        "name": "patchRRMPolicyRatio NRCellDU - URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4191.937717437744,
        "y": 7317.974189758301,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "3cfab4f0.c2cc2c",
        "type": "set",
        "name": "RRMPolicyMember Id",
        "xml": "<set>\n<parameter name='tmp.RRMPolicyMember_id' value=\"`$tmp.RRMPolicyMembersDU_Length+1`\" />",
        "comments": "",
        "x": 3663.509033203125,
        "y": 7525.2588901519775,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "1094e78c.1a9e18",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatioid - \"/>\n<parameter name=\"field2\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyMemberid- \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field5\" value=\"Updated RRMPolicyRatio for CellDU is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.rrmPolicyDedicatedRatio_CellDU_updated`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3639.080551147461,
        "y": 7564.973768234253,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "7c8636a2.5461a8",
        "type": "execute",
        "name": "patch NRCellDU - RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-patch-RRMPolicyRatio-NRCellCU.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PATCH\"/>\n<parameter name=\"responsePrefix\" value=\"patch-cellDU-RRMPolicyRatio-response\"/>\n<parameter name='contentType' value='application/yang.patch+json' />\n<parameter name='accept' value='application/yang.patch-status+json'/>\n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 3723.2232971191406,
        "y": 7601.258993148804,
        "z": "455d609e.a0899",
        "wires": [
            [
                "355dc4b3.68e94c",
                "5e13c53c.93e34c"
            ]
        ]
    },
    {
        "id": "355dc4b3.68e94c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4000.9375,
        "y": 7564.687271118164,
        "z": "455d609e.a0899",
        "wires": [
            [
                "394442e2.05e3de"
            ]
        ]
    },
    {
        "id": "394442e2.05e3de",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4191.9375,
        "y": 7564.687271118164,
        "z": "455d609e.a0899",
        "wires": [
            [
                "e2e5abde.157168"
            ]
        ]
    },
    {
        "id": "e2e5abde.157168",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Patched - cellDU RRMpolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4376.937255859375,
        "y": 7565.687515258789,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "54ad3b1e.c4d254",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error patching cellDU RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4458.9375,
        "y": 7608.687271118164,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "883bc47d.5de348",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating RRMPolicyRatio for NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4463.9373779296875,
        "y": 7703.68733215332,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "4bd09b2f.4043a4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4196.4377784729,
        "y": 7606.437913417816,
        "z": "455d609e.a0899",
        "wires": [
            [
                "883bc47d.5de348",
                "54ad3b1e.c4d254",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "5e13c53c.93e34c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4009.9375915527344,
        "y": 7612.687913894653,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4bd09b2f.4043a4"
            ]
        ]
    },
    {
        "id": "885b653b.a80848",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2921.4375915527344,
        "y": 7657.68759727478,
        "z": "455d609e.a0899",
        "wires": [
            [
                "fbb2ac5b.f91c",
                "38f11b7b.ca4804",
                "553f1db2.f2d8e4",
                "81254dda.55d67",
                "22833ad.61eb9c6",
                "30c93168.5753ee",
                "4814cdab.1a8684",
                "c7d8e19c.d58da",
                "3c8782da.ff109e"
            ]
        ]
    },
    {
        "id": "fbb2ac5b.f91c",
        "type": "execute",
        "name": "Update cellDU for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updategNBDU`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updategNBDU.json\n'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3384.4375,
        "y": 7665.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "fba65910.a3ad18",
                "a2736f45.2cc1"
            ]
        ]
    },
    {
        "id": "fba65910.a3ad18",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3671.4375,
        "y": 7636.687744140625,
        "z": "455d609e.a0899",
        "wires": [
            [
                "3c82f0e2.57aeb"
            ]
        ]
    },
    {
        "id": "a2736f45.2cc1",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3671.687713623047,
        "y": 7675.187913894653,
        "z": "455d609e.a0899",
        "wires": [
            [
                "ee3ba16f.ef3c5"
            ]
        ]
    },
    {
        "id": "ee3ba16f.ef3c5",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3845.187526702881,
        "y": 7696.187671661377,
        "z": "455d609e.a0899",
        "wires": [
            [
                "2977d31f.b10cac"
            ]
        ]
    },
    {
        "id": "3c82f0e2.57aeb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3864.6875915527344,
        "y": 7658.937915802002,
        "z": "455d609e.a0899",
        "wires": [
            [
                "dc0fd6df.e4cd78",
                "9a983290.a77c6",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "9a983290.a77c6",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating Config DB - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4068.187412261963,
        "y": 7661.937792137265,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "2977d31f.b10cac",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellCU pLMNinfo \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4057.937774658203,
        "y": 7733.438037872314,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "dc0fd6df.e4cd78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-PLMNInfo in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4083.187225341797,
        "y": 7701.187671661377,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "d4bbbf1.5a3db4",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in updating RRMPolicyRatio - NRCellDU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4082.437286376953,
        "y": 7962.188038825989,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "7c9a7b5c.406324",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating NRCellDU-RRMPolicyRatio in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4102.437412261963,
        "y": 8003.438039779663,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "5dd75a58.af6ca4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3892.687774658203,
        "y": 7994.937673568726,
        "z": "455d609e.a0899",
        "wires": [
            [
                "7c9a7b5c.406324",
                "d4bbbf1.5a3db4",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "7ed6eabf.b8df24",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3706.687717437744,
        "y": 8089.18759059906,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5dd75a58.af6ca4"
            ]
        ]
    },
    {
        "id": "bb905b31.686438",
        "type": "execute",
        "name": "Update RRMPolicy for gNBDU in ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRRMPolicy`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRRMPolicy-DU.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-gNBDU-rrmpolicy-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3484.438201904297,
        "y": 8110.68746805191,
        "z": "455d609e.a0899",
        "wires": [
            [
                "7ed6eabf.b8df24",
                "26a939c8.b92c46"
            ]
        ]
    },
    {
        "id": "26a939c8.b92c46",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3716.437656402588,
        "y": 8131.686979293823,
        "z": "455d609e.a0899",
        "wires": [
            [
                "e320327.082c7d"
            ]
        ]
    },
    {
        "id": "e320327.082c7d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3885.687713623047,
        "y": 8055.687796592712,
        "z": "455d609e.a0899",
        "wires": [
            [
                "7790c0be.a04b6"
            ]
        ]
    },
    {
        "id": "7790c0be.a04b6",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully updated ConfigDB - NRCellDU RRMPolicyRatio \"/>",
        "comments": "",
        "outputs": 1,
        "x": 4050.437774658203,
        "y": 8060.437552452087,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "e1447331.ebd45",
        "type": "block",
        "name": "block : SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4543.421875,
        "y": 4557.687502622604,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4f8c63b3.61aa6c",
                "7d2c61a8.4b204",
                "5c23bcdd.ab2b44",
                "fd3f01b9.bb34c",
                "347abf57.c6586"
            ]
        ]
    },
    {
        "id": "4f8c63b3.61aa6c",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.so.callbackURL\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiateRANSlice-input.common-header.request-id`\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiateRANSlice-input.action`\"/>\n",
        "comments": "",
        "x": 5196.4229736328125,
        "y": 4381.587253570557,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "7d2c61a8.4b204",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/so-callback-response.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$tmp.so.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />",
        "comments": "",
        "outputs": 1,
        "x": 5180.421737670898,
        "y": 4446.687838315964,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "5c23bcdd.ab2b44",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$tmp.so.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-modify-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />\n<parameter name=\"convertResponse\" value=\"true\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.restapi.so.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.restapi.so.password`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 5095.42174911499,
        "y": 4543.687716245651,
        "z": "455d609e.a0899",
        "wires": [
            [
                "b7ca012d.d3cf8",
                "7efd292a.aac4d8"
            ]
        ]
    },
    {
        "id": "b7ca012d.d3cf8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5321.421757698059,
        "y": 4520.687685251236,
        "z": "455d609e.a0899",
        "wires": [
            [
                "87b3bf4.48a1f4"
            ]
        ]
    },
    {
        "id": "7efd292a.aac4d8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5311.421611785889,
        "y": 4628.687624692917,
        "z": "455d609e.a0899",
        "wires": [
            [
                "8f2ee48c.a42128"
            ]
        ]
    },
    {
        "id": "8f2ee48c.a42128",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5461.421398162842,
        "y": 4647.687685728073,
        "z": "455d609e.a0899",
        "wires": [
            [
                "b2517de.9cc758"
            ]
        ]
    },
    {
        "id": "87b3bf4.48a1f4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5472.421627044678,
        "y": 4515.6878073215485,
        "z": "455d609e.a0899",
        "wires": [
            [
                "ed8da8d5.c2da58"
            ]
        ]
    },
    {
        "id": "ed8da8d5.c2da58",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 5638.421306610107,
        "y": 4518.687624692917,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "b2517de.9cc758",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 5625.421413421631,
        "y": 4653.687624692917,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "7653896e.4827d8",
        "type": "block",
        "name": "SO Response",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 625.421875,
        "y": 6239.687502622604,
        "z": "455d609e.a0899",
        "wires": [
            [
                "3e2306d4.7dc90a",
                "15814c15.08ad44",
                "21ad5245.507f2e",
                "242317a7.aea458",
                "3494073f.2d12e8",
                "eab4bde9.d20e"
            ]
        ]
    },
    {
        "id": "21ad5245.507f2e",
        "type": "set",
        "name": "set tmp variables for SO response",
        "xml": "<set>\n<parameter name=\"tmp.reason\" value=\"`$error-message`\"/>\n<parameter name=\"tmp.requestID\" value=\"`$instantiate-r-a-n-slice-input.common-header.request-id `\"/>\n<parameter name=\"tmp.action\" value=\"`$instantiate-r-a-n-slice-input.action`\"/>\n",
        "comments": "",
        "x": 902.4230804443359,
        "y": 6187.58703994751,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "3e2306d4.7dc90a",
        "type": "record",
        "name": "record SO reply parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for SO Callback Response\"/>\n<parameter name='field2' value=\"`$payloadJson.input.callbackURL`\" />\n<parameter name='field3' value=\"`$tmp.status`\" />\n<parameter name='field4' value=\"`$tmp.reason`\" />\n<parameter name='field5' value=\"`$tmp.requestID`\" />\n<parameter name='field6' value=\"`$tmp.action`\" />\n<parameter name='field7' value=\"`$prop.restapi.so.user`\" />\n<parameter name='field8' value=\"`$prop.restapi.so.password`\" />",
        "comments": "",
        "outputs": 1,
        "x": 900.4219131469727,
        "y": 6279.68768787384,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "15814c15.08ad44",
        "type": "execute",
        "name": "Send to SO",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-so-response.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$payloadJson.input.callbackURL`\"/>\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"so-callback-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='*/*' />\n<parameter name=\"restapiUser\" value=\"`$prop.restapi.so.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.restapi.so.password`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 771.4219512939453,
        "y": 6360.687390089035,
        "z": "455d609e.a0899",
        "wires": [
            [
                "bd5e932e.3c39e",
                "b2bf9c35.0d6ef"
            ]
        ]
    },
    {
        "id": "bd5e932e.3c39e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 936.4219512939453,
        "y": 6340.687389135361,
        "z": "455d609e.a0899",
        "wires": [
            [
                "560510a2.c1b78"
            ]
        ]
    },
    {
        "id": "b2bf9c35.0d6ef",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 928.4218444824219,
        "y": 6413.687339544296,
        "z": "455d609e.a0899",
        "wires": [
            [
                "b5b15174.eb021"
            ]
        ]
    },
    {
        "id": "b5b15174.eb021",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1074.421688079834,
        "y": 6418.687448263168,
        "z": "455d609e.a0899",
        "wires": [
            [
                "6f40b00b.614b6"
            ]
        ]
    },
    {
        "id": "560510a2.c1b78",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1085.4218521118164,
        "y": 6336.687524557114,
        "z": "455d609e.a0899",
        "wires": [
            [
                "3c2dd3bf.f7996c",
                "980abf97.37e05"
            ]
        ]
    },
    {
        "id": "3c2dd3bf.f7996c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error sending SO Response\" />",
        "comments": "",
        "x": 1232.4214706420898,
        "y": 6347.687266111374,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "6f40b00b.614b6",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"SO Response Sent \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1235.4216079711914,
        "y": 6424.687340497971,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "980abf97.37e05",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error sending SO response. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1219.9320793151855,
        "y": 6251.676757574081,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "242317a7.aea458",
        "type": "execute",
        "name": "generate URL for SO Callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.so.callbackURL`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.so.callbackURL\"/>\n    <parameter name=\"target\" value=\"{requestId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.requestID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 922.7615203857422,
        "y": 6233.673100471497,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "76ba0995.b14568",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2326.9375,
        "y": 3554.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "223432e2.37d6ce"
            ]
        ]
    },
    {
        "id": "223432e2.37d6ce",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2519.927158355713,
        "y": 3554.6876220703125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "85c2a3a3.13a29",
                "661ac784.71ef68"
            ]
        ]
    },
    {
        "id": "85c2a3a3.13a29",
        "type": "execute",
        "name": "generate fetchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2826.927345275879,
        "y": 3521.68772315979,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "661ac784.71ef68",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2770.927745819092,
        "y": 3574.6879167556763,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "29904f95.67243",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2754.4375,
        "y": 2938.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "355a37c9.b9e4f8",
                "f8bd8f6e.7583d"
            ]
        ]
    },
    {
        "id": "f8bd8f6e.7583d",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3005.437931060791,
        "y": 2961.68763256073,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "355a37c9.b9e4f8",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3061.437530517578,
        "y": 2908.6874389648438,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "c117184.e14e3e8",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3242.993522644043,
        "y": 3944.576386451721,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "c256fff6.78f33",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToNRCellCU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3301.2154998779297,
        "y": 3901.576476097107,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "34be25f6.bedafa",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3017.5482330322266,
        "y": 3903.464822769165,
        "z": "455d609e.a0899",
        "wires": [
            [
                "c256fff6.78f33",
                "c117184.e14e3e8"
            ]
        ]
    },
    {
        "id": "867ad2e1.9e6c6",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2853.4476470947266,
        "y": 3903.465445995331,
        "z": "455d609e.a0899",
        "wires": [
            [
                "34be25f6.bedafa"
            ]
        ]
    },
    {
        "id": "d0ee5ec4.84f2c",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2293.9375,
        "y": 4591.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "f016f94d.14a528",
        "type": "execute",
        "name": "generate patchPLMNInfoList.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2349.937099456787,
        "y": 4538.687306404114,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "33e4f427.04a2dc",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2031.270450592041,
        "y": 4534.243085861206,
        "z": "455d609e.a0899",
        "wires": [
            [
                "f016f94d.14a528",
                "d0ee5ec4.84f2c"
            ]
        ]
    },
    {
        "id": "ec14485f.e03538",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2073.9375,
        "y": 4935.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4344533a.25bcac",
                "18ce9570.24e4cb"
            ]
        ]
    },
    {
        "id": "4344533a.25bcac",
        "type": "execute",
        "name": "fetch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2375.9374351501465,
        "y": 4895.687561035156,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "18ce9570.24e4cb",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2319.9378356933594,
        "y": 4948.6877546310425,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "fce4854e.dff928",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1846.4375,
        "y": 4944.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "ec14485f.e03538"
            ]
        ]
    },
    {
        "id": "7d4a8733.447fe8",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2391.2154502868652,
        "y": 5368.4652280807495,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d41bf4ab.975038"
            ]
        ]
    },
    {
        "id": "d41bf4ab.975038",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2606.493106842041,
        "y": 5346.131956100464,
        "z": "455d609e.a0899",
        "wires": [
            [
                "7515cbb9.14c3a4",
                "bd976e39.746bf"
            ]
        ]
    },
    {
        "id": "7515cbb9.14c3a4",
        "type": "execute",
        "name": "patch RRMPolicyRatio.TogNBCUUP",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBCUUP.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2912.9374351501465,
        "y": 5341.687561035156,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "bd976e39.746bf",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2856.9378356933594,
        "y": 5394.6877546310425,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "ad1a7acb.845bc8",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3496.4375,
        "y": 6373.6875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "40b98ea1.286ae",
                "8984b0c8.c4e01"
            ]
        ]
    },
    {
        "id": "40b98ea1.286ae",
        "type": "execute",
        "name": "generate patchPLMNInfoList.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.patchPLMNInfoListEntry.ToNRCellDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3803.437530517578,
        "y": 6343.687438964844,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "8984b0c8.c4e01",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoListEntry-cellDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoListEntry-cellDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3747.437931060791,
        "y": 6396.68763256073,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "1c0119ab.5c85d6",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3434.6162185668945,
        "y": 7042.401922225952,
        "z": "455d609e.a0899",
        "wires": [
            [
                "aa1a587f.955d58"
            ]
        ]
    },
    {
        "id": "aa1a587f.955d58",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3565.902297973633,
        "y": 7069.222620010376,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5278d5c9.75259c",
                "5f1afb4f.90fab4"
            ]
        ]
    },
    {
        "id": "5278d5c9.75259c",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3807.1875495910645,
        "y": 6961.9370975494385,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "5f1afb4f.90fab4",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3750.1880378723145,
        "y": 7022.937463760376,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "4669fa96.d13b64",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3868.9019165039062,
        "y": 7388.8306674957275,
        "z": "455d609e.a0899",
        "wires": [
            [
                "220f7677.d6e68a"
            ]
        ]
    },
    {
        "id": "220f7677.d6e68a",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4027.3311729431152,
        "y": 7399.937514305115,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d0940f6a.14cf5",
                "ba271291.bdfed"
            ]
        ]
    },
    {
        "id": "d0940f6a.14cf5",
        "type": "execute",
        "name": "generate patchRRMPolicyRatio.ToNRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.RRMPolicyRatioEntry.ToGNBDU.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4277.187271118164,
        "y": 7362.652166366577,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "ba271291.bdfed",
        "type": "execute",
        "name": "populate mountName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4215.902320861816,
        "y": 7412.2232456207275,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "56f74a79.31ce94",
        "type": "comment",
        "name": "instantiateRANSlice-ModifyAllocate",
        "info": "",
        "comments": "",
        "x": 763.6874847412109,
        "y": 1824.937502861023,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "8a5ed2cd.9399e",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"SUCCESSFUL Execution\" />",
        "comments": "",
        "x": 273.95831298828125,
        "y": 3241.0416259765625,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "b99e02ca.b64a1",
        "type": "execute",
        "name": "set  sNSSAI & PLMN id",
        "xml": "<set>\n\n<parameter name='tmp.payload.sNSSAI' value='`$payloadJson.input.sliceProfile.snssaiList[0]`'/>\n<parameter name='tmp.payload.pLMNId' value='`$payloadJson.input.sliceProfile.pLMNIdList[0]`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 707.6874694824219,
        "y": 1968.937512397766,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "fd98f39c.b2dbb",
        "type": "set",
        "name": "Calculate maxNumberOfConnsPercellCU * 100",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellCU1' value='`$tmp.maxNumberOfConnsPercellCU * 100`' />\n",
        "comments": "",
        "x": 2190.437578201294,
        "y": 3430.1875162124634,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "bc8cd9f1.578858",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio_SliceProfile' value='`$tmp.rRMPolicyDedicatedRatio.CellCU1 / $prop.nrcellcu.maxNumberOfConnsPerCell`' />",
        "comments": "",
        "x": 2142.437578201294,
        "y": 3468.1875162124634,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "cd009318.5c331",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioList_length' value='`$get-rrmpolicyratio-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 2176.6874866485596,
        "y": 3757.187642097473,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "631af425.c9f17c",
        "type": "execute",
        "name": "read rrmPolicyDedicatedRatio_cellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatiocellCU_old' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2642.6874866485596,
        "y": 3829.937584877014,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "17967b74.010035",
        "type": "block",
        "name": "Get Cells List in TA",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 713.9374618530273,
        "y": 2266.9377093315125,
        "z": "455d609e.a0899",
        "wires": [
            [
                "497c327c.97929c",
                "a6fe37f0.81a4f8",
                "b02e3abf.a86378"
            ]
        ]
    },
    {
        "id": "497c327c.97929c",
        "type": "execute",
        "name": "generate getListOfCells URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getListOfCells`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getListOfCells.url\"/>\n    <parameter name=\"target\" value=\"{trackingArea}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.payload.trackingArea`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 979.4376754760742,
        "y": 2192.4376010894775,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "a6fe37f0.81a4f8",
        "type": "record",
        "name": "record configdb RestAPI parms",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"URL for configDB Get getListOfCells for tracking area\"/>\n<parameter name='field2' value=\"`$prop.configdb.url + $tmp.configdb.getListOfCells.url`\" />\n<parameter name='field3' value=\"`$tmp.payload.trackingArea`\" />",
        "comments": "",
        "outputs": 1,
        "x": 979.4376983642578,
        "y": 2234.1878752708435,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "b02e3abf.a86378",
        "type": "execute",
        "name": "Get ListOfCells for TrackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getListOfCells.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getListofCells-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 969.9377059936523,
        "y": 2309.9376788139343,
        "z": "455d609e.a0899",
        "wires": [
            [
                "765b9ac1.a0ddf4",
                "ead8b259.70095"
            ]
        ]
    },
    {
        "id": "765b9ac1.a0ddf4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1208.937484741211,
        "y": 2249.9376842975616,
        "z": "455d609e.a0899",
        "wires": [
            [
                "e5b67321.a1ceb"
            ]
        ]
    },
    {
        "id": "ead8b259.70095",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1198.6873016357422,
        "y": 2310.937668800354,
        "z": "455d609e.a0899",
        "wires": [
            [
                "44a4a5b1.0ae1fc"
            ]
        ]
    },
    {
        "id": "44a4a5b1.0ae1fc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1363.9370498657227,
        "y": 2293.9377336502075,
        "z": "455d609e.a0899",
        "wires": [
            [
                "7c41d7a4.feece8",
                "fe9a5fac.fa6b",
                "54a71ed9.303a2"
            ]
        ]
    },
    {
        "id": "7c41d7a4.feece8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Obtained List of Cells from ConfigDB\"/>\n<parameter name=\"field2\" value=\"`$getListofCells-configdb-response._length`\"/>\n<parameter name=\"field3\" value=\"List of Cells in the Tracking Area Relevant for RAN Slice Instantiation \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1554.9370651245117,
        "y": 2253.937686443329,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "54a71ed9.303a2",
        "type": "for",
        "name": "For list of cells",
        "xml": "<for index='idx' start='0' end='`$getListofCells-configdb-response._length `' >",
        "comments": "",
        "outputs": 1,
        "x": 1555.958179473877,
        "y": 2309.6038851737976,
        "z": "455d609e.a0899",
        "wires": [
            [
                "dbda78e3.f2fee8",
                "7c8be2b4.1b22ec"
            ]
        ]
    },
    {
        "id": "fe9a5fac.fa6b",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1534.7154541015625,
        "y": 2347.9376406669617,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "dbda78e3.f2fee8",
        "type": "execute",
        "name": "Cells in TrackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.trackingarea.cell' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $idx + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1769.9580841064453,
        "y": 2269.2704043388367,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "7c8be2b4.1b22ec",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$tmp.trackingarea.cell`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1725.9581184387207,
        "y": 2306.603763103485,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "e5b67321.a1ceb",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1369.9373626708984,
        "y": 2219.9376089572906,
        "z": "455d609e.a0899",
        "wires": [
            [
                "b79b6af9.fcf6d8",
                "2ef73553.f23fba",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "2ef73553.f23fba",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1606.9375762939453,
        "y": 2178.0487384796143,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "b79b6af9.fcf6d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error Getting Info from ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1586.9372634887695,
        "y": 2219.9376182556152,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "ace6606b.68005",
        "type": "for",
        "name": "foreach TACell",
        "xml": "<for index='id-ta' start='0' end='`$getListofCells-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2065.020881652832,
        "y": 2706.2987127304077,
        "z": "455d609e.a0899",
        "wires": [
            [
                "e25bf9f4.095bd8"
            ]
        ]
    },
    {
        "id": "4024b0b7.734ab",
        "type": "switchNode",
        "name": "is cellCU applicable for NSSAI",
        "xml": "<switch test='`$tmp.cellCULocalId == $tmp.cellCU2`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2313.9375,
        "y": 2641.4375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5b8a9f6f.34e8e"
            ]
        ]
    },
    {
        "id": "5b8a9f6f.34e8e",
        "type": "outcome",
        "name": "Applicable",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2254.9375,
        "y": 2714.4375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4dc023bd.03bb2c"
            ]
        ]
    },
    {
        "id": "e25bf9f4.095bd8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2106.9375,
        "y": 2541.4375,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4024b0b7.734ab",
                "ba7f7407.a21d18",
                "2364e8f7.5d2d88"
            ]
        ]
    },
    {
        "id": "ba7f7407.a21d18",
        "type": "execute",
        "name": "read Cell from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBCUCPList['+ $idz +'].cellCUList['+ $idcu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2432.9375,
        "y": 2484.4375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "2364e8f7.5d2d88",
        "type": "execute",
        "name": "read cellCU from getListofCells-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCU2' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $id-ta + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2442.9375,
        "y": 2549.4375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "bce9726.9ec009",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"RRMPolicyRatio_id is - \"/>\n<parameter name=\"field2\" value=\"`$tmp.RRMPolicyRatio_id`\"/>\n<parameter name=\"field3\" value=\"RRMPolicyMember_id - \"/>\n<parameter name=\"field4\" value=\"`$tmp.RRMPolicyMember_id`\"/>\n<parameter name=\"field5\" value=\"RRMPolicyRatio update URL is - \"/>\n<parameter name=\"field6\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2588.131996154785,
        "y": 4074.54864692688,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "32d61635.c6254a",
        "type": "execute",
        "name": "prepare idGNBCUCPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUCPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2872.854049682617,
        "y": 3940.381814956665,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "d70d01dc.542b9",
        "type": "execute",
        "name": "prepare idNRCellCU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellCU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2867.409507751465,
        "y": 3970.382055282593,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "8ac0e8de.ac5ae8",
        "type": "execute",
        "name": "read rrmPolicyMemberListLength",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyMembers' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-response.attributes.RRMPolicyRatio['+ $idcu-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2878.132125854492,
        "y": 4003.715398788452,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "2b7dbaee.357c96",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.cellLocalId' value='`$tmp.cellCULocalId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n<parameter name='tmp.gNBCUCPList.gNBCUName' value='`$tmp.CUCPName`'/>\n<parameter name='tmp.gNBCUCPList.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.gNBCUCPList.nFType' value='RRC Connected Users'/>\n    ",
        "comments": "",
        "x": 1965.6598320007324,
        "y": 4005.3819856643677,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "ff0d7cbd.61ef3",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"cellLocalId\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellLocalId`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field6\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"gNBCUName\"/>\n<parameter name=\"field8\" value=\"`$tmp.gNBCUCPList.gNBCUName`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBCUCPList.gNBId`\"/>\n<parameter name=\"field11\" value=\"nFType\"/>\n<parameter name=\"field12\" value=\"`$tmp.gNBCUCPList.nFType`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1952.1596794128418,
        "y": 4047.604124069214,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "7e615554.a590ac",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Config DB update\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1935.875,
        "y": 3962.1875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "c5491488.85b278",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellCU' value='`$tmp.rrmPolicyDedicatedRatio_CellCU_new`'/>\n<parameter name='tmp.resourceID' value='`$tmp.cellCULocalId`'/>",
        "comments": "",
        "x": 2152.500259399414,
        "y": 4389.000521659851,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "8c11e46e.e7de38",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellCU`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.payload.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2081.7502059936523,
        "y": 4419.972629547119,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "fe0d776e.ad3888",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"RRC Connected Users\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2049.909713745117,
        "y": 4123.993127822876,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "b5f25390.28012",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfo-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 2052.2984161376953,
        "y": 4228.159601211548,
        "z": "455d609e.a0899",
        "wires": [
            [
                "2d6906c0.0b79ba",
                "3c7f05ac.e6575a"
            ]
        ]
    },
    {
        "id": "c7071d1a.29313",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellCULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2005.4651947021484,
        "y": 4153.159741401672,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "2d6906c0.0b79ba",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2356.020751953125,
        "y": 4278.992919921875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4a27d4b7.19966c"
            ]
        ]
    },
    {
        "id": "3c7f05ac.e6575a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2360.1318130493164,
        "y": 4324.215222835541,
        "z": "455d609e.a0899",
        "wires": [
            [
                "a3caf3a0.573fd"
            ]
        ]
    },
    {
        "id": "4a27d4b7.19966c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2508.021043777466,
        "y": 4276.992899894714,
        "z": "455d609e.a0899",
        "wires": [
            [
                "e4f2cc3c.08a08",
                "b323ad8b.436ba"
            ]
        ]
    },
    {
        "id": "b323ad8b.436ba",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2674.020799636841,
        "y": 4242.992899894714,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "e4f2cc3c.08a08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2702.354263305664,
        "y": 4275.770917892456,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "b781c5c0.e99d78",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2677.9097442626953,
        "y": 4306.993270874023,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "dbb68511.af9468",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2776.1319122314453,
        "y": 4333.326366424561,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "a3caf3a0.573fd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2514.6874084472656,
        "y": 4327.881698608398,
        "z": "455d609e.a0899",
        "wires": [
            [
                "b781c5c0.e99d78",
                "dbb68511.af9468"
            ]
        ]
    },
    {
        "id": "17be12e0.6cf26d",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1989.9096908569336,
        "y": 4188.326204538345,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "4d887bf4.abf894",
        "type": "set",
        "name": "Calculate maxNumberOfDRBsPerNSSAI",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfDRBsPerNSSAI' value='`$tmp.payload.maxNumberofConns*4`' />",
        "comments": "",
        "x": 1737.409683227539,
        "y": 4747.604368209839,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "153b5a9f.050215",
        "type": "set",
        "name": "Calculate maxNumberOfDRBsPerCUUP",
        "xml": "<set>\n<parameter name='tmp.maxNumberOfDRBsPerCUUP' value='`$tmp.maxNumberOfDRBsPerNSSAI /$tmp.CUUPList_length`' />",
        "comments": "",
        "x": 1746.2985382080078,
        "y": 4782.048360824585,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "57b0b41e.afc19c",
        "type": "set",
        "name": "Calculate RRMPolicyRatio",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio-CUUP' value='`$tmp.rRMPolicyDedicatedRatio1/$prop.cuupfunction.maxNumberOfDRBsPerCUUP`' />",
        "comments": "",
        "x": 1697.4096755981445,
        "y": 4853.159759521484,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "23344ac4.5bd5d6",
        "type": "execute",
        "name": "prepare mcc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mcc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mcc`\"/>\n   ",
        "comments": "",
        "outputs": 1,
        "x": 1683.798583984375,
        "y": 4598.437255859375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "779e1406.be030c",
        "type": "execute",
        "name": "prepare mnc",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.patchPLMNInfoList-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{mnc}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.mnc`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1692.6875762939453,
        "y": 4634.659734725952,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "21aa00ea.df3ec",
        "type": "record",
        "name": "record API params",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"patch CUUP NSSAI parameters\"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field3\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n<parameter name=\"field4\" value=\"`$tmp.mcc`\"/>\n<parameter name=\"field5\" value=\"`$tmp.mnc`\"/>\n<parameter name=\"field6\" value=\"`$tmp.patchPLMNInfoList-CUUP.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1695.5765838623047,
        "y": 4670.659729003906,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "14886486.642e8b",
        "type": "execute",
        "name": "read existing rrmPolicyDedicatedRatio ",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatio_CUUP' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2219.6317749023438,
        "y": 5252.881717681885,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "e237a3ae.4983",
        "type": "execute",
        "name": "read rrmPolicyMemberListLength",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyMembers-CUUP' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2220.1875762939453,
        "y": 5452.88166809082,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "7d7e1d18.05c494",
        "type": "execute",
        "name": "prepare idGNBCUUPFunction",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-CUUP.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-CUUP.url\"/>\n    <parameter name=\"target\" value=\"{idGNBCUUPFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2223.242919921875,
        "y": 5382.8818359375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "89af4e2e.43cf",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioList_CUUP_length' value='`$get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 1680.6874542236328,
        "y": 5163.881999969482,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "825f02ed.99f83",
        "type": "execute",
        "name": "read RRMPolicyRatio_id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-cuup-response.attributes.RRMPolicyRatio['+ $idcuup-rrm+'].id'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2202.4097061157227,
        "y": 5419.548250198364,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "fc6bfbef.3af9e8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Config DB update\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1869.25,
        "y": 5499.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "8c4929e5.6f9658",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.gNBCUUPList.gNBCUUPId' value='`$tmp.idGNBCUUPFunction`'/>\n<parameter name='tmp.gNBCUUPList.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n    ",
        "comments": "",
        "x": 1899.0348320007324,
        "y": 5542.881985664368,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "5dbb1c5b.d631a4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"sNSSAI\"/>\n<parameter name=\"field2\" value=\"`$payloadJson.input.sliceProfile.sNSSAI`\"/>\n<parameter name=\"field3\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field4\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field5\" value=\"gNBCUUPId\"/>\n<parameter name=\"field6\" value=\"`$tmp.gNBCUUPList.gNBCUUPId`\"/>\n<parameter name=\"field7\" value=\"pLMNId\"/>\n<parameter name=\"field8\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBCUUPList.gNBId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1885.5346794128418,
        "y": 5585.104124069214,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "5d16731a.6b461c",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"DRB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1965.3263397216797,
        "y": 5693.888933181763,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "c4ecb988.bec058",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1917.548439025879,
        "y": 5737.499889373779,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "e8707ee3.2d80f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1880.881980895996,
        "y": 5774.9998989105225,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "abd3770e.f378a8",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfo-cuup-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 1944.3819427490234,
        "y": 5804.722163200378,
        "z": "455d609e.a0899",
        "wires": [
            [
                "62821e3e.22e2a",
                "b9391ea8.9724"
            ]
        ]
    },
    {
        "id": "b2df5de3.460c8",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CUUP' value='`$tmp.rrmPolicyDedicatedRatio_CUUP_updated`'/>\n<parameter name='tmp.resourceID' value='`$tmp.idGNBCUUPFunction`'/>",
        "comments": "",
        "x": 2007.5838203430176,
        "y": 5950.229001998901,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "ce9fcfaf.5934",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CUUP`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1958.6111907958984,
        "y": 5984.979002952576,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "62821e3e.22e2a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2267.5486946105957,
        "y": 5763.749805450439,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d0bcfef9.7235f"
            ]
        ]
    },
    {
        "id": "d0bcfef9.7235f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2415.79891204834,
        "y": 5771.749988555908,
        "z": "455d609e.a0899",
        "wires": [
            [
                "6983f4d6.36b6ec",
                "d3ef16c3.cf6f38"
            ]
        ]
    },
    {
        "id": "d3ef16c3.cf6f38",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2603.0487308502197,
        "y": 5751.50004863739,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "6983f4d6.36b6ec",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 2621.3821334838867,
        "y": 5794.278064727783,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "284fd72.cdff928",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2685.1597213745117,
        "y": 5858.083302497864,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "da9eb563.5873c8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 2626.937587738037,
        "y": 5824.250293731689,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "378ff3df.f41fec",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2431.215171813965,
        "y": 5852.638966560364,
        "z": "455d609e.a0899",
        "wires": [
            [
                "da9eb563.5873c8",
                "284fd72.cdff928"
            ]
        ]
    },
    {
        "id": "b9391ea8.9724",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2261.1043090820312,
        "y": 5835.222243309021,
        "z": "455d609e.a0899",
        "wires": [
            [
                "378ff3df.f41fec"
            ]
        ]
    },
    {
        "id": "9ab23028.6e822",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2037.6873168945312,
        "y": 6207.881645202637,
        "z": "455d609e.a0899",
        "wires": [
            [
                "a0595508.047b68"
            ]
        ]
    },
    {
        "id": "a0595508.047b68",
        "type": "for",
        "name": "foreach TACell",
        "xml": "<for index='id-ta' start='0' end='`$getListofCells-configdb-response._length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2223.65975189209,
        "y": 6207.826633453369,
        "z": "455d609e.a0899",
        "wires": [
            [
                "3430fe1e.82dbd2"
            ]
        ]
    },
    {
        "id": "3430fe1e.82dbd2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2424.465057373047,
        "y": 6209.631858825684,
        "z": "455d609e.a0899",
        "wires": [
            [
                "75c7ccb9.ba6c54",
                "9c14da11.5e6188",
                "b54b183b.2984e8"
            ]
        ]
    },
    {
        "id": "9c14da11.5e6188",
        "type": "execute",
        "name": "read Cell from getNFNSSIRIC-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCULocalId' />\n\t<parameter name='source' value=\"`'getNFNSSIRIC-configdb-response.['+ $idy +'].gNBDUList['+ $id-du +'].cellDUList['+ $id-celldu +'].cellLocalId'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2706.020782470703,
        "y": 6035.9650675058365,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "b54b183b.2984e8",
        "type": "execute",
        "name": "read cellCU from getListofCells-configdb-response",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.cellCU2' />\n\t<parameter name='source' value=\"`'getListofCells-configdb-response.[' + $id-ta + ']'`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2709.3541107177734,
        "y": 6077.631736755371,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "75c7ccb9.ba6c54",
        "type": "switchNode",
        "name": "is cellCU applicable for NSSAI",
        "xml": "<switch test='`$tmp.cellCULocalId == $tmp.cellCU2`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2669.2428665161133,
        "y": 6120.743136242032,
        "z": "455d609e.a0899",
        "wires": [
            [
                "21385e63.b68312"
            ]
        ]
    },
    {
        "id": "21385e63.b68312",
        "type": "outcome",
        "name": "Applicable",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2906.909637451172,
        "y": 6124.853748321533,
        "z": "455d609e.a0899",
        "wires": [
            [
                "307d57f4.eb2bc8"
            ]
        ]
    },
    {
        "id": "90d93b8b.372408",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated RRMPolicyRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3202.330322265625,
        "y": 6905.58056640625,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "8d80b679.3595c8",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioDUList_length' value='`$get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio_length`'/>\n\n    ",
        "comments": "",
        "x": 3216.616310119629,
        "y": 7249.50873374939,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "83f77f3d.da01",
        "type": "execute",
        "name": "Set existing RRMPolicyRatio",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.rrmPolicyDedicatedRatio_cellDU-old' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm +'].attributes.rRMPolicyDedicatedRatio'`\" />\n\t\n\t",
        "comments": "",
        "outputs": 1,
        "x": 3724.1163177490234,
        "y": 7274.1516456604,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "8022411d.2afc4",
        "type": "execute",
        "name": "Read  RRMPolicyRatioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyRatio_id' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+'].id'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3687.330764770508,
        "y": 7397.723211288452,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "af4fe13.388ef2",
        "type": "execute",
        "name": "Read  RRMPolicyMembers Length",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.RRMPolicyMembersDU_Length' />\n\t<parameter name='source' value=\"`'get-rrmpolicyratio-du-response.attributes.RRMPolicyRatio['+ $iddu-rrm+ ']'.attributes.rRMPolicyMemberList_length'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3693.044708251953,
        "y": 7490.222984313965,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "e0f232d4.689f3",
        "type": "execute",
        "name": "set gNBDUId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idGNBDUFunction}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3859.830322265625,
        "y": 7429.8662109375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "319a89b8.06c606",
        "type": "execute",
        "name": "set NRCellDU",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.getRRMPolicyRatio-gNBDU.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.getRRMPolicyRatio-gNBDU.url\"/>\n    <parameter name=\"target\" value=\"{idNRCellDU}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3852.6875,
        "y": 7461.29443359375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "b4ea4ccb.5053d",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"idNRCellDU\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellDULocalId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3183.4375,
        "y": 7137.9375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "38f11b7b.ca4804",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.cellLocalId' value='`$tmp.cellDULocalId`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberofConns`'/>\n<parameter name='tmp.dLThptPerSlice' value='`$tmp.payload.dLThptPerSlice`'/>\n<parameter name='tmp.uLThptPerSlice' value='`$tmp.payload.uLThptPerSlice`'/>\n<parameter name='tmp.gNBId' value='`$tmp.gNBId`'/>\n<parameter name='tmp.gNBDUList.gNBDUId' value='`$tmp.GNBDUId`'/>\n<parameter name='tmp.pLMNId' value='`$tmp.payload.pLMNId`'/>\n    ",
        "comments": "",
        "x": 3303.0625,
        "y": 7571.5,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "553f1db2.f2d8e4",
        "type": "execute",
        "name": "generate getRRMPolicyRatio URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.configdb.getRRMPolicyRatio`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceType}\"/>\n    <parameter name=\"replacement\" value=\"PRB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3370.5625,
        "y": 7705.875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "81254dda.55d67",
        "type": "execute",
        "name": "prepare resourceId",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.configdb.getRRMPolicyRatio-existing.url\"/>\n    <parameter name=\"target\" value=\"{resourceId}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.cellDULocalId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3329.1180114746094,
        "y": 7745.04146194458,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "22833ad.61eb9c6",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"get RRMPolicyby Resource URL\"/>\n<parameter name=\"field2\" value=\"`$tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3310.562454223633,
        "y": 7779.208044052124,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "30c93168.5753ee",
        "type": "execute",
        "name": "Get rrmPolicy by resourceid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $tmp.configdb.getRRMPolicyRatio-existing.url`\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"getrrmpolicyratioinfoDU-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />",
        "comments": "",
        "outputs": 1,
        "x": 3372.951202392578,
        "y": 7810.041473388672,
        "z": "455d609e.a0899",
        "wires": [
            [
                "aa039732.1b1568",
                "9cd1b558.a90538"
            ]
        ]
    },
    {
        "id": "aa039732.1b1568",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3676.673538208008,
        "y": 7860.874792098999,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5b5bdd83.c71154"
            ]
        ]
    },
    {
        "id": "5b5bdd83.c71154",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3828.6738300323486,
        "y": 7858.874772071838,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d05d6e1.6082d9",
                "2668f1af.3b1e4e"
            ]
        ]
    },
    {
        "id": "2668f1af.3b1e4e",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in retrieving RRMPolicyRatio. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 3994.6735858917236,
        "y": 7824.874772071838,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "d05d6e1.6082d9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error in Fetching RRMPolicyRatio - CellCU. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 4023.007049560547,
        "y": 7857.65279006958,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "bfbb3129.ec4c7",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Retrieved - RRMPolicyRatio\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3998.562530517578,
        "y": 7888.8751430511475,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "153d314f.f1e2af",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/ranSlice-instantiateRANSlice-configrsp-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4096.784698486328,
        "y": 7915.208238601685,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "25ce771f.6a75f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3835.3401947021484,
        "y": 7909.7635707855225,
        "z": "455d609e.a0899",
        "wires": [
            [
                "bfbb3129.ec4c7",
                "153d314f.f1e2af"
            ]
        ]
    },
    {
        "id": "9cd1b558.a90538",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3680.784599304199,
        "y": 7906.097095012665,
        "z": "455d609e.a0899",
        "wires": [
            [
                "25ce771f.6a75f8"
            ]
        ]
    },
    {
        "id": "fdf5da89.d692e8",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.resourceID' value='`$tmp.cellDULocalId`'/>\n<parameter name='tmp.rRMPolicyDedicatedRatio.CellDU' value='`$tmp.rrmPolicyDedicatedRatio_CellDU_updated`'/>",
        "comments": "",
        "x": 3492.1537857055664,
        "y": 8028.882292747498,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "60d01404.87c6dc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"rRMPolicyDedicatedRatio\"/>\n<parameter name=\"field2\" value=\"`$tmp.rRMPolicyDedicatedRatio.CellDU`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.payload.pLMNId`\"/>\n<parameter name=\"field5\" value=\"sNSSAI\"/>\n<parameter name=\"field6\" value=\"`$tmp.sNSSAI`\"/>\n<parameter name=\"field7\" value=\"rrmPolicyID\"/>\n<parameter name=\"field8\" value=\"`$prop.configDB.rrmPolicyID`\"/>\n<parameter name=\"field9\" value=\"resourceID\"/>\n<parameter name=\"field10\" value=\"`$tmp.resourceID`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3454.4030532836914,
        "y": 8064.85446023941,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "4814cdab.1a8684",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"cellLocalId\"/>\n<parameter name=\"field2\" value=\"`$tmp.cellLocalId`\"/>\n<parameter name=\"field3\" value=\"pLMNId\"/>\n<parameter name=\"field4\" value=\"`$tmp.pLMNId`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConns\"/>\n<parameter name=\"field6\" value=\"`$tmp.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"GNBDUId\"/>\n<parameter name=\"field8\" value=\"`$tmp.gNBDUList.gNBDUId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"dLThptPerSlice\"/>\n<parameter name=\"field12\" value=\"`$tmp.dLThptPerSlice`\"/>\n<parameter name=\"field13\" value=\"uLThptPerSlice\"/>\n<parameter name=\"field14\" value=\"`$tmp.uLThptPerSlice`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3289.5623474121094,
        "y": 7613.722138404846,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "496ca4c4.07658c",
        "type": "execute",
        "name": "set  globalCustomerId",
        "xml": "<set>\n<parameter name='tmp.payload.globalCustomerId' value='`$payloadJson.input.globalSubscriberId`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 702.9375228881836,
        "y": 1881.687497138977,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "1d5a2839.2729c8",
        "type": "execute",
        "name": "set  serviceType",
        "xml": "<set>\n<parameter name='tmp.serviceType' value='`$payloadJson.input.subscriptionServiceType`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 706.9375,
        "y": 1920.6875009536743,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "34df32c2.9e490e",
        "type": "execute",
        "name": "Update RAN Inventory ConfigDB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.configdb.url + $prop.restapi.configdb.updateRANSliceInventory`\"/>\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-configDB-updateRANSliceInventory.json'`\" />\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"update-inventory-configdb-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 859.1875,
        "y": 5966.1875,
        "z": "455d609e.a0899",
        "wires": [
            [
                "db6561b2.8bdf7",
                "f42da1a4.03f23"
            ]
        ]
    },
    {
        "id": "3689f03e.e3722",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Update inventory in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 828.4374885559082,
        "y": 5747.687491416931,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "db6561b2.8bdf7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1095.1881580352783,
        "y": 5920.187858581543,
        "z": "455d609e.a0899",
        "wires": [
            [
                "fb80042c.de46b8"
            ]
        ]
    },
    {
        "id": "fb80042c.de46b8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1235.1884765625,
        "y": 5928.1877365112305,
        "z": "455d609e.a0899",
        "wires": [
            [
                "52a3c5f7.3907ec",
                "526640e5.b4042"
            ]
        ]
    },
    {
        "id": "526640e5.b4042",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating nearRTRIC info in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1370.1881713867188,
        "y": 5894.299247741699,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "52a3c5f7.3907ec",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value='Error updating inventory in ConfigDB. Aborting RPC executiopn'/>",
        "comments": "",
        "x": 1424.1878967285156,
        "y": 5931.187797546387,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "263d444e.cb450c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully Updated inventory in ConfigDB\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1443.1881484985352,
        "y": 5983.187985420227,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "3ecf8ef.e099272",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1257.187900543213,
        "y": 5999.187741279602,
        "z": "455d609e.a0899",
        "wires": [
            [
                "263d444e.cb450c",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "f42da1a4.03f23",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1099.1881103515625,
        "y": 6000.187496185303,
        "z": "455d609e.a0899",
        "wires": [
            [
                "3ecf8ef.e099272"
            ]
        ]
    },
    {
        "id": "c8ac7e7f.120d5",
        "type": "set",
        "name": "set API params",
        "xml": "<set>\n<parameter name='tmp.dLThptPerSlice' value='`$tmp.payload.dLThptPerSlice`'/>\n<parameter name='tmp.payload.pLMNId' value='`$tmp.pLMNId`'/>\n<parameter name='tmp.payload.sNSSAI' value='`$tmp.sNSSAI`'/>\n<parameter name='tmp.uLThptPerSlice' value='`$tmp.payload.uLThptPerSlice`'/>\n<parameter name='tmp.maxNumberOfConns' value='`$tmp.payload.maxNumberOfConns`'/>",
        "comments": "",
        "x": 819.1875,
        "y": 5835.4375,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "72fbb69d.81f2a8",
        "type": "execute",
        "name": "prepare gNBDUList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.DUList.response' />\n\t<parameter name='keyName' value='gNBDUId' />\n\t<parameter name='keyValue' value=\"`$tmp.GNBDUId`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3175.9375,
        "y": 6796.4375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "7cdf3d8d.947174",
        "type": "execute",
        "name": "prepare gNBCUUPList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.CUUPList.response' />\n\t<parameter name='keyName' value='gNBCUUPId' />\n\t<parameter name='keyValue' value=\"`$tmp.idGNBCUUPFunction`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1730.1875,
        "y": 5022.1875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "ff9b33e3.7fe4c",
        "type": "execute",
        "name": "prepare gNBCUCPList for SO callback",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setPropertiesForList'>\n    <parameter name='prefixKey' value='tmp.CUCPList.response' />\n\t<parameter name='keyName' value='gNBCUName' />\n\t<parameter name='keyValue' value=\"`$tmp.CUCPName`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2255.1875,
        "y": 3346.4375,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "e29742c3.c3832",
        "type": "for",
        "name": "For coverageAreaTAList",
        "xml": "<for index='ta' start='0' end='`$tmp.trackingAreaListEntries`'>",
        "comments": "",
        "outputs": 1,
        "x": 465.88195037841797,
        "y": 2260.60422039032,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5189c299.b9f03c"
            ]
        ]
    },
    {
        "id": "5189c299.b9f03c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 439.0691909790039,
        "y": 2335.926805973053,
        "z": "455d609e.a0899",
        "wires": [
            [
                "558121cd.ea6ef",
                "17967b74.010035",
                "9b2f113e.b4b1e",
                "966b1cca.bbb4b",
                "3dac56c8.c770da",
                "bc14979c.5267a8"
            ]
        ]
    },
    {
        "id": "558121cd.ea6ef",
        "type": "execute",
        "name": "read trackingArea",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='tmp.payload.trackingArea' />\n\t<parameter name='source' value=\"`'payloadJson.input.sliceProfile.coverageAreaTAList['+ $ta+']'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 763.9931297302246,
        "y": 2167.8820219039917,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "9b2f113e.b4b1e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"trackingArea \"/>\n<parameter name=\"field2\" value=\"`$tmp.payload.trackingArea`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 707.8819808959961,
        "y": 2214.2152047157288,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "75fbdd77.351a04",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcuup-rrm1' start='0' end='`$tmp.rrmPolicyRatio_configdb_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1870.1876678466797,
        "y": 5865.688166618347,
        "z": "455d609e.a0899",
        "wires": [
            [
                "64e5a410.cc103c"
            ]
        ]
    },
    {
        "id": "190635f0.8c176a",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatio_configdb_length' value='`$getrrmpolicyratioinfo-cuup-configdb-response._length`'/>\n\n    ",
        "comments": "",
        "x": 1931.1875,
        "y": 5833.687502861023,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "64e5a410.cc103c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2078.1875,
        "y": 5865.687502861023,
        "z": "455d609e.a0899",
        "wires": [
            [
                "48c52a6b.0445c4",
                "b2df5de3.460c8",
                "ce9fcfaf.5934",
                "44bd5aa.d042aa4"
            ]
        ]
    },
    {
        "id": "48c52a6b.0445c4",
        "type": "set",
        "name": "set rrmpolicyratioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='prop.configDB.rrmPolicyID' />\n\t<parameter name='source' value=\"`'getrrmpolicyratioinfo-cuup-configdb-response.['+$idcuup-rrm1+'].rrmPolicyID'`\" />\n\n    ",
        "comments": "",
        "x": 2095.187515258789,
        "y": 5917.68768119812,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "70c61cba.5c4364",
        "type": "set",
        "name": "set rrmpolicyratioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='prop.configDB.rrmPolicyID' />\n\t<parameter name='source' value=\"`'getrrmpolicyratioinfo-configdb-response.['+$idcu-rrm1+'].rrmPolicyID'`\" />\n",
        "comments": "",
        "x": 2170.4377059936523,
        "y": 4352.68820476532,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "8e6c1b6d.4ff728",
        "type": "set",
        "name": "set rrmpolicyratioid",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='getAttributeValue'>\n\t<parameter name='outputPath' value='prop.configDB.rrmPolicyID' />\n\t<parameter name='source' value=\"`'getrrmpolicyratioinfoDU-configdb-response.['+$iddu-rrm1+'].rrmPolicyID'`\" />\n",
        "comments": "",
        "x": 3505.43790435791,
        "y": 7991.687833786011,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "dea1a640.391c18",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioConfigDB_length' value='`$getrrmpolicyratioinfo-configdb-response._length`'/>\n\n    ",
        "comments": "",
        "x": 2046.6875,
        "y": 4262.187503814697,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "9fd4d19e.92b4f",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='idcu-rrm1' start='0' end='`$tmp.rrmPolicyRatioConfigDB_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1863.687614440918,
        "y": 4302.187595367432,
        "z": "455d609e.a0899",
        "wires": [
            [
                "964287ae.d95f48"
            ]
        ]
    },
    {
        "id": "964287ae.d95f48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2055.6875228881836,
        "y": 4304.187808036804,
        "z": "455d609e.a0899",
        "wires": [
            [
                "70c61cba.5c4364",
                "c5491488.85b278",
                "8c11e46e.e7de38",
                "30298499.2e81ec"
            ]
        ]
    },
    {
        "id": "c7d8e19c.d58da",
        "type": "set",
        "name": "set rrmpolicyratio list size",
        "xml": "<set>\n<parameter name='tmp.rrmPolicyRatioDUList_length' value='`$getrrmpolicyratioinfoDU-configdb-response._length`'/>\n\n    ",
        "comments": "",
        "x": 3360.187599182129,
        "y": 7848.18770980835,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "3c8782da.ff109e",
        "type": "for",
        "name": "for each rrmpolicyratio",
        "xml": "<for index='iddu-rrm1' start='0' end='`$tmp.rrmPolicyRatioDUList_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3342.1875,
        "y": 7892.187503814697,
        "z": "455d609e.a0899",
        "wires": [
            [
                "cfc5e869.662728"
            ]
        ]
    },
    {
        "id": "cfc5e869.662728",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3526.4375,
        "y": 7927.187503814697,
        "z": "455d609e.a0899",
        "wires": [
            [
                "8e6c1b6d.4ff728",
                "fdf5da89.d692e8",
                "60d01404.87c6dc",
                "bb905b31.686438"
            ]
        ]
    },
    {
        "id": "966b1cca.bbb4b",
        "type": "execute",
        "name": "set params",
        "xml": "<set>\n<parameter name='tmp.RICEntries' value=\"`$getNFNSSIRIC-configdb-response._length`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 368.9375,
        "y": 3048.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "3dac56c8.c770da",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Calculated uLThptPerSlice for nearRTRIC \"/>\n<parameter name=\"field2\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field3\" value=\"dLThptPerSlice for nearRTRIC\"/>\n<parameter name=\"field4\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field5\" value=\"maxNumberOfConn for nearRTRIC\"/>\n<parameter name=\"field6\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field7\" value=\"nearRTRICId\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRICId`\"/>\n<parameter name=\"field9\" value=\"gNBId\"/>\n<parameter name=\"field10\" value=\"`$tmp.gNBId`\"/>\n<parameter name=\"field11\" value=\"RANNFNSSI\"/>\n<parameter name=\"field12\" value=\"`$tmp.ranNFNSSIListEntry`\"/>\n<parameter name=\"field13\" value=\"NSSAI\"/>\n<parameter name=\"field14\" value=\"`$tmp.payload.sNSSAI`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 348.9375,
        "y": 3098.6875,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "5f7aefea.1c651",
        "type": "execute",
        "name": "set trackingArea size",
        "xml": "<set>\n\t<parameter name='tmp.trackingAreaListEntries' value=\"`$payloadJson.input.sliceProfile.coverageAreaTAList_length`\"/>\n\t",
        "comments": "",
        "outputs": 1,
        "x": 466.93751525878906,
        "y": 2165.6875104904175,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "41103c48.4c57f4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSliceModifyAllocate.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Tracking Area size\"/>\n<parameter name=\"field2\" value=\"`$tmp.trackingAreaListEntries`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 412.93751525878906,
        "y": 2204.687517642975,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "eab4bde9.d20e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Response code\"/>\n<parameter name=\"field2\" value=\"`$error-code`\" />",
        "comments": "",
        "outputs": 1,
        "x": 791.6875,
        "y": 6063.187502861023,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "3494073f.2d12e8",
        "type": "switchNode",
        "name": "check status",
        "xml": "<switch test='`$error-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 816.6874961853027,
        "y": 6116.93747651577,
        "z": "455d609e.a0899",
        "wires": [
            [
                "17a41593.f1dc9a",
                "62d19e84.6069c"
            ]
        ]
    },
    {
        "id": "17a41593.f1dc9a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='200'>\n",
        "comments": "",
        "outputs": 1,
        "x": 999.6875114440918,
        "y": 6073.9375985860825,
        "z": "455d609e.a0899",
        "wires": [
            [
                "8a9e0eb6.80d68"
            ]
        ]
    },
    {
        "id": "62d19e84.6069c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1015.6874961853027,
        "y": 6125.93747651577,
        "z": "455d609e.a0899",
        "wires": [
            [
                "159997f2.2688f8"
            ]
        ]
    },
    {
        "id": "8a9e0eb6.80d68",
        "type": "set",
        "name": "status",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"success\"/>",
        "comments": "",
        "x": 1175.6875114440918,
        "y": 6076.937751173973,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "159997f2.2688f8",
        "type": "set",
        "name": "failure status",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>",
        "comments": "",
        "x": 1176.6874961853027,
        "y": 6120.93747651577,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "347abf57.c6586",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Response code\"/>\n<parameter name=\"field2\" value=\"`$error-code`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4761.187740325928,
        "y": 4328.687505245209,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "fd3f01b9.bb34c",
        "type": "switchNode",
        "name": "check status",
        "xml": "<switch test='`$error-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4777.187740325928,
        "y": 4384.437505245209,
        "z": "455d609e.a0899",
        "wires": [
            [
                "8d7b3688.f05eb8",
                "bd428375.57883"
            ]
        ]
    },
    {
        "id": "8d7b3688.f05eb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='200'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4948.187511444092,
        "y": 4256.4375985860825,
        "z": "455d609e.a0899",
        "wires": [
            [
                "1f22b0df.ae5d1f"
            ]
        ]
    },
    {
        "id": "1f22b0df.ae5d1f",
        "type": "set",
        "name": "status",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"success\"/>",
        "comments": "",
        "x": 5124.187511444092,
        "y": 4259.437751173973,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "18ea5516.4e4a7b",
        "type": "set",
        "name": "failure status",
        "xml": "<set>\n<parameter name=\"tmp.status\" value=\"`$error-code`\"/>",
        "comments": "",
        "x": 5125.187496185303,
        "y": 4303.43747651577,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "bd428375.57883",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4964.187496185303,
        "y": 4308.43747651577,
        "z": "455d609e.a0899",
        "wires": [
            [
                "18ea5516.4e4a7b"
            ]
        ]
    },
    {
        "id": "296ccd1a.5f2632",
        "type": "block",
        "name": "Add sliceprofile NRTRIC",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 900.187557220459,
        "y": 2670.6875228881836,
        "z": "455d609e.a0899",
        "wires": [
            [
                "be745bd5.fc9fa8",
                "6c920616.94fb78",
                "2af12d7e.9360e2",
                "a7d614ea.b86ac8"
            ]
        ]
    },
    {
        "id": "2af12d7e.9360e2",
        "type": "switchNode",
        "name": "ransim mounted",
        "xml": "<switch test='`$prop.ransim-mounted`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1063.1880836486816,
        "y": 2575.343894958496,
        "z": "455d609e.a0899",
        "wires": [
            [
                "4c790ca0.7d6164",
                "383bfd8f.83b7b2"
            ]
        ]
    },
    {
        "id": "4c790ca0.7d6164",
        "type": "outcome",
        "name": "Not Mounted",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1253.1877365112305,
        "y": 2541.3435344696045,
        "z": "455d609e.a0899",
        "wires": [
            [
                "40329a4e.34df54"
            ]
        ]
    },
    {
        "id": "40329a4e.34df54",
        "type": "block",
        "name": "URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1414.3891677856445,
        "y": 2549.9426879882812,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d7f01fb7.9f2e8",
                "7cd781d6.adc87"
            ]
        ]
    },
    {
        "id": "d7f01fb7.9f2e8",
        "type": "execute",
        "name": "generate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addSliceProfile.ToNearRTRIC`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1714.1875610351562,
        "y": 2499.343854904175,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "7cd781d6.adc87",
        "type": "execute",
        "name": "Populate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{sliceProfileId}\"/>\n    <parameter name=\"replacement\" value=\"`$payloadJson.input.sliceProfile.sliceProfileId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1710.7224044799805,
        "y": 2535.942840576172,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "a56f001c.ec28e",
        "type": "execute",
        "name": "generate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.addSliceProfile.ToNearRTRIC.ransim-mounted`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{idNearRTRIC}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1780.7223434448242,
        "y": 2577.942886352539,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "b1a7c6d0.8cb008",
        "type": "execute",
        "name": "Populate addSliceProfile.ToNearRTRIC URL",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{sliceProfileId}\"/>\n    <parameter name=\"replacement\" value=\"`$payloadJson.input.sliceProfile.sliceProfileId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1792.257225036621,
        "y": 2622.5416946411133,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "a0cf7568.6ea458",
        "type": "execute",
        "name": "Populate MOUNT NAME",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.addSliceProfile.ToNearRTRIC.url\"/>\n    <parameter name=\"target\" value=\"{mountName}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.nearRTRICId`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1811.7226028442383,
        "y": 2662.942715615034,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "5fa90e9e.23c26",
        "type": "block",
        "name": "ransim  URL",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1447.1774368286133,
        "y": 2652.3435802459717,
        "z": "455d609e.a0899",
        "wires": [
            [
                "a56f001c.ec28e",
                "b1a7c6d0.8cb008",
                "a0cf7568.6ea458"
            ]
        ]
    },
    {
        "id": "383bfd8f.83b7b2",
        "type": "outcome",
        "name": "Mounted",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1242.1876983642578,
        "y": 2627.343605041504,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5fa90e9e.23c26"
            ]
        ]
    },
    {
        "id": "6c920616.94fb78",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Add SliceProfile ToNearRTRIC url:\"/>\n<parameter name=\"field2\" value=\"`$tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1139.1878509521484,
        "y": 2675.68758392334,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "be745bd5.fc9fa8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Setting variables for ADD SliceProfile ToNearRTRIC\"/>\n<parameter name=\"field2\" value=\"`$prop.controller.url + $tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n<parameter name=\"field3\" value=\"`$payloadJson.input.sliceProfile.sliceProfileId`\"/>\n<parameter name=\"field4\" value=\"`$payloadJson.input.sliceProfile.sNSSAI`\"/>\n<parameter name=\"field5\" value=\"`$payloadJson.input.sliceProfile.maxNumberofUEs`\"/>\n<parameter name=\"field6\" value=\"`$payloadJson.input.sliceProfile.latency`\"/>\n<parameter name=\"field7\" value=\"`$tmp.nearRTRIC.uLThptPerSlice`\"/>\n<parameter name=\"field8\" value=\"`$tmp.nearRTRIC.dLThptPerSlice`\"/>\n<parameter name=\"field9\" value=\"`$tmp.nearRTRIC.maxNumberOfConns`\"/>\n<parameter name=\"field10\" value=\"`$payloadJson.input.sliceProfile.uEMobilityLevel`\"/>\n<parameter name=\"field11\" value=\"`$tmp.trackingArea`\"/>\n<parameter name=\"field12\" value=\"`$payloadJson.input.sliceProfile.resourceSharingLevel`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1138.1883101463318,
        "y": 2720.6769647598267,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "a7d614ea.b86ac8",
        "type": "execute",
        "name": "add addSliceProfile.ToNearRTRIC using PUT",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/ranSlice-add-sliceProfile-NRRIC.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.controller.url + $tmp.restapi.addSliceProfile.ToNearRTRIC.url`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.controller.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"addSliceProfile-NRTRIC-response\"/>\n<parameter name='contentType' value='application/json' /> \n<parameter name='format' value='json' />",
        "comments": "",
        "outputs": 1,
        "x": 1215.1886444091797,
        "y": 2798.68758392334,
        "z": "455d609e.a0899",
        "wires": [
            [
                "86676ee.b38939",
                "6eaddaee.b08474"
            ]
        ]
    },
    {
        "id": "6eaddaee.b08474",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1530.1887168884277,
        "y": 2747.676836013794,
        "z": "455d609e.a0899",
        "wires": [
            [
                "d8968024.01be8"
            ]
        ]
    },
    {
        "id": "d8968024.01be8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1695.1873588562012,
        "y": 2766.6768572330475,
        "z": "455d609e.a0899",
        "wires": [
            [
                "5f559bd3.7ddec4"
            ]
        ]
    },
    {
        "id": "5f559bd3.7ddec4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/instantiateRANSlice.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"PLMNInfo List Entry Add to NRCELLCU Executed Successfully \"/>",
        "comments": "",
        "outputs": 1,
        "x": 1859.1881523132324,
        "y": 2759.677346467972,
        "z": "455d609e.a0899",
        "wires": [
            []
        ]
    },
    {
        "id": "8c221a18.366208",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error adding slice proficle to NearRTRIC\" />",
        "comments": "",
        "x": 1841.188289642334,
        "y": 2702.677141189575,
        "z": "455d609e.a0899",
        "wires": []
    },
    {
        "id": "f299a443.e9fe88",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1701.611385345459,
        "y": 2701.4982318878174,
        "z": "455d609e.a0899",
        "wires": [
            [
                "8c221a18.366208",
                "e1447331.ebd45"
            ]
        ]
    },
    {
        "id": "86676ee.b38939",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1585.1878623962402,
        "y": 2695.6769123077393,
        "z": "455d609e.a0899",
        "wires": [
            [
                "f299a443.e9fe88"
            ]
        ]
    }
]