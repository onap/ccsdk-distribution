[
    {
        "id": "20499edd.f863da",
        "type": "service-logic",
        "name": "A1-ADAPTER-API ${project.version}",
        "module": "A1-ADAPTER-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='A1-ADAPTER-API' version='${project.version}'>",
        "outputs": 1,
        "x": 213.3333282470703,
        "y": 160.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "9ebeb588.96328"
            ]
        ]
    },
    {
        "id": "9ebeb588.96328",
        "type": "method",
        "name": "method createPolicyInstance",
        "xml": "<method rpc='createPolicyInstance' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 200.3333282470703,
        "y": 229.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "aee5266a.2c6a6"
            ]
        ]
    },
    {
        "id": "115cb80e.c4fcc8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"A1 Adapter Create Policy Instance. RPC Parms:\"/>\n<parameter name=\"field2\" value=\"`$create-policy-instance-input.near-rt-ric-id`\"/>\n<parameter name=\"field3\" value=\"`$create-policy-instance-input.policy-type-id`\"/>\n<parameter name=\"field4\" value=\"`$create-policy-instance-input.policy-instance-id`\"/>\n<parameter name=\"field5\" value=\"A1 Adapter Create Policy Instance. Number of Policy Properties\"/>\n<parameter name=\"field6\" value=\"`$create-policy-instance-input.properties_length`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 522.3333282470703,
        "y": 92.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "aee5266a.2c6a6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 161.3333282470703,
        "y": 366.3333435058594,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "115cb80e.c4fcc8",
                "b3bb2aa6.469378",
                "7353b73f.51f3e",
                "c06fb2c8.e903d8",
                "2c6551bb.6122de",
                "f9957887.a4b718",
                "42ec9347.073d24"
            ]
        ]
    },
    {
        "id": "a2b055d3.d55468",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name='response-code' value='200' />\n<parameter name='response-message' value='A1 Adapter is healthy'/>\n<parameter name='health-status' value='200'/>\n<parameter name='ack-final' value='Y'/>\n",
        "comments": "",
        "x": 272.33332443237305,
        "y": 1293.333381652832,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "419637bf.6d8218",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 141.3333282470703,
        "y": 98.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "20499edd.f863da"
            ]
        ]
    },
    {
        "id": "b3bb2aa6.469378",
        "type": "for",
        "name": "for 0..properties_length",
        "xml": "<for index='idx' start='0' end='`$create-policy-instance-input.properties_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 575.3333282470703,
        "y": 218.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "54ec091a.53cb38"
            ]
        ]
    },
    {
        "id": "54ec091a.53cb38",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"A1 Adapter Create Policy Instance. Properties Name and Value\"/>\n<parameter name=\"field2\" value=\"`$idx`\"/>\n<parameter name=\"field3\" value=\"`$create-policy-instance-input.properties[$idx].property-name`\"/>\n<parameter name=\"field4\" value=\"`$create-policy-instance-input.properties[$idx].property-value`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 784.3333282470703,
        "y": 181.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "f2ff8c5e.dec2c",
        "type": "execute",
        "name": "execute TemplateNode",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.plugins.template.TemplateNode\" method=\"evaluateTemplate\" >\n    <parameter name='templatePath' value='a1-policy-instance-property-payload-template.vtl' />\n    <parameter name='output' value='restapi-payload' />\n    <parameter name='prefix' value='a1-mediator' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1261.333366394043,
        "y": 209.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "2f63943e.8a4224",
                "ef8110a4.f47388"
            ]
        ]
    },
    {
        "id": "2f63943e.8a4224",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1586.333366394043,
        "y": 149.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "6c21c127.bc723"
            ]
        ]
    },
    {
        "id": "6c21c127.bc723",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1777.333366394043,
        "y": 147.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "dd6e8e5d.859f"
            ]
        ]
    },
    {
        "id": "dd6e8e5d.859f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Redndred A1 Mediator RestAPI payload template as a string\"/>\n<parameter name='field3' value='`$a1-mediator.restapi-payload`' />",
        "comments": "",
        "outputs": 1,
        "x": 1956.333366394043,
        "y": 147.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "9af88c40.28fb98",
        "type": "execute",
        "name": "remove new lines",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replaceAll' >\n    <parameter name=\"source\" value=\"`$a1-mediator.restapi-payload`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.a1-mediator-restapi.payload\"/>\n    <parameter name=\"target\" value=\"\\n\"/>\n    <parameter name=\"replacement\" value=\"\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1207.833381652832,
        "y": 417.33334970474243,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "988fba8d.47b438",
                "59fedfdf.f2e3c"
            ]
        ]
    },
    {
        "id": "d69c419f.6de508",
        "type": "execute",
        "name": "remove tabs",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replaceAll' >\n    <parameter name=\"source\" value=\"`$tmp.a1-mediator-restapi.payload`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.a1-mediator-restapi.payload\"/>\n    <parameter name=\"target\" value=\"\\t\"/>\n    <parameter name=\"replacement\" value=\"\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1127.333381652832,
        "y": 602.3333415985107,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "d95df188.ac52a8",
                "364ca525.fd4fa2"
            ]
        ]
    },
    {
        "id": "d95df188.ac52a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1298.833381652832,
        "y": 615.3333415985107,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "f30b1edd.e7147"
            ]
        ]
    },
    {
        "id": "f30b1edd.e7147",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1475.833381652832,
        "y": 620.3333415985107,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "5cae0886.b6a368"
            ]
        ]
    },
    {
        "id": "5cae0886.b6a368",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Redndred template with tabs removed \\r\"/>\n<parameter name='field3' value='`$tmp.a1-mediator-restapi.payload`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1629.8333358764648,
        "y": 605.3333511352539,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "988fba8d.47b438",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1364.3334884643555,
        "y": 333.33335304260254,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "a71a57d.0d878a8"
            ]
        ]
    },
    {
        "id": "a71a57d.0d878a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1499.333641052246,
        "y": 403.3333854675293,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "39eb6069.83a93"
            ]
        ]
    },
    {
        "id": "39eb6069.83a93",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Redndred template with lines removed \\r\"/>\n<parameter name='field3' value='`$tmp.a1-mediator-restapi.payload`' />",
        "comments": "",
        "outputs": 1,
        "x": 1571.3335800170898,
        "y": 322.33334732055664,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "ef8110a4.f47388",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1568.333366394043,
        "y": 251.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "853272dd.a6108"
            ]
        ]
    },
    {
        "id": "853272dd.a6108",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1747.3332443237305,
        "y": 258.3333435058594,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "447d03fc.4d1ad4",
                "a7845683.4bbdd",
                "d82b1e98.3288a8"
            ]
        ]
    },
    {
        "id": "447d03fc.4d1ad4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"response-code\" value=\"500\" />\n<parameter name=\"response-message\" value=\"Error creating A1 Mediatory Rest API payload string. Aborting A1 Policy Instance creation\" />",
        "comments": "",
        "x": 1746.3330001831055,
        "y": 353.3333511352539,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "59fedfdf.f2e3c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1374.3334579467773,
        "y": 493.3333880007267,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "330576b7.30a402"
            ]
        ]
    },
    {
        "id": "330576b7.30a402",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1527.3333053588867,
        "y": 469.3333806991577,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "c6db737d.e6892",
                "53bfd952.669298",
                "d82b1e98.3288a8"
            ]
        ]
    },
    {
        "id": "c6db737d.e6892",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"response-code\" value=\"500\" />\n<parameter name=\"response-message\" value=\"Error removing lines from A1 Mediator Rest API payload string. Aborting A1 Policy creation\" />",
        "comments": "",
        "x": 1568.3330001831055,
        "y": 555.3333759307861,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "364ca525.fd4fa2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1303.333381652832,
        "y": 684.3333415985107,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "2f0993cd.79bce4"
            ]
        ]
    },
    {
        "id": "2f0993cd.79bce4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1479.3332138061523,
        "y": 702.3333358764648,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "43933373.753b9c",
                "eca05b54.e78ec8",
                "d82b1e98.3288a8"
            ]
        ]
    },
    {
        "id": "43933373.753b9c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"response-code\" value=\"500\" />\n<parameter name=\"response-message\" value=\"Error removing tabs from A1 Mediator Rest API payload string. Aborting A1 Policy creation\" />",
        "comments": "",
        "x": 1483.3329696655273,
        "y": 803.3333911895752,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "7ba9438d.bc52ac",
        "type": "block",
        "name": "A1 Mediator Payload Generation",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 937.3333435058594,
        "y": 333.3333387374878,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "f2ff8c5e.dec2c",
                "9af88c40.28fb98",
                "d69c419f.6de508"
            ]
        ]
    },
    {
        "id": "7353b73f.51f3e",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='/opt/onap/ccsdk/data/properties/a1-adapter-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 566.3333282470703,
        "y": 171.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "c06fb2c8.e903d8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Properties read .. A1 Mediator Target\"/>\n<parameter name=\"field2\" value=\"`$prop.oofpcipoc.patch.pci.target`\"/>\n<parameter name=\"field3\" value=\"`$prop.controller.user`\"/>\n<parameter name=\"field4\" value=\"`$prop.controller.pwd`\"/>\n<parameter name=\"field5\" value=\"`$prop.controller.url`\"/>\n<parameter name=\"field6\" value=\"A1 Mediator deployed (true/false): \"/>\n<parameter name=\"field7\" value=\"`$prop.ric-plt-A1Mediator-deployed`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 531.3333282470703,
        "y": 264.3333435058594,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "2c6551bb.6122de",
        "type": "switchNode",
        "name": "A1 Mediator Deployed",
        "xml": "<switch test='`$prop.ric-plt-A1Mediator-deployed`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 399.3333282470703,
        "y": 378.3333435058594,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "e6936f1.bab711",
                "c5cc0b63.250db8"
            ]
        ]
    },
    {
        "id": "e6936f1.bab711",
        "type": "outcome",
        "name": "Not Deployed",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 327.3333263397217,
        "y": 957.3335313796997,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "da435a9a.55cd1"
            ]
        ]
    },
    {
        "id": "c5cc0b63.250db8",
        "type": "outcome",
        "name": "Deployed",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 582.3333282470703,
        "y": 314.3334045410156,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "2d3f1a16.afdd4e"
            ]
        ]
    },
    {
        "id": "2d3f1a16.afdd4e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 647.3333282470703,
        "y": 388.3333435058594,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "7ba9438d.bc52ac",
                "2ec61301.29471c"
            ]
        ]
    },
    {
        "id": "16918846.9c1498",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"response-code\" value=\"500\" />\n<parameter name=\"response-message\" value=\"A1 Mediator Not Deployed. Aborting A1 Policy creation\" />",
        "comments": "",
        "x": 532.3330898284912,
        "y": 1104.3333902359009,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "eecea2b6.593698",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1066.3334197998047,
        "y": 870.3333826065063,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "934bdba2.13d0e8"
            ]
        ]
    },
    {
        "id": "b6c46372.beaad",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1072.3336029052734,
        "y": 955.3333673477173,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "e10a6ae9.50c1a"
            ]
        ]
    },
    {
        "id": "e10a6ae9.50c1a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1215.333236694336,
        "y": 935.3333826065063,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "8818a0e0.0a0be"
            ]
        ]
    },
    {
        "id": "72332766.f369a8",
        "type": "set",
        "name": "set tmp variables for input RPC parms",
        "xml": "<set>\n<parameter name=\"tmp.near-rt-ric-id\" value=\"`$create-policy-instance-input.near-rt-ric-id`\"/>\n<parameter name=\"tmp.policy-type-id\" value=\"`$create-policy-instance-input.policy-type-id`\"/>\n<parameter name=\"tmp.policy-instance-id\" value=\"`$create-policy-instance-input.policy-instance-id`\"/>",
        "comments": "",
        "x": 864.3343353271484,
        "y": 663.222466468811,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "1d93d5e7.091332",
        "type": "execute",
        "name": "Create A1 Policy Instance",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`'http://' + $get-health-check-input.host-ip-address + ':' + $prop.nearric.port + '/' + $tmp.restapi.policy-url`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"PUT\"/>\n<parameter name=\"responsePrefix\" value=\"a1MediatorRsp\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"requestBody\" value=\"`$tmp.a1-mediator-restapi.payload`\"/>\n<parameter name=\"convertResponse\" value=\"false\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 850.3337860107422,
        "y": 914.3437433242798,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "eecea2b6.593698",
                "b6c46372.beaad"
            ]
        ]
    },
    {
        "id": "1d15ed95.79b712",
        "type": "execute",
        "name": "generate A1 Mediator URL 1",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.policy`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.policy-url\"/>\n    <parameter name=\"target\" value=\"{policy_type_id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.policy-type-id`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 845.3334808349609,
        "y": 720.3438653945923,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "2ec61301.29471c",
        "type": "block",
        "name": "A1 Mediator RestAPI Invocation",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 538.3333549499512,
        "y": 814.3333911895752,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "393a478b.57d908",
                "72332766.f369a8",
                "1d15ed95.79b712",
                "e8346c8b.676348",
                "1d93d5e7.091332"
            ]
        ]
    },
    {
        "id": "e8346c8b.676348",
        "type": "execute",
        "name": "generate A1 Mediator URL 2",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.restapi.policy-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.restapi.policy-url\"/>\n    <parameter name=\"target\" value=\"{policy_instance_id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.policy-instance-id`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 859.3333587646484,
        "y": 760.3333673477173,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "393a478b.57d908",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Setting variables for A1 Adapter Create Policy Instance.\"/>\n<parameter name=\"field2\" value=\"`$tmp.near-rt-ric-id`\"/>\n<parameter name=\"field3\" value=\"`$tmp.policy-type-id`\"/>\n<parameter name=\"field4\" value=\"`$tmp.policy-instance-id`\"/>\n<parameter name=\"field5\" value=\"`$tmp.restapi.policy-url`\"/>\n<parameter name=\"field6\" value=\"`$a1-mediator.restapi-payload`\"/>\n<parameter name=\"field7\" value=\"Temporary A1 Mediatory Payload\"/>\n<parameter name=\"field8\" value=\"`$tmp.a1-mediator-restapi.payload`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 803.3333587646484,
        "y": 857.3333673477173,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "8818a0e0.0a0be",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"A1 Policy Instance Accepted.\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1384.3333587646484,
        "y": 936.3333826065063,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "934bdba2.13d0e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"response-code\" value=\"404\" />\n<parameter name=\"response-message\" value=\"Error creating A1 Policy Instance. Aborting A1 Policy creation\" />",
        "comments": "",
        "x": 1251.3333587646484,
        "y": 857.3333673477173,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "7a19e125.b275c",
        "type": "set",
        "name": "set A1Mediator payload manually",
        "xml": "<set>\n<parameter name=\"tmp.a1-mediator-restapi.payload\" value='{\"blocking_rate\": 20,\"enforce\": true,\"trigger_threshold\": 10,\"window_length\": 10}'/>",
        "comments": "",
        "x": 881.3333587646484,
        "y": 808.3333673477173,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "f9957887.a4b718",
        "type": "set",
        "name": "set default status value",
        "xml": "<set>\n<parameter name='response-code' value='200' />\n<parameter name='response-message' value='Successful execution of createPolicyInstance RPC' />",
        "comments": "",
        "x": 577.3333282470703,
        "y": 130.33334350585938,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "d82b1e98.3288a8",
        "type": "block",
        "name": "DMAAP Reponse Publish",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2144.087329864502,
        "y": 1088.3372616767883,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "31adc5.323e8a3c",
                "2a236e4a.7164e2",
                "e89a1b96.1c5b58"
            ]
        ]
    },
    {
        "id": "2a236e4a.7164e2",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' +  $prop.restapi.dmaap-publish-generic-response.template`\" />\n    <parameter name='restapiUrl' value=\"`$prop.dmaap-message-router.url + $prop.a1Adapter-dmaap-policy-response.topic`\" />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name='responsePrefix' value='dmaap' />",
        "comments": "",
        "outputs": 1,
        "x": 2446.0874977111816,
        "y": 1055.3366270065308,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "af47ac3b.f3ddf8",
                "ceb780a4.2ce47"
            ]
        ]
    },
    {
        "id": "31adc5.323e8a3c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='tmp.a1-adapter-api.rpc-name' value='createPolicyInstance'/>\n<parameter name='tmp.a1Adapter-dmaap-resp.status-code' value='`$response-code`'/>\n<parameter name='tmp.a1Adapter-dmaap-resp.status-value' value='`$response-message`'/>\n<parameter name='tmp.a1Policy-dmaap-resp.payload' value=\"None\" />",
        "comments": "",
        "x": 2426.7542457580566,
        "y": 769.3371601104736,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "af47ac3b.f3ddf8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2680.5874404907227,
        "y": 966.2539539337158,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "24d46c6c.913064"
            ]
        ]
    },
    {
        "id": "ceb780a4.2ce47",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2684.58736038208,
        "y": 1105.2537965774536,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "73717f5e.556d6"
            ]
        ]
    },
    {
        "id": "24d46c6c.913064",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2840.5872745513916,
        "y": 968.2539548873901,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "e41091b7.f3b19"
            ]
        ]
    },
    {
        "id": "e41091b7.f3b19",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"response-code\" value=\"500\" />\n<parameter name=\"response-message\" value=\"Error publishing DMAAP A1 Policy Response message. \" />",
        "comments": "",
        "x": 3026.5873107910156,
        "y": 961.2541570663452,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "73717f5e.556d6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2867.5870037078857,
        "y": 1098.2539052963257,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "aca4e046.f00e58"
            ]
        ]
    },
    {
        "id": "aca4e046.f00e58",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"DMAAP A1Policy message Successfully Published \"/>",
        "comments": "",
        "outputs": 1,
        "x": 3055.587203979492,
        "y": 1087.2541999816895,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "e89a1b96.1c5b58",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Before DMAAP Event - template file name, restapiURL\"/>\n<parameter name='field3' value=\"`$prop.restapi.templateDir + '/' +  $prop.restapi.dmaap-publish-generic-response.template`\" />\n<parameter name='field4' value=\"`$prop.dmaap-message-router.url + $prop.a1Adapter-dmaap-policy-response.topic`\" />\n<parameter name='field5' value=\"Status Code and Status Value to be published\" />\n<parameter name='field6' value=\"`$tmp.a1Adapter-dmaap-resp.status-code`\" />\n<parameter name='field7' value=\"`$tmp.a1Adapter-dmaap-resp.status-value`\" />\n<parameter name='field8' value=\"A1 Adapter DMAAP Response Payload Not Required\" />\n<parameter name='field9' value=\"`$tmp.a1Policy-dmaap-resp.payload`\" />\n<parameter name='field10' value=\"RPC Name\" />\n<parameter name='field11' value=\"`$tmp.a1-adapter-api.rpc-name`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2453.587345123291,
        "y": 922.7921619415283,
        "z": "fe87e385.bd86c8",
        "wires": [
            []
        ]
    },
    {
        "id": "da435a9a.55cd1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 406.3333110809326,
        "y": 1033.3334512710571,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "16918846.9c1498",
                "34b9b5c3.b05572",
                "d82b1e98.3288a8"
            ]
        ]
    },
    {
        "id": "34b9b5c3.b05572",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='response-code' value='500'/>\n<parameter name='response-message' value='A1 Mediator Not Deployed'/>\n",
        "comments": "",
        "x": 517.3372249603271,
        "y": 895.83726978302,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "a7845683.4bbdd",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='response-code' value='500'/>\n<parameter name='response-message' value='Error creating A1 Mediator Rest API payload string. Aborting A1 Policy Instance creation'/>",
        "comments": "",
        "x": 1939.337272644043,
        "y": 227.33725261688232,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "53bfd952.669298",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='response-code' value='500'/>\n<parameter name=\"response-message\" value=\"Error removing lines from A1 Mediator Rest API payload string. Aborting A1 Policy Instance creation\" />",
        "comments": "",
        "x": 1708.8371505737305,
        "y": 425.3372483253479,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "eca05b54.e78ec8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='response-code' value='500'/>\n<parameter name=\"response-message\" value=\"Error removing tabs from A1 Mediator Rest API payload string. Aborting A1 Policy Instance creation\" />",
        "comments": "",
        "x": 1653.8369979858398,
        "y": 672.3372640609741,
        "z": "fe87e385.bd86c8",
        "wires": []
    },
    {
        "id": "42ec9347.073d24",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 171.33723068237305,
        "y": 1199.3373641967773,
        "z": "fe87e385.bd86c8",
        "wires": [
            [
                "a2b055d3.d55468",
                "d82b1e98.3288a8"
            ]
        ]
    }
]