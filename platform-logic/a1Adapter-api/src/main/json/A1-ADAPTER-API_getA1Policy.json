[
    {
        "id": "10e97b34.bcf315",
        "type": "service-logic",
        "name": "A1-ADAPTER-API ${project.version}",
        "module": "A1-ADAPTER-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='A1-ADAPTER-API' version='${project.version}'>",
        "outputs": 1,
        "x": 166,
        "y": 257,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "34cf59af.6236f6"
            ]
        ]
    },
    {
        "id": "34cf59af.6236f6",
        "type": "method",
        "name": "method getA1Policy",
        "xml": "<method rpc='getA1Policy' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 225,
        "y": 378,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "d016778f.76d178"
            ]
        ]
    },
    {
        "id": "237a560f.9552ba",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Get A1 Policy:\"/>\n<parameter name=\"field2\" value=\"`$get-a1-policy-input.near-rt-ric-url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 686,
        "y": 179,
        "z": "f36dd077.0bd7e",
        "wires": [
            []
        ]
    },
    {
        "id": "d016778f.76d178",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 430,
        "y": 332,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "237a560f.9552ba",
                "88a7e3f8.aef34",
                "fa770c9c.fa8f4",
                "b82e4819.e59fa8",
                "3c47174a.181888"
            ]
        ]
    },
    {
        "id": "48fb0377.e5bbdc",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 97,
        "y": 194,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "10e97b34.bcf315"
            ]
        ]
    },
    {
        "id": "3c47174a.181888",
        "type": "set",
        "name": "set default status value",
        "xml": "<set>\n<parameter name='response-code' value='200' />\n<parameter name='response-message' value='Get A1 Policy executed successfully' />",
        "comments": "",
        "x": 730.0000610351562,
        "y": 247,
        "z": "f36dd077.0bd7e",
        "wires": []
    },
    {
        "id": "88a7e3f8.aef34",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='/opt/onap/ccsdk/data/properties/a1-adapter-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 729,
        "y": 300,
        "z": "f36dd077.0bd7e",
        "wires": [
            []
        ]
    },
    {
        "id": "b82e4819.e59fa8",
        "type": "block",
        "name": "A1 Mediator RestAPI Invocation",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 759.0001220703125,
        "y": 384,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "8c55c732.d89748",
                "ad49f33b.d3377",
                "8027c342.f7a8",
                "fcd99fa2.71eae"
            ]
        ]
    },
    {
        "id": "ad49f33b.d3377",
        "type": "set",
        "name": "set tmp variables for A1 Mediator REST API call",
        "xml": "<set>\n<parameter name=\"tmp.near-rt-ric-url\" value=\"`$get-a1-policy-input.near-rt-ric-url`\"/>\n<parameter name=\"tmp.proxy-url\" value=\"`$prop.a1Mediator.proxy.url`\"/>",
        "comments": "",
        "x": 1138.00146484375,
        "y": 256.8891296386719,
        "z": "f36dd077.0bd7e",
        "wires": []
    },
    {
        "id": "8c55c732.d89748",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Setting variables for A1 Adapter Get Policy Instance.\"/>\n<parameter name=\"field2\" value=\"`$tmp.near-rt-ric-url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1019.0001220703125,
        "y": 456,
        "z": "f36dd077.0bd7e",
        "wires": [
            []
        ]
    },
    {
        "id": "8027c342.f7a8",
        "type": "execute",
        "name": "Get Policy Instance",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$tmp.near-rt-ric-url`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"a1MediatorRsp\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"false\"/>\n<parameter name=\"proxyUrl\" value=\"`$tmp.proxy-url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1048.0006103515625,
        "y": 531.0104064941406,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "9897b12a.32ced",
                "e71419ff.61bbb8"
            ]
        ]
    },
    {
        "id": "9897b12a.32ced",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1258,
        "y": 629.0001220703125,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "1c9ae028.670bf"
            ]
        ]
    },
    {
        "id": "e71419ff.61bbb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1265.000244140625,
        "y": 530.0000305175781,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "afc5b777.009a08"
            ]
        ]
    },
    {
        "id": "f3898b18.20aed8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='response-code' value='`$a1MediatorRsp.response-code`'/>\n<parameter name='response-message' value='`$a1MediatorRsp.response-message`'/>",
        "comments": "",
        "x": 1582.0006103515625,
        "y": 739.0000610351562,
        "z": "f36dd077.0bd7e",
        "wires": []
    },
    {
        "id": "afc5b777.009a08",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1421.9998779296875,
        "y": 529.0000610351562,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "9ba38f90.43984",
                "5c8a496b.1d4158",
                "7164a263.76f1bc"
            ]
        ]
    },
    {
        "id": "9ba38f90.43984",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"A1 Get Policy Information \"/>\n<parameter name=\"field2\" value=\"`$tmp.a1-mediator-restapi.httpResponse`\"/>\n<parameter name='field3' value='`$a1MediatorRsp.response-code`'/>\n<parameter name='field4' value='`$a1MediatorRsp.response-message`'/>",
        "comments": "",
        "outputs": 1,
        "x": 1573,
        "y": 527,
        "z": "f36dd077.0bd7e",
        "wires": [
            []
        ]
    },
    {
        "id": "2fae5a38.614356",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='response-code' value='`$a1MediatorRsp.response-code`'/>\n<parameter name='response-message' value='`$a1MediatorRsp.response-message`'/>",
        "comments": "",
        "x": 1572.75390625,
        "y": 655.00390625,
        "z": "f36dd077.0bd7e",
        "wires": []
    },
    {
        "id": "fa770c9c.fa8f4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 692.75390625,
        "y": 556.00390625,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "f52c3841.f4dc38"
            ]
        ]
    },
    {
        "id": "f52c3841.f4dc38",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name='response-code' value='200' />\n<parameter name='response-message' value='Get PolicyInstance executed successfully'/>\n<parameter name='ack-final' value='Y'/>\n",
        "comments": "",
        "x": 853.7539672851562,
        "y": 556.0039672851562,
        "z": "f36dd077.0bd7e",
        "wires": []
    },
    {
        "id": "1c9ae028.670bf",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1418.00390625,
        "y": 693.00390625,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "2fae5a38.614356",
                "f3898b18.20aed8"
            ]
        ]
    },
    {
        "id": "5c8a496b.1d4158",
        "type": "execute",
        "name": "set",
        "xml": "<set>\n<parameter name='responseBody' value='`$tmp.a1-mediator-restapi.httpResponse`'/>\n<parameter name='response-code' value='`$a1MediatorRsp.response-code`'/>\n<parameter name='response-message' value='`$a1MediatorRsp.response-message`'/>",
        "comments": "",
        "outputs": 1,
        "x": 1573,
        "y": 572,
        "z": "f36dd077.0bd7e",
        "wires": [
            []
        ]
    },
    {
        "id": "7164a263.76f1bc",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replaceAll' >\n    <parameter name=\"source\" value=\"`$a1MediatorRsp.httpResponse`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.a1-mediator-restapi.httpResponse\"/>\n    <parameter name=\"target\" value=\"\\n\"/>\n    <parameter name=\"replacement\" value=\"\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1578,
        "y": 478,
        "z": "f36dd077.0bd7e",
        "wires": [
            []
        ]
    },
    {
        "id": "fcd99fa2.71eae",
        "type": "block",
        "name": "block check if proxy address is available",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1132,
        "y": 329,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "682992.2dd0967"
            ]
        ]
    },
    {
        "id": "74ebffed.36e5d",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"A1 Get Policy Information: Proxy url: \"/>\n<parameter name=\"field2\" value=\"`$tmp.proxy-url`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1751,
        "y": 360,
        "z": "f36dd077.0bd7e",
        "wires": [
            []
        ]
    },
    {
        "id": "682992.2dd0967",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$tmp.proxy-url`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1419,
        "y": 327,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "1ffdd50c.057bdb",
                "dcf5e334.20da6"
            ]
        ]
    },
    {
        "id": "1ffdd50c.057bdb",
        "type": "outcome",
        "name": "No proxy URL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1598,
        "y": 293,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "5af6fc8b.6b28b4"
            ]
        ]
    },
    {
        "id": "5af6fc8b.6b28b4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"A1 Get Policy Information: No proxy found on properties file \"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1766,
        "y": 293,
        "z": "f36dd077.0bd7e",
        "wires": [
            []
        ]
    },
    {
        "id": "dcf5e334.20da6",
        "type": "outcome",
        "name": "Otherwise",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1594,
        "y": 361,
        "z": "f36dd077.0bd7e",
        "wires": [
            [
                "74ebffed.36e5d"
            ]
        ]
    }
]