[
    {
        "id": "7c350fad.38b66",
        "type": "service-logic",
        "name": "A1-ADAPTER-API ${project.version}",
        "module": "A1-ADAPTER-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='A1-ADAPTER-API' version='${project.version}'>",
        "outputs": 1,
        "x": 177,
        "y": 218,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "19b27448.2b723c"
            ]
        ]
    },
    {
        "id": "19b27448.2b723c",
        "type": "method",
        "name": "method getA1PolicyStatus",
        "xml": "<method rpc='getA1PolicyStatus' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 236,
        "y": 339,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "310cf291.4f5d3e"
            ]
        ]
    },
    {
        "id": "83efabcd.4dd618",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Get A1 Policy Status:\"/>\n<parameter name=\"field2\" value=\"`$get-a1-policy-status-input.near-rt-ric-url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 700,
        "y": 153,
        "z": "4625f4a8.985c2c",
        "wires": [
            []
        ]
    },
    {
        "id": "310cf291.4f5d3e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 441,
        "y": 293,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "83efabcd.4dd618",
                "9d749d26.ebe4a",
                "ddb1f38.9ac071",
                "2570c18d.2d6dee",
                "7e2d427e.fb9bbc"
            ]
        ]
    },
    {
        "id": "701d74fb.dfe40c",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 108,
        "y": 155,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "7c350fad.38b66"
            ]
        ]
    },
    {
        "id": "7e2d427e.fb9bbc",
        "type": "set",
        "name": "set default status value",
        "xml": "<set>\n<parameter name='response-code' value='200' />\n<parameter name='response-message' value='Get A1 Policy executed successfully' />",
        "comments": "",
        "x": 741.0000610351562,
        "y": 208,
        "z": "4625f4a8.985c2c",
        "wires": []
    },
    {
        "id": "9d749d26.ebe4a",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='/opt/onap/ccsdk/data/properties/a1-adapter-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 740,
        "y": 261,
        "z": "4625f4a8.985c2c",
        "wires": [
            []
        ]
    },
    {
        "id": "2570c18d.2d6dee",
        "type": "block",
        "name": "A1 Mediator RestAPI Invocation",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 770.0001220703125,
        "y": 345,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "1d60f60b.a9b00a",
                "3d73b30b.b1f39c",
                "88733351.38598",
                "e804fc09.010ed"
            ]
        ]
    },
    {
        "id": "3d73b30b.b1f39c",
        "type": "set",
        "name": "set tmp variables for A1 Mediator REST API call",
        "xml": "<set>\n<parameter name=\"tmp.near-rt-ric-url\" value=\"`$get-a1-policy-status-input.near-rt-ric-url`\"/>\n<parameter name=\"tmp.proxy-url\" value=\"`$prop.a1Mediator.proxy.url`\"/>",
        "comments": "",
        "x": 1143.00146484375,
        "y": 242.88912963867188,
        "z": "4625f4a8.985c2c",
        "wires": []
    },
    {
        "id": "1d60f60b.a9b00a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Setting variables for A1 Adapter Get Policy Status.\"/>\n<parameter name=\"field2\" value=\"`$tmp.near-rt-ric-url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1020.0001220703125,
        "y": 421,
        "z": "4625f4a8.985c2c",
        "wires": [
            []
        ]
    },
    {
        "id": "88733351.38598",
        "type": "execute",
        "name": "Get Policy Instance Status",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$tmp.near-rt-ric-url`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"a1MediatorRsp\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>\n<parameter name=\"proxyUrl\" value=\"`$tmp.proxy-url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1084.0006103515625,
        "y": 549.0103759765625,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "d2d7b31.70bc05",
                "819e4409.feff38"
            ]
        ]
    },
    {
        "id": "d2d7b31.70bc05",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1308,
        "y": 629.0001220703125,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "84aea1ff.acb6c"
            ]
        ]
    },
    {
        "id": "819e4409.feff38",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1312.000244140625,
        "y": 475.0000305175781,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "c9d3e245.debc5"
            ]
        ]
    },
    {
        "id": "6a999bcc.eb2b74",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='response-code' value='`$a1MediatorRsp.response-code`'/>\n<parameter name='response-message' value='`$a1MediatorRsp.response-message`'/>",
        "comments": "",
        "x": 1615.0006103515625,
        "y": 684.0000610351562,
        "z": "4625f4a8.985c2c",
        "wires": []
    },
    {
        "id": "c9d3e245.debc5",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1455.9998779296875,
        "y": 475.00006103515625,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "1154b965.2bce37",
                "4a098571.4acf5c",
                "ce829e00.7d38f"
            ]
        ]
    },
    {
        "id": "1154b965.2bce37",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"A1 Get Policy Status \"/>\n<parameter name=\"field2\" value=\"`$tmp.a1-mediator-restapi.httpResponse`\"/>\n<parameter name='field3' value='`$a1MediatorRsp.response-code`'/>\n<parameter name='field4' value='`$a1MediatorRsp.response-message`'/>",
        "comments": "",
        "outputs": 1,
        "x": 1617,
        "y": 474,
        "z": "4625f4a8.985c2c",
        "wires": [
            []
        ]
    },
    {
        "id": "875ba0c0.31d41",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='response-code' value='`$a1MediatorRsp.response-code`'/>\n<parameter name='response-message' value='`$a1MediatorRsp.response-message`'/>\n",
        "comments": "",
        "x": 1588.75390625,
        "y": 577.00390625,
        "z": "4625f4a8.985c2c",
        "wires": []
    },
    {
        "id": "ddb1f38.9ac071",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 703.75390625,
        "y": 565.00390625,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "76ed31f9.64a93"
            ]
        ]
    },
    {
        "id": "76ed31f9.64a93",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name='response-code' value='200' />\n<parameter name='response-message' value='Get Policy Status executed successfully'/>\n<parameter name='ack-final' value='Y'/>\n",
        "comments": "",
        "x": 864.7539672851562,
        "y": 565.0039672851562,
        "z": "4625f4a8.985c2c",
        "wires": []
    },
    {
        "id": "84aea1ff.acb6c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1447.00390625,
        "y": 629.0039367675781,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "875ba0c0.31d41",
                "6a999bcc.eb2b74"
            ]
        ]
    },
    {
        "id": "4a098571.4acf5c",
        "type": "execute",
        "name": "set",
        "xml": "<set>\n<parameter name='responseBody' value='`$tmp.a1-mediator-restapi.httpResponse`'/>\n<parameter name='response-code' value='`$a1MediatorRsp.response-code`'/>\n<parameter name='response-message' value='`$a1MediatorRsp.response-message`'/>",
        "comments": "",
        "outputs": 1,
        "x": 1619,
        "y": 525,
        "z": "4625f4a8.985c2c",
        "wires": [
            []
        ]
    },
    {
        "id": "ce829e00.7d38f",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replaceAll' >\n    <parameter name=\"source\" value=\"`$a1MediatorRsp.httpResponse`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.a1-mediator-restapi.httpResponse\"/>\n    <parameter name=\"target\" value=\"\\n\"/>\n    <parameter name=\"replacement\" value=\"\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1621,
        "y": 431,
        "z": "4625f4a8.985c2c",
        "wires": [
            []
        ]
    },
    {
        "id": "5fb0527b.74655c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Get A1 Policy Status: No proxy found on properties file \"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1796,
        "y": 290,
        "z": "4625f4a8.985c2c",
        "wires": [
            []
        ]
    },
    {
        "id": "aa63c9cd.555b38",
        "type": "outcome",
        "name": "Otherwise",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1624,
        "y": 358,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "2a68aa17.88a926"
            ]
        ]
    },
    {
        "id": "337f8172.242f2e",
        "type": "outcome",
        "name": "No proxy URL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1628,
        "y": 290,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "5fb0527b.74655c"
            ]
        ]
    },
    {
        "id": "124eb317.931f9d",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$tmp.proxy-url`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1449,
        "y": 324,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "337f8172.242f2e",
                "aa63c9cd.555b38"
            ]
        ]
    },
    {
        "id": "2a68aa17.88a926",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Get A1 Policy Status: Proxy url: \"/>\n<parameter name=\"field2\" value=\"`$tmp.proxy-url`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1778,
        "y": 359,
        "z": "4625f4a8.985c2c",
        "wires": [
            []
        ]
    },
    {
        "id": "e804fc09.010ed",
        "type": "block",
        "name": "block check if proxy address is available",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1122,
        "y": 326,
        "z": "4625f4a8.985c2c",
        "wires": [
            [
                "124eb317.931f9d"
            ]
        ]
    }
]