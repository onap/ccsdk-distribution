[
    {
        "id": "6067cd4e.304ae4",
        "type": "service-logic",
        "name": "A1-ADAPTER-API ${project.version}",
        "module": "A1-ADAPTER-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='A1-ADAPTER-API' version='${project.version}'>",
        "outputs": 1,
        "x": 185,
        "y": 89,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "70ed549c.b5d70c"
            ]
        ]
    },
    {
        "id": "70ed549c.b5d70c",
        "type": "method",
        "name": "method getPolicyTypes",
        "xml": "<method rpc='getPolicyTypes' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 246,
        "y": 209,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "91bd15a2.424a98"
            ]
        ]
    },
    {
        "id": "31ba6243.302d2e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Get All Policy Types from Near RT RIC ID\"/>\n<parameter name=\"field2\" value=\"`$get-policy-types-input.near-rt-ric-id`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 710,
        "y": 24,
        "z": "5e99e485.2d389c",
        "wires": [
            []
        ]
    },
    {
        "id": "91bd15a2.424a98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 451,
        "y": 163,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "31ba6243.302d2e",
                "31915871.748968",
                "58b6b3e3.593f7c",
                "19d73ae2.c7f4a5",
                "673d4b76.d5ea84"
            ]
        ]
    },
    {
        "id": "987f4471.584818",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 118,
        "y": 25,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "6067cd4e.304ae4"
            ]
        ]
    },
    {
        "id": "31915871.748968",
        "type": "set",
        "name": "set default status value",
        "xml": "<set>\n<parameter name='response-code' value='200' />\n<parameter name='response-message' value='getPolicyTypes executed successfully' />",
        "comments": "",
        "x": 751.0000610351562,
        "y": 79,
        "z": "5e99e485.2d389c",
        "wires": []
    },
    {
        "id": "58b6b3e3.593f7c",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='/opt/onap/ccsdk/data/properties/a1-adapter-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 750,
        "y": 131,
        "z": "5e99e485.2d389c",
        "wires": [
            []
        ]
    },
    {
        "id": "19d73ae2.c7f4a5",
        "type": "switchNode",
        "name": "A1 Mediator Deployed",
        "xml": "<switch test='`$prop.ric-plt-A1Mediator-deployed`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 700,
        "y": 187,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "19811b4a.acaa95",
                "fc6bbd7a.17bdd"
            ]
        ]
    },
    {
        "id": "fc6bbd7a.17bdd",
        "type": "outcome",
        "name": "Deployed",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 984.0000457763672,
        "y": 47.000065326690674,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "4109ed4a.292674"
            ]
        ]
    },
    {
        "id": "4109ed4a.292674",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 961.0000953674316,
        "y": 193.00001764297485,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "86b25e24.27ef5"
            ]
        ]
    },
    {
        "id": "19811b4a.acaa95",
        "type": "outcome",
        "name": "Not Deployed",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 937.0000686645508,
        "y": 482.0000615119934,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "6d6ae46c.57116c"
            ]
        ]
    },
    {
        "id": "6d6ae46c.57116c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1152.0001068115234,
        "y": 611.0000143051147,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "fa0fa11d.ceb9",
                "4fef8f1a.599d4",
                "287f4673.477b1a"
            ]
        ]
    },
    {
        "id": "fa0fa11d.ceb9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"response-code\" value=\"500\" />\n<parameter name=\"response-message\" value=\"Error in Getting A1 Policy Types. Aborting\" />",
        "comments": "",
        "x": 1276.9998626708984,
        "y": 691.9999988079071,
        "z": "5e99e485.2d389c",
        "wires": []
    },
    {
        "id": "86b25e24.27ef5",
        "type": "block",
        "name": "A1 Mediator RestAPI Invocation",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1156.0001220703125,
        "y": 305,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "f9fbf240.fa61f",
                "5f33ee47.bd2a1",
                "609ca78d.4934f8"
            ]
        ]
    },
    {
        "id": "5f33ee47.bd2a1",
        "type": "set",
        "name": "set tmp variables for A1 Mediator REST API call",
        "xml": "<set>\n<parameter name=\"tmp.near-rt-ric-id\" value=\"`$get-policy-types-input.near-rt-ric-id`\"/>\n<parameter name=\"tmp.restapi.getPolicyTypes-url\" value=\"`$prop.restapi.policytypes`\"/>",
        "comments": "",
        "x": 1525.001377105713,
        "y": 238.88912391662598,
        "z": "5e99e485.2d389c",
        "wires": []
    },
    {
        "id": "f9fbf240.fa61f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Setting variables for A1 Adapter Get Policy Types.\"/>\n<parameter name=\"field2\" value=\"`$tmp.near-rt-ric-id`\"/>\n<parameter name=\"field3\" value=\"`$tmp.restapi.getPolicyTypes-url`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1414.0000305175781,
        "y": 292.00000286102295,
        "z": "5e99e485.2d389c",
        "wires": [
            []
        ]
    },
    {
        "id": "609ca78d.4934f8",
        "type": "execute",
        "name": "Get Policy Types",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.a1Mediator.url + '/' + $tmp.restapi.getPolicyTypes-url`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"a1MediatorRsp\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='accept' value='application/json' />\n<parameter name=\"convertResponse\" value=\"true\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1453.0006103515625,
        "y": 377.0103759765625,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "bdaa1249.dc6c4",
                "9810268a.b5ebc8"
            ]
        ]
    },
    {
        "id": "bdaa1249.dc6c4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1408.0000305175781,
        "y": 455.00011348724365,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "b9f104a6.8bd438"
            ]
        ]
    },
    {
        "id": "9810268a.b5ebc8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1652.0002746582031,
        "y": 326.0000219345093,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "31d1df15.23aae"
            ]
        ]
    },
    {
        "id": "23eb1a0d.7e8d46",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"response-code\" value=\"500\" />\n<parameter name=\"response-message\" value=\"Error in Getting A1 Policy Types. Aborting\" />",
        "comments": "",
        "x": 1568.0006103515625,
        "y": 562.0000829696655,
        "z": "5e99e485.2d389c",
        "wires": []
    },
    {
        "id": "31d1df15.23aae",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1801.9998798370361,
        "y": 290.00005197525024,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "f2eaf7c1.ad8c98",
                "87eb9f5d.78ef7",
                "2c6137d1.211508",
                "3ff97da4.fc2632"
            ]
        ]
    },
    {
        "id": "f2eaf7c1.ad8c98",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"List of A1 Policy Types: \"/>\n<parameter name=\"field2\" value=\"`$a1MediatorRsp._length`\"/>\n<parameter name=\"field3\" value=\"`$a1MediatorRsp.httpResponse`\"/>\n<parameter name=\"field4\" value=\"`$a1MediatorRsp.response-code`\"/>\n<parameter name=\"field5\" value='`$a1MediatorRsp._length`' />\n<parameter name=\"field6\" value='`$a1-mediator.policiesList`' />\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1980,
        "y": 283,
        "z": "5e99e485.2d389c",
        "wires": [
            []
        ]
    },
    {
        "id": "4fef8f1a.599d4",
        "type": "block",
        "name": "DMAAP Reponse Publish",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1938.0001220703125,
        "y": 659.0001516342163,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "a2679af6.639ab8",
                "968b7857.8630b8",
                "be33abf4.cf9ec8"
            ]
        ]
    },
    {
        "id": "968b7857.8630b8",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' +  $prop.restapi.dmaap-publish-generic-response.template`\" />\n    <parameter name='restapiUrl' value=\"`$prop.dmaap-message-router.url + $prop.a1Adapter-dmaap-policy-response.topic`\" />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name='responsePrefix' value='dmaap' />",
        "comments": "",
        "outputs": 1,
        "x": 2295.000244140625,
        "y": 843.9995727539062,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "83072b70.549ff8",
                "649a948c.8fd06c"
            ]
        ]
    },
    {
        "id": "a2679af6.639ab8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='tmp.a1-adapter-api.rpc-name' value='getPolicyTypes'/>\n<parameter name='tmp.a1Adapter-dmaap-resp.status-code' value='`$response-code`'/>\n<parameter name='tmp.a1Adapter-dmaap-resp.status-value' value='`$response-message`'/>\n<parameter name='tmp.a1Policy-dmaap-resp.payload' value='`$a1-mediator.policiesList`'  />",
        "comments": "",
        "x": 2276.6669921875,
        "y": 629.0001220703125,
        "z": "5e99e485.2d389c",
        "wires": []
    },
    {
        "id": "83072b70.549ff8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2502.5002059936523,
        "y": 759.9168601036072,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "c3f33449.19fdb8"
            ]
        ]
    },
    {
        "id": "649a948c.8fd06c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2506.5001258850098,
        "y": 898.916702747345,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "eb0e78e3.be81d8"
            ]
        ]
    },
    {
        "id": "c3f33449.19fdb8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2662.5000400543213,
        "y": 761.9168610572815,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "5929c9fd.274ba8"
            ]
        ]
    },
    {
        "id": "5929c9fd.274ba8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"response-code\" value=\"500\" />\n<parameter name=\"response-message\" value=\"Error publishing DMAAP A1 Policy Response message. \" />",
        "comments": "",
        "x": 2844.499771118164,
        "y": 752.9169368743896,
        "z": "5e99e485.2d389c",
        "wires": []
    },
    {
        "id": "eb0e78e3.be81d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2689.4997692108154,
        "y": 891.916811466217,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "af7b183b.0a64f8"
            ]
        ]
    },
    {
        "id": "af7b183b.0a64f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"DMAAP A1Policy message Successfully Published \"/>",
        "comments": "",
        "outputs": 1,
        "x": 2875.4999237060547,
        "y": 879.9171352386475,
        "z": "5e99e485.2d389c",
        "wires": [
            []
        ]
    },
    {
        "id": "be33abf4.cf9ec8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Before DMAAP Event - template file name, restapiURL\"/>\n<parameter name='field3' value=\"`$prop.restapi.templateDir + '/' +  $prop.restapi.dmaap-publish-generic-response.template`\" />\n<parameter name='field4' value=\"`$prop.dmaap-message-router.url + $prop.a1Adapter-dmaap-policy-response.topic`\" />\n<parameter name='field5' value=\"Status Code and Status Value to be published\" />\n<parameter name='field6' value=\"`$tmp.a1Adapter-dmaap-resp.status-code`\" />\n<parameter name='field7' value=\"`$tmp.a1Adapter-dmaap-resp.status-value`\" />\n<parameter name='field8' value=\"A1 Adapter DMAAP Response Payload\" />\n<parameter name='field9' value=\"`$tmp.a1Policy-dmaap-resp.payload`\" />\n<parameter name='field10' value=\"RPC Name\" />\n<parameter name='field11' value=\"`$tmp.a1-adapter-api.rpc-name`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2286.500244140625,
        "y": 721.455078125,
        "z": "5e99e485.2d389c",
        "wires": [
            []
        ]
    },
    {
        "id": "287f4673.477b1a",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='response-code' value='500'/>\n<parameter name='response-message' value='A1 Mediator Not Deployed'/>\n",
        "comments": "",
        "x": 1353.0001525878906,
        "y": 544.0000214576721,
        "z": "5e99e485.2d389c",
        "wires": []
    },
    {
        "id": "f45cf0c4.2c4fe",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='response-code' value='500'/>\n<parameter name='response-message' value='Seems A1 Mediator Not Healthy'/>\n",
        "comments": "",
        "x": 1727.753963470459,
        "y": 391.00389766693115,
        "z": "5e99e485.2d389c",
        "wires": []
    },
    {
        "id": "673d4b76.d5ea84",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 693.7538948059082,
        "y": 801.0039358139038,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "8deed83d.906568",
                "4fef8f1a.599d4"
            ]
        ]
    },
    {
        "id": "8deed83d.906568",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name='response-code' value='200' />\n<parameter name='response-message' value='A1 Adapter is healthy'/>\n<parameter name='health-status' value='200'/>\n<parameter name='ack-final' value='Y'/>\n",
        "comments": "",
        "x": 845.7539672851562,
        "y": 885.00390625,
        "z": "5e99e485.2d389c",
        "wires": []
    },
    {
        "id": "b9f104a6.8bd438",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1554.0038719177246,
        "y": 458.0039281845093,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "f45cf0c4.2c4fe",
                "4fef8f1a.599d4",
                "23eb1a0d.7e8d46"
            ]
        ]
    },
    {
        "id": "87eb9f5d.78ef7",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/opt/opendaylight/current/data/log/A1-Adapter-getPolicytype-context.log' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2006,
        "y": 219,
        "z": "5e99e485.2d389c",
        "wires": [
            []
        ]
    },
    {
        "id": "2c6137d1.211508",
        "type": "execute",
        "name": "execute jsonStringToCtx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='jsonStringToCtx'>\n\t<parameter name='source' value='a1MediatorRsp.httpResponse' />\n\t<parameter name='outputPath' value='a1MediatorList' />\n\t<parameter name='isEscaped' value='false' />",
        "comments": "",
        "outputs": 1,
        "x": 1956,
        "y": 111,
        "z": "5e99e485.2d389c",
        "wires": [
            []
        ]
    },
    {
        "id": "3ff97da4.fc2632",
        "type": "execute",
        "name": "execute TemplateNode",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.plugins.template.TemplateNode\" method=\"evaluateTemplate\" >\n    <parameter name='templatePath' value='a1Mediator-get-policies.vtl' />\n    <parameter name='output' value='policiesList' />\n    <parameter name='prefix' value='a1-mediator' />",
        "comments": "",
        "outputs": 1,
        "x": 2008,
        "y": 164,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "4f1ae297.8f552c"
            ]
        ]
    },
    {
        "id": "4f1ae297.8f552c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2249,
        "y": 170,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "200dc8d5.ba2168"
            ]
        ]
    },
    {
        "id": "200dc8d5.ba2168",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2428,
        "y": 176,
        "z": "5e99e485.2d389c",
        "wires": [
            [
                "a127ad59.e337"
            ]
        ]
    },
    {
        "id": "a127ad59.e337",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/A1-Adapter.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"A1 Policies List\"/>\n<parameter name='field3' value='`$a1-mediator.policiesList`' />",
        "comments": "",
        "outputs": 1,
        "x": 2617,
        "y": 179,
        "z": "5e99e485.2d389c",
        "wires": [
            []
        ]
    }
]